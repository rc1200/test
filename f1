select * from pay003USE [CISPROD]
GO
/****** Object:  StoredProcedure [ADVANCED].[AccountType]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[AccountType]
(  
 @lccustomer   VARCHAR(15),  
 @lcaccount   VARCHAR(15),  
 @retAccountType   VARCHAR(2) OUTPUT  
  
)  
AS  

SET NOCOUNT ON
DECLARE @cCustomer  VARCHAR(15), @cAccount   VARCHAR(15), @cAcctType  VARCHAR(2)  
 
BEGIN  
 SELECT @cCustomer=@lcCustomer, @cAccount=@lcAccount ,  @cAcctType ='  '
 
SELECT @cAcctType=a.C_AccountType FROM (SELECT TOP 1 (case B.C_SYSTEMACCOUNTTYPE when 'R' then 'RE' else 'CO' end) as C_AccountType  
       FROM ADVANCED.BIF003 A INNER JOIN ADVANCED.CON013 B  ON (A.C_ACCOUNTTYPE=B.C_ACCOUNTTYPE) 
      WHERE A.C_CUSTOMER=@cCustomer  AND A.C_ACCOUNT=@cAccount) a

SET @retAccountType=@cAcctType  
          
END

--SVN last revision and last change date
--$Revision: 70180 $ $LastChangedDate: 2019-03-15 16:50:18 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ADDAUDITLOG]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ADDAUDITLOG]
	@customer			VARCHAR(15),
	@account			VARCHAR(15),
	@table				VARCHAR(15),
	@userName			VARCHAR(50),
	@field				VARCHAR(20),
	@dataType			VARCHAR(1),
	@oldData			VARCHAR(50),
	@rtnvalue			SMALLINT	OUTPUT

AS
	SET NOCOUNT ON
	DECLARE  
	@lnFlag				SMALLINT,
    @rtnvalue2			DECIMAL(15,0),
    @pap001pk	int = 0,  
    @sys200Record int = 0,
    @newKey			int =0,
    @plantype CHAR(2),
    @rtnvalue3			SMALLINT,
    @addAuditLog	BIT = 0

 --this stored procedure is not being tested properly, so I am making not to use now
	if(@addAuditLog = 1) 
	
	BEGIN
	EXEC ADVANCED.VALIDATEACCOUNT @account,@lnFlag OUTPUT
	
	IF @lnFlag = 1
	BEGIN
		
		IF @lnFlag = 1
		BEGIN
			EXEC ADVANCED.VALIDATECUSTOMER @customer,@lnFlag OUTPUT
	     IF @lnFlag = 1
			BEGIN
			 
			 IF(@table = 'PAP001')
			 BEGIN
			    SELECT top 1 @pap001pk = I_PAP001PK,@planType = PAP001.C_PLANTYPE 
                FROM ADVANCED.PAP001 
                INNER JOIN ADVANCED.PAP002 ON PAP002.C_PLANTYPE = PAP001.C_PLANTYPE 
                WHERE PAP001.C_CUSTOMER = @customer AND PAP001.C_ACCOUNT = @account
                AND GETDATE() >= D_STARTDATE AND (GETDATE() <= D_STOPDATE OR D_STOPDATE IS NULL)
 
 			 IF @pap001pk > 0 
				BEGIN 
					SET @sys200Record =  (SELECT TOP 1 I_SYS200PK FROM ADVANCED.SYS200 WHERE I_RECKEY = @pap001pk AND C_TABLE ='PAP001' AND C_FUNC ='A')
				
					IF @sys200Record IS NULL 
						BEGIN
						INSERT INTO ADVANCED.SYS200 (C_FUNC,C_MODULE,T_ENTERED,C_USERID,I_RECKEY,C_TABLE) VALUES ('A','',GETDATE(),@userName,@pap001pk,'PAP001'); 
						END
					ELSE
						BEGIN
						INSERT INTO ADVANCED.SYS200 (C_FUNC,C_MODULE,T_ENTERED,C_USERID,I_RECKEY,C_TABLE) VALUES ('U','',GETDATE(),@userName,@pap001pk,'PAP001'); 
						SET @newKey = SCOPE_IDENTITY();
						INSERT INTO ADVANCED.SYS201 (I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES (@newKey,@field,@dataType,@oldData) 
						END
						
				END
			END
		END
	END
	END
END
ELSE
SET @lnFlag = 0
SELECT @rtnvalue = @lnFlag
RETURN


 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[bill_balance]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[bill_balance](
	@startdate date,
	@enddate date
	)
	as(
select cusacc.c_customer,cusacc.c_account,sum(bill.y_currenttransactions) as 'BILL'
--sum(old_bill.y_currenttransactions) as 'Old_bill',
--sum(bill.y_transactionssincelastbill) as 'PAYMENT',sum(bill.y_currenttransactions) + sum(bill.y_transactionssincelastbill) from advanced.bif951 bill
from advanced.bif951 bill
join advanced.bif003 cusacc on bill.c_account = cusacc.c_account and bill.c_customer = cusacc.c_customer
--join advanced.bif951 as old_bill on bill.c_account = old_bill.c_account and bill.c_customer = old_bill.c_customer
where bill.d_billdate >=@startdate and bill.d_billdate <=@enddate and
cusacc.c_collectionstatus = 'PD' and cusacc.c_accountstatus = 'AC'
--and  (old_bill.d_billdate >'01-01-2020' and old_bill.d_billdate <'04-01-2020')
group by cusacc.c_customer,cusacc.c_account, cusacc.c_accountstatus,cusacc.c_collectionstatus
)
GO
/****** Object:  StoredProcedure [ADVANCED].[CHANGEPIN]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[CHANGEPIN] 
	@customer  VARCHAR(15),
   	@account   VARCHAR(15),
	@newpin    VARCHAR(10),
	@rtnvalue  SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lnFlag	SMALLINT, @retacctstatus  VARCHAR(2), @retpin VARCHAR(10), @retcolstatus   VARCHAR(2), @retcustaccid  bigint

	EXEC ADVANCED.ValidateCustomerAccount @customer,@account, @lnFlag OUTPUT, @retacctstatus OUTPUT, @retpin OUTPUT, @retcolstatus OUTPUT,@retcustaccid OUTPUT 
	IF @lnFlag = 1
		BEGIN
			UPDATE ADVANCED.BIF003 SET C_PIN=@newpin WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account
			IF @@ERROR=0
				SET @lnFlag=1
			ELSE
				SET @lnFlag=-9
		END
	SET @rtnvalue = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[collection_report]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[collection_report] 
(@startdate as date,
@enddate as date)
as 
begin
select cusacc.c_customer, cusacc.c_account,(customer.c_firstname+' '+customer.c_lastname),(svcadd.c_streetnum+' '+svcadd.c_streetprefix+' '+svcadd.c_street+' '+svcadd.c_streetsuffix+' '+svcadd.c_apt),
cusacc.c_accountstatus,cusacc.c_collectionstatus,sum(trans.y_amount*-1) as 'payment',curbalance.balance from advanced.bif003 cusacc
--join advanced.bif040 balance on cusacc.c_account = balance.c_account and cusacc.c_customer = balance.c_customer
join advanced.bif956 trans on cusacc.c_account = trans.c_account and cusacc.c_customer = trans.c_customer
left join advanced.bif001 customer on cusacc.c_customer = customer.c_customer
left join advanced.bif002 svcadd on cusacc.c_account = svcadd.c_account
inner join advanced.col004 colag on cusacc.c_customer = colag.c_customer and cusacc.c_account = colag.c_account
join
(select sum(y_currentbalance) as balance
,c_account, c_customer
 from advanced.bif040
 group by c_account, c_customer
 ) as curbalance on cusacc.c_account = curbalance.c_account and cusacc.c_customer = curbalance.c_customer
where colag.i_agencyid = 12 and (trans.d_paydate>=@startdate and trans.d_paydate<=@enddate)and (trans.c_transcode like 'PAY%' or trans.c_transcode like 'WCRD' or trans.c_transcode like 'TR%') and cusacc.c_accountstatus<>'WO'--and cusacc.c_customer = '00452913'
--where cusacc.c_collectionstatus in ('CA')  and trans.d_paydate>='01-01-2020' and (trans.c_transcode like 'PAY%' or trans.c_transcode like 'WCRD' or trans.c_transcode like 'TR%') and cusacc.c_accountstatus<>'WO'--and cusacc.c_customer = '00452913'
group by cusacc.c_customer, cusacc.c_account,(customer.c_firstname+' '+customer.c_lastname),(svcadd.c_streetnum+' '+svcadd.c_streetprefix+' '+svcadd.c_street+' '+svcadd.c_streetsuffix+' '+svcadd.c_apt),
cusacc.c_accountstatus,curbalance.balance,cusacc.c_collectionstatus--,trans.d_paydate
end
GO
/****** Object:  StoredProcedure [ADVANCED].[CREATEARRANGEMENT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[CREATEARRANGEMENT]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@amount DECIMAL(15,2),
	@arrangedate DATE,
	@payat VARCHAR(2) = '',
	@paymethod VARCHAR(2) = '',
	@notes VARCHAR(2000) ='',
	@userid VARCHAR(30) ='',
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lnFlag SMALLINT,@retacctstatus VARCHAR(2),@retpin VARCHAR(10),@retcolstatus VARCHAR(2),@retcustaccid BIGINT

	EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
	IF @lnFlag = 1 AND @payat<>''
		EXEC ADVANCED.ValidatePayAt @payat,@lnFlag OUTPUT
	IF @lnFlag = 1 AND @paymethod <> ''
		EXEC ADVANCED.ValidatePaymentMethod @paymethod,@lnFlag OUTPUT
	IF @lnFlag = 1 AND @userid<>''
		EXEC ADVANCED.ValidateUserId @userid,@lnFlag OUTPUT
				
	IF @lnFlag = 1
		BEGIN
			INSERT INTO ADVANCED.BIF007 (C_CUSTOMER,C_ACCOUNT, Y_AMOUNT, D_ARRANGE, C_PAYAT, C_PAYMENTMETHOD, M_NOTES, C_USERID, C_STATUS, T_DATETIME )
				VALUES (@customer, @account, @amount, @arrangedate, @payat, @paymethod, @notes, @userid, 'N', @arrangedate)

			-- VS - 01/21/2014 - AT4365 - Elsinore - Pick-up routine to ID payments on interrupted accounts
			EXEC ADVANCED.PaymentAction @customer, @account, '', @amount, 1, @rtnvalue OUTPUT
			-- VS - 01/21/2014 - AT4365 -

		END

	SELECT @rtnvalue = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[CustomerAccountBalance]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[CustomerAccountBalance]
 @lcCustomer  VARCHAR(15),
 @lcAccount   VARCHAR(15), 
 @retBalance  DECIMAL(15,2)   OUTPUT
AS
	DECLARE @lcPlanType VARCHAR(2),
		@lUseBalanceInPAP003 SMALLINT,
		@lnArBalance DECIMAL(15,2),
		@lnPlanBilled DECIMAL(15,2),
		@lnCredits DECIMAL(15,2)

	exec ADVANCED.PaymentPlan  @lcCustomer,@lcAccount,@lcPlanType OUTPUT  
	SELECT @lUseBalanceInPAP003 = 0
	SELECT @lnArBalance = 0

        SELECT  @lUseBalanceInPAP003=l_UseBalanceInPAP003 FROM ADVANCED.PAP002 WHERE C_PLANTYPE=@lcPlanType AND C_TYPE IN ('E','L') AND L_USEBALANCEINPAP003 = 1

	IF @lUseBalanceInPAP003 = 1
	BEGIN
		SELECT @lnPlanBilled = Y_PLANBILLED, @lnCredits = Y_CREDITS FROM ADVANCED.PAP003 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount
		IF @@ROWCOUNT > 0
		BEGIN
			IF @lnPlanBilled IS NULL
				SELECT @lnPlanBilled = 0
			IF @lnCredits IS NULL
				SELECT @lnCredits = 0
			SELECT @lnArBalance = @lnPlanBilled + @lnCredits
		END
		ELSE
			SELECT @lnArBalance = 0
	END
	ELSE
	BEGIN
		SELECT @lnArBalance=(SELECT SUM(BIF040.Y_CURRENTBALANCE) FROM ADVANCED.BIF040 BIF040, ADVANCED.CON091 CON091 WHERE BIF040.C_ARCODE=CON091.C_ARCODE AND CON091.L_BIF042=1 AND BIF040.C_CUSTOMER=@lcCustomer AND BIF040.C_ACCOUNT=@lcAccount)
		IF @lnArBalance IS NULL
			SELECT @lnArBalance=0
	END
	SELECT @retBalance = @lnArBalance

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[FIXSTRINGPARAMETER]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[FIXSTRINGPARAMETER]
 @parameter VARCHAR(1000) OUTPUT
AS 
	--replace single quotes with 2 single quotes
	SET @parameter=REPLACE(@parameter, '''', '''''');
	
	--replace \" with " (double-quotes)
	--required for when data is sent from .NET (double-quotes is a string delimiter so is invalid on that side)
	SET @parameter=REPLACE(@parameter,'\"','"')
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GENERATECUSTOMERACCOUNTACTION]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GENERATECUSTOMERACCOUNTACTION]
(
	@actionid  INT,
	@customer  VARCHAR(15),
	@account   VARCHAR(15),
	@addnote   VARCHAR(max),
	@custaccid	BIGINT,
	@status SMALLINT OUTPUT
)
AS

	SET NOCOUNT ON
	DECLARE @cServiceOrder VARCHAR(4),
		@cSOAassignedToDept VARCHAR(2),
		@cSOAssignedToUser VARCHAR(15),
		@cTask VARCHAR(4),
		@cTaskAssignedToDept VARCHAR(2),
		@cTaskAssignedToUser VARCHAR(15),
		@cTaskPriority	VARCHAR(1),
		@iTaskDays INT,
		@cTransCode VARCHAR(4),
		@yAmount  DECIMAL(15,2),
		@iDays INT,
		@UserID VARCHAR(15),
		@cColStatus VARCHAR(2),
		@lReturn SMALLINT,
		@cReturn VARCHAR(4),
		@cTemp VARCHAR(100),
		@cTemp1 VARCHAR(100),
		@actiondata XML,
		@actionstring VARCHAR(max)

	SELECT @lReturn=0, @UserID='LINK', @cColStatus='',@cReturn=''

	IF @customer != '' AND @account != '' AND @actionid IS NOT NULL AND @actionid != 0
	BEGIN
		SELECT @actiondata=m_actiondata FROM ADVANCED.CON115 WHERE I_ACTIONID=@actionid
		SELECT @actionstring =m_actiondata FROM ADVANCED.CON115 WHERE I_ACTIONID=@actionid

		IF CHARINDEX('ServiceOrder1',@actionstring) <> 0
			BEGIN 
			SELECT @cServiceOrder=action1.col.value('(Property[@Name="ServiceOrderType"])[1]','varchar(100)'),
				@cSOAassignedToDept=action1.col.value ('(Property[@Name="AssignedToDepartment"])[1]','varchar(100)'),
				@cSOAssignedToUser=action1.col.value ('(Property[@Name="AssignedToUserId"])[1]','varchar(100)')
			from @actiondata.nodes('CisActionSteps/Class[@Alias="ServiceOrder1"]') action1(col)
			
			IF @cServiceOrder IS NULL
				SET @cServiceOrder=''
			IF @cSOAassignedToDept IS NULL
				SET @cSOAassignedToDept=''
			IF @cSOAssignedToUser IS NULL
				SET @cSOAssignedToUser=''

			EXEC ADVANCED.GenerateServiceOrder @actionid,@customer,@account,@custaccid,@cServiceOrder, @cSOAassignedToDept, @cSOAssignedToUser, @UserID, @lReturn OUTPUT
			IF @lReturn= -1
				SET @cReturn = @cReturn+'1'
			END

		IF CHARINDEX('CustomerAccountTask1',@actionstring) <> 0
			BEGIN
			SELECT  @cTask=action1.col.value('(Property[@Name="ActionToBeTaken"])[1]','varchar(100)'),
				@cTaskAssignedToDept=action1.col.value ('(Property[@Name="AssignedToDepartment"])[1]','varchar(100)'),
				@cTaskAssignedToUser=action1.col.value ('(Property[@Name="AssignedTo"])[1]','varchar(100)'),
				@cTaskPriority=action1.col.value ('(Property[@Name="Priority"])[1]','varchar(100)'),
				@cTemp=action1.col.value ('(Property[@Name="DueDate"])[1]','varchar(100)')
			from @actiondata.nodes('CisActionSteps/Class[@Alias="CustomerAccountTask1"]') action1(col)
			IF @cTask IS NULL
				SET @cTask=''
			IF @cTaskAssignedToDept IS NULL
				SET @cTaskAssignedToDept=''
			IF @cTaskAssignedToUser IS NULL
				SET @cTaskAssignedToUser=''
			IF @cTaskPriority IS NULL
				SET @cTaskPriority=''
			IF @cTemp IS NULL
				SET @iTaskDays=0
			ELSE
				SET @iTaskDays=convert(int,SUBSTRING(@cTemp,2,4))

			EXEC ADVANCED.GenerateTask @actionid,@customer,@account,@cTask, @cTaskAssignedToDept, @cTaskAssignedToUser, @cTaskPriority, @iTaskDays, @UserID, @lReturn OUTPUT
			IF @lReturn= -1
				SET @cReturn = @cReturn+'2'
			END

		IF CHARINDEX('CustomerAccountTransactionRequest1',@actionstring) <> 0 --AND @yAmount != 0 
			BEGIN
			SELECT  @cTransCode=action1.col.value('(Property[@Name="Transaction Code"])[1]','varchar(100)'),
				@cTemp1=action1.col.value ('(Property[@Name="TransactionAmount"])[1]','varchar(100)'),
				@cTemp=action1.col.value ('(Property[@Name="TransactionDate"])[1]','varchar(100)')
			from @actiondata.nodes('CisActionSteps/Class[@Alias="CustomerAccountTransactionRequest1"]') action1(col)

			IF @cTransCode IS NULL
				SET @cTransCode=''
			IF @cTemp1 IS NULL
				SET @yAmount=0.00
			ELSE
				SET @yAmount=convert(DECIMAL(15,2),@cTemp1)
			IF @cTemp IS NULL
				SET @iDays=0
			ELSE
				SET @iDays=convert(int,SUBSTRING(@cTemp,2,4))

			EXEC ADVANCED.GenerateTransaction @actionid,@customer,@account,@cTransCode,@yAmount, @iDays, @UserID, @lReturn OUTPUT
			IF @lReturn= -1
				SET @cReturn = @cReturn+'3'
			END

		IF CHARINDEX('<Property Name="CollectionStatus"',@actionstring) <> 0  
		   SELECT @cColStatus=action1.col.value('(Property[@Name="CollectionStatus"])[1]','varchar(100)')   
		   from @actiondata.nodes('CisActionSteps/Class[@Mode="Update"]') action1(col)  
		   IF @cColStatus IS NULL  
			SET @cColStatus=''  
		   BEGIN  
		   EXEC ADVANCED.UpdateCollectionStatus @customer,@account,@cColStatus,@lReturn OUTPUT  
		   IF @lReturn= 1  
			SET @cReturn = @cReturn+'4'  
		   END  
		 END  
		 IF @cReturn=''  
		  SET @status = 1  
		 ELSE  
		  SET @status = @cReturn
		RETURN @status  
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GenerateServiceOrder]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GenerateServiceOrder]
	@actionid	INT,
	@customer	VARCHAR(15),
	@account	                  VARCHAR(15),
	@custaccid	BIGINT,
	@cServiceOrder	VARCHAR(4),
	@cSOAassignedToDept VARCHAR(2),
	@cSOAssignedToUser VARCHAR(30),
	@UserID VARCHAR(30),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	SET @rtnvalue = 1
	IF NOT EXISTS(SELECT 1 FROM ADVANCED.BIF023 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account  AND C_SERVICEORDERTYPE=@cServiceOrder AND L_COMPLETED=0 AND L_CANCELLED=0)
	BEGIN
		DECLARE @lnServiceOrderId BIGINT

		EXEC ADVANCED.spGetCounter 'SONUM',@lnServiceOrderId OUTPUT,1
			INSERT INTO ADVANCED.BIF023 (I_SERVICEORDER, C_CUSTOMER, C_ACCOUNT, C_SERVICEORDERTYPE, T_DATECREATED, C_USERIDCREATED, D_DATETOPRINT, C_ASSIGNEDTODEPARTMENT, C_USERIDASSIGNEDTO, I_CUSTACCTID, I_ACTION)
			VALUES (@lnServiceOrderId, @customer, @account, @cServiceOrder, getDATE(), @UserID, getDATE(), @cSOAassignedToDept, @cSOAssignedToUser, @custaccid, @actionid)
		IF @@ERROR<>0
		SET @rtnvalue = -1
	END

RETURN @rtnvalue
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GenerateTask]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GenerateTask]
	@actionid	               INT,
	@customer	VARCHAR(15),
	@account	VARCHAR(15),
	@cTask		VARCHAR(4),
	@cTaskAssignedToDept   VARCHAR(2),
	@cTaskAssignedToUser   VARCHAR(30),
	@cTaskPriority       VARCHAR(1),
	@iTaskDays	int,
	@UserID               VARCHAR(30),
	@taskNotes           varchar(MAX),
	@rtnvalue	SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @iTaskID BIGINT, @dueDate date

	IF (@iTaskDays = 0)
		Set @dueDate = null
	Else
		Set @dueDate = GETDATE() + @iTaskDays

	EXEC ADVANCED.spGetCounter 'BIF047', @iTaskID OUTPUT,1
	INSERT INTO ADVANCED.BIF047 (I_TASKID,C_CUSTOMER,C_ACCOUNT,C_ASSIGNEDTODEPARTMENT,C_ASSIGNEDTO,C_ASSIGNEDBY,C_ACTIONTOBETAKEN,T_CREATEDDATETIME,D_DUEDATE,C_PRIORITY,M_TASKNOTES,I_ACTION)
		VALUES (@iTaskID,@customer,@account,@cTaskAssignedToDept,@cTaskAssignedToUser,@UserID,@cTask,getdate(),@dueDate ,@cTaskPriority,@taskNotes,@actionid)
	IF @@ERROR=0
		SET @rtnvalue = 1
	ELSE
		SET @rtnvalue = -1
RETURN @rtnvalue
 
--SVN last revision and last change date
--$Revision: 71593 $ $LastChangedDate: 2019-05-01 09:41:50 -0400 (Wed, 01 May 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GenerateTransaction]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GenerateTransaction]
	@actionid		INT,
	@customer		VARCHAR(15),
	@account		VARCHAR(15),
	@cTransCode		VARCHAR(4),
	@yAmount		DECIMAL(15,2),
	@iDays			INT,
	@UserID			VARCHAR(30),
	@rtnvalue		SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE 	@iTransNum BIGINT,
			@ARCode VARCHAR(2),
			@cStatus  VARCHAR(1),
			@lApproval BIT
	BEGIN
		SELECT @rtnvalue = 0, @lApproval=0, @ARCode = ''
		EXEC ADVANCED.spGetCounter 'TRANS', @iTransNum OUTPUT,1

		SELECT @lApproval=L_APPROVAL FROM ADVANCED.GLE007 WHERE C_TRANSCODES LIKE '%@cTransCode%' AND N_MINAMOUNT<=@yAmount AND N_MAXAMOUNT>=@yAmount
		IF @lApproval = 0
			SET @cStatus = 'A'
		ELSE 
			SET @cStatus = 'R'
		SELECT @ARCode =C_ARCODE FROM ADVANCED.GLE001 WHERE C_TRANSCODE=@cTransCode
		INSERT INTO ADVANCED.BIF947(C_CUSTOMER,C_ACCOUNT,I_TRANSNUM,C_ARCODE,C_TRANSCODE,D_TRANSDATE,Y_AMOUNT,M_COMMENTS,C_USERID,T_DATETIME,I_ACTION,L_PROCESSED,C_STATUS)
			VALUES (@customer,@account,@iTransNum,@ARCode,@cTransCode,GETDATE()+@iDays,@yAmount,'',@UserID,GETDATE(),@actionid,0,@cStatus)
		IF @@ERROR=0
			SET @rtnvalue = 1
		ELSE
			SET @rtnvalue = -1
	END

RETURN @rtnvalue 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETACCOUNTBYADDRESS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETACCOUNTBYADDRESS]
@StNum			BIGINT 		= NULL,
@StPrefix		VARCHAR(2)	= NULL,
@StName			VARCHAR(30),
@StSuffix		VARCHAR(6)	= NULL,
@AptNum			VARCHAR(25)	= NULL
AS
BEGIN
	SET NOCOUNT ON

	SELECT 
		BIF002.C_ACCOUNT AS ACCOUNTNUMBER,
		RTRIM(LTRIM(ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)),'')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT)) AS SERVICEADDRESS
	FROM ADVANCED.BIF002
	WHERE	(@StNum Is NULL OR BIF002.N_STREETNUM = @StNum)
		AND	(@StPrefix Is NULL OR BIF002.C_STREETPREFIX = @StPrefix)
		AND (BIF002.C_STREET LIKE @StName+'%')  
END
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETACCOUNTDATA]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETACCOUNTDATA]           
      @customer   VARCHAR(15),              
      @account    VARCHAR(15),              
      @customerrequired BIT,              
      @phonetypepriority  VARCHAR(20),              
      @recordcontact    BIT,              
      @rtnvalue   INT   OUTPUT,              
      @usebusinessdays  BIT = 0          
AS              
      SET NOCOUNT ON              
      DECLARE @lcstring VARCHAR(50),              
            @lnFlag           SMALLINT,              
            @pin  VARCHAR(10),              
            @currentbalance         DECIMAL(15,2),              
            @accountstatus          VARCHAR(2),              
            @ivrstatus              SMALLINT,              
            @billnumber             BIGINT,              
            @billdate               DATE,              
            @billduedate      DATE,              
            @billamount       DECIMAL(15,2),              
            @pastdueamount    DECIMAL(15,2),              
            @firstname  VARCHAR(100),              
            @lastname   VARCHAR(100),              
            @streetnumber     VARCHAR(10),              
            @streetname VARCHAR(120),              
            @citytown   VARCHAR(25),              
            @stateprov  VARCHAR(2),              
            @zippostal  VARCHAR(15),              
            @paymentamount    DECIMAL(15,2),              
            @paymentdate      DATE,              
            @colstatuscode    VARCHAR(2),              
            @cashonly         BIT,              
            @disconnectdate   DATE,              
            @pendingpayment   DECIMAL(15,2),              
            @paymentplantype  SMALLINT,              
            @drawpayment            BIT,              
            @arrangementamount      DECIMAL(15,2),              
            @arrangementdate        DATE,              
            @arrangementstatus      SMALLINT,              
            @phonenumber      VARCHAR(120),              
            @phonetype  VARCHAR(2),              
            @phonedesc  VARCHAR(15),              
            @lcAcctType VARCHAR(2),              
            @lcBillType VARCHAR(2),              
            @liDays           INT,              
            @ldtmp            DATE,              
            @lnpay          DECIMAL(15,2),              
            @libatch        INT,              
            @libatch1       INT,              
            @lnamount       DECIMAL(15,2),              
            @lnTemp         DECIMAL(15,2),              
            @pos            INT,              
            @lcphonetype    VARCHAR(2),              
            @lcPD           VARCHAR(2),              
            @lcDC           VARCHAR(2),              
            @liGroup        INT,              
            @retcustaccid     BIGINT,              
            @commentcode      VARCHAR(100),              
            @ccycle           VARCHAR(5),                      
            @serviceorder     BIT = 0,                  
            @pastduedate      DATE='',
            @commenttypecode VARCHAR(100),
            @cCode VARCHAR(4),
            @cDisallowPayTypes VARCHAR(200),
            @includeNotice BIT = 0,
            @includePendingforPastdue BIT = 1,
            @tBillCalc  DATETIME,
			@containerName varchar (200)
              
      DECLARE @lcCustomer VARCHAR(15), @lcAccount VARCHAR(15),@lbalinpap003 BIT             
      DECLARE @fullplantype VARCHAR(2),@plantype VARCHAR(1)              
      DECLARE @ybilled  DECIMAL(15,2),@ycredit DECIMAL(15,2),@luseplanbilledamtforprevbill BIT 
      DECLARE @lreconcil BIT, @plancredit DECIMAL(15,2) =0  
      DECLARE @paymentMadeBeforeDueDate DECIMAL(15,2) = 0
      DECLARE @excludeCreditTransCodes varchar(500)  =''
      DECLARE @excludeDebitTransCodes varchar(500)  =''
      DECLARE @excludetransCodes varchar(500), @cTranscode VARCHAR(5) , @balanceTransferCodes varchar(500)='' 

      SELECT @lcCustomer=@customer, @lcAccount=@account              
      SELECT @paymentplantype=0, @lbalinpap003=0, @disconnectdate=''             
      SELECT @currentbalance=0, @luseplanbilledamtforprevbill=0
      SELECT @lreconcil=NULL, @pendingpayment=0, @paymentMadeBeforeDueDate=0

      EXEC ADVANCED.VALIDATEACCOUNT @account,@lnFlag OUTPUT              
                    
      IF @lnFlag = 1              
      BEGIN              
            IF @customerrequired = 1              
	 EXEC ADVANCED.VALIDATECUSTOMER @customer,@lnFlag OUTPUT              
            ELSE              
               EXEC ADVANCED.GETCUSTOMER @account,@lcCustomer OUTPUT,@lnFlag OUTPUT              
              
            IF @lnFlag = 1              
                  EXEC ADVANCED.VALIDATECUSTOMERACCOUNT @lcCustomer,@lcAccount,@lnFlag OUTPUT,@accountstatus OUTPUT,@pin OUTPUT,@colstatuscode OUTPUT, @retcustaccid OUTPUT
              
            IF @lnFlag = 1              
           BEGIN              
                        --record contact              
                        IF @recordcontact = 1              
                              EXEC ADVANCED.RECORDCONTACT @lcCustomer,@lcAccount,'','','','',0,0,@lnFlag OUTPUT              
              
                        --customer name              
                        SELECT @firstname=C_FIRSTNAME,@lastname=C_LASTNAME FROM ADVANCED.BIF001 WHERE C_CUSTOMER=@lcCustomer              
              
                        --service address info              
                        SELECT @streetnumber=ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+ISNULL((SELECT C_DESCRIPTION FROM ADVANCED.CON151 WHERE C_CODE=C_STRNUMSUFFIX),''),              
                              @streetname=ISNULL((SELECT C_DESCRIPTION FROM ADVANCED.CON137 WHERE C_STREETPREFIX = BIF002.C_STREETPREFIX),'')+' '+BIF002.C_STREET+' '+(BIF002.C_STREETSUFFIX)+' '+BIF002.C_APT,
                              @citytown=C_TOWN,@stateprov=C_PROV,@zippostal=C_POSTCODE FROM ADVANCED.BIF002               
                              WHERE C_ACCOUNT=@lcAccount              
              
                        --plan type              
                        SET @drawpayment = 0              
                                 
                        DECLARE csrPAP CURSOR FAST_FORWARD FOR               
                        SELECT PAP002.L_DRAW,PAP001.C_PLANTYPE,PAP002.C_TYPE,PAP002.L_USEBALANCEINPAP003,PAP002.L_USEPLANBILLEDAMTFORPREVBILL, PAP002.C_EXCLUDECREDITTRANSCODES, PAP002.C_EXCLUDEDEBITTRANSCODES 
                         FROM ADVANCED.PAP001 PAP001 INNER JOIN ADVANCED.PAP002 PAP002 ON (PAP001.C_PLANTYPE=PAP002.C_PLANTYPE)                
                        WHERE PAP001.C_CUSTOMER=@lcCustomer AND PAP001.C_ACCOUNT=@lcAccount AND GETDATE()>=PAP001.D_STARTDATE AND (GETDATE()<DATEADD(day,1,PAP001.D_STOPDATE) OR PAP001.D_STOPDATE IS NULL)             
                        OPEN csrPAP              
                        FETCH NEXT FROM csrPAP INTO @drawpayment,@fullplantype,@plantype,@lbalinpap003,@luseplanbilledamtforprevbill, @excludeCreditTransCodes, @excludeDebitTransCodes 
                        IF @@FETCH_STATUS=0
                        BEGIN              
		   IF  @plantype<>'E' AND @plantype<>'L'
			SET @luseplanbilledamtforprevbill = 0
		   IF @plantype='E'              
			SET @paymentplantype = 1              
	       	   IF @plantype='V'              
                                            SET @paymentplantype = 2              
		   IF @plantype='L'              
                                            SET @paymentplantype = 3              
                                IF @plantype IN ('E','L') AND @lbalinpap003=1 
			SELECT @currentbalance=Y_PLANBILLED+Y_CREDITS, @plancredit=Y_CREDITS FROM ADVANCED.PAP003 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount
                        END              
                        CLOSE csrPAP              
                        DEALLOCATE csrPAP              

                        --balance in BIF040              
                        IF @lbalinpap003=0              
                              SET @currentbalance = (SELECT SUM(BIF040.Y_CURRENTBALANCE) FROM ADVANCED.BIF040 BIF040 INNER JOIN ADVANCED.CON091 CON091               
                              ON (BIF040.C_ARCODE=CON091.C_ARCODE)               
                              WHERE BIF040.C_CUSTOMER=@lcCustomer AND BIF040.C_ACCOUNT=@lcAccount AND CON091.L_BIF042=1)               
                       
	         SET @currentbalance = ISNULL(@currentbalance,0)          
              
                        --bill information              
                        SELECT @billdate='',@billduedate='',@billamount=0,@lcAcctType='',@lcBillType='',@lnamount=0              
                        DECLARE csrBIF951 CURSOR FAST_FORWARD FOR              
                        SELECT TOP 1 D_BILLDATE,D_DUEDATE,Y_CURRENTTRANSACTIONS,C_ACCOUNTTYPE,C_BILLTYPE,Y_AMOUNTDUEBEFOREDUEDATE,T_CALC, I_BILLNUMBER FROM ADVANCED.BIF951               
                        WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 ORDER BY D_BILLDATE DESC 
                        open csrBIF951              
                        fetch next from csrBIF951 into @billdate,@billduedate,@billamount,@lcAcctType,@lcBillType,@lnamount, @tBillCalc, @billNumber
                        IF @@fetch_status=0            
                        BEGIN              
                              IF @billduedate IS NOT NULL AND @lcAcctType<>''              
                                    BEGIN              
                                          SELECT @liDays=ISNULL((SELECT SUM(I_DAYS) FROM ADVANCED.CON008 WHERE C_ACCOUNTTYPE=@lcAcctType AND C_BILLTYPE=@lcBillType),0)              
                                          IF @usebusinessdays = 1         
                                                SELECT @disconnectdate = ADVANCED.GetDisconnectDate(@billduedate, @lcAcctType, @lcBillType)           
                                          ELSE               
                                                SELECT @disconnectdate=DATEADD(day,@liDays,@billduedate)           
                                    END              
		      --Payment made before due date to calculate amount due before due date
        		      SELECT @paymentMadeBeforeDueDate = ISNULL((SELECT SUM(BIF041.Y_AMOUNT) FROM ADVANCED.BIF041 WHERE BIF041.C_CUSTOMER = @lcCustomer AND BIF041.C_ACCOUNT = @lcAccount 
			AND T_TRANSDT>=@tBillCalc AND Y_AMOUNT<0 AND (I_BILLNUMBER = 0 AND I_TRANSNUM NOT IN (SELECT I_TRANSNUM FROM ADVANCED.BIF955 WHERE C_CUSTOMER = @lcCustomer AND BIF955.C_ACCOUNT = @lcAccount)) 
			AND C_TRANSCODE NOT IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACtIONTYPE='AD')),0)
                                    -- payment returned
                	      SET @paymentMadeBeforeDueDate = @paymentMadeBeforeDueDate + ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF041 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount  AND L_STATEMENT=0 
			AND Y_AMOUNT>0 AND T_TRANSDT>=@tBillCalc AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE L_USEORIGINALAGE=1)),0) 
     		      SET  @lnamount = @lnamount + @paymentMadeBeforeDueDate
		      if @lnamount<0
		     	set @lnamount=0
                         END              
                        close csrBIF951              
                        deallocate csrBIF951              

	         SET @pendingpayment=ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND Y_AMOUNT<0 AND L_PROCESSED=0 AND I_PARENTTR=0 AND I_RECEIPT=0 AND L_DELETED=0 AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACTIONTYPE='CA')),0)
	         SET @pendingpayment=@pendingpayment+ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND Y_AMOUNT<0 AND L_PROCESSED=0 AND I_RECEIPT<>0 AND L_DELETED=0 AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACTIONTYPE='CA')),0)
	         SET @pendingpayment=@pendingpayment+ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.UTL045 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND L_PROCESSED=0),0)
	         SET  @lnamount = @lnamount + @pendingpayment

                        --exclude transcodes 
	         SET @excludetransCodes = ''           
                        DECLARE csrTransCodes CURSOR FAST_FORWARD FOR              
                        SELECT DISTINCT C_CREDITTRANSCODE FROM ADVANCED.CON091 WHERE (L_SUMMARY=1 OR L_BIF042=1) UNION SELECT DISTINCT C_DEBITTRANSCODE FROM
			 ADVANCED.CON091 WHERE (L_SUMMARY=1 OR L_BIF042=1)
                        open csrTransCodes              
                        fetch next from csrTransCodes into @cTranscode
	         WHILE @@FETCH_STATUS=0
		BEGIN
		       if @cTranscode<>''
			        SET @excludetransCodes = @excludetransCodes + @cTranscode +','
	                       fetch next from csrTransCodes into @cTranscode
		END
         	         close csrTransCodes
	         deallocate csrTransCodes
	         SET @balanceTransferCodes = @excludetransCodes
	         SET @excludetransCodes = @excludetransCodes+@excludeCreditTransCodes+','+@excludeDebitTransCodes+','

                       --Past Due Amount Calculation	

	        SELECT TOP 1 @includeNotice=L_INCLUDEINBALANCEOWING FROM ADVANCED.GLE001 WHERE L_INCLUDEINBALANCEOWING =1
	        SELECT TOP 1 @includePendingforPastdue=L_INCLPENDINGPAYMENTFORPASTDUE FROM ADVANCED.BIF000

	        SET @pastdueamount = @currentbalance  
    	        --mimic v4 logic to calculate past due amount
    	        DECLARE @isMaster bit, @billGroup VARCHAR(5), @lUpdatetoMaster bit
      	        SELECT @isMaster=A.L_MASTER, @billGroup = A.C_BILLGROUP, @lUpdatetoMaster=B.L_UPDATEBILLTRANSTOMASTER FROM ADVANCED.BIF003 A INNER JOIN ADVANCED.BIF071 B ON (A.C_BILLGROUP=B.C_BILLGROUP)
		WHERE A.C_CUSTOMER=@lcCustomer AND A.C_ACCOUNT=@lcAccount AND A.L_MASTER=1 AND B.L_UPDATEBILLTRANSTOMASTER=1 ORDER BY A.C_ACCOUNTSTATUS
	        if @isMaster is not null and @isMaster =1 and @lUpdatetoMaster=1
		BEGIN
		SET @lnTemp = ISNULL((SELECT SUM(Y_CURRENTTRANSACTIONS) FROM ADVANCED.BIF951 WHERE C_BILLGROUP=@billGroup AND L_MASTER=0 AND L_PROCESSED=1 AND C_BILLTYPE<>'CB' AND D_DUEDATE>=CONVERT(DATE,getdate())),0)
		if  @lnTemp > 0
			set @pastdueamount = @pastdueamount - @lnTemp
		END
	       else
		BEGIN
		IF @luseplanbilledamtforprevbill=1
			BEGIN
			SELECT TOP 1 @lreconcil=L_RECONCIL, @ybilled=Y_PLANBILL, @ycredit=Y_PLANCRED, @billnumber=I_BILLNUMBER FROM ADVANCED.BIF951 
				 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 AND D_DUEDATE>=CONVERT(DATE,getdate()) ORDER BY D_DUEDATE DESC 
			 IF @lreconcil IS NOT NULL
				 BEGIN
				if @lreconcil=1
					SET @pastdueamount = @ybilled + @ycredit + @plancredit
				else
					SET @pastdueamount = @ybilled + @plancredit
				-- adjustments	
				SET @lnTemp = ISNULL((SELECT SUM(N_AMOUNT) FROM ADVANCED.BIF955 WHERE I_BILLNUMBER=@billnumber AND C_ACCOUNT=@lcAccount AND L_BIF042=1 AND N_SUMFLAG=0 AND N_AMOUNT>0 AND I_TRANSNUM>0 AND I_ORIGBILL=0 AND CHARINDEX(c_transcode+',',@excludetransCodes)=0),0)
				SET @pastdueamount = @pastdueamount - @lnTemp 
				 END
			END
		ELSE IF @pastdueamount > 0
			BEGIN
			IF @includeNotice=1
				--not due amount
				SET @lnTemp =(SELECT SUM(A.N_AMOUNT) FROM  
					(SELECT N_AMOUNT,I_BILLNUMBER, C_TRANSCODE,L_BIF042,C_ARCODE,N_SUMFLAG FROM ADVANCED.BIF955 WHERE 
					C_ACCOUNT =@lcAccount  AND I_ORIGBILL=0 AND I_TRANSNUM>0) A 
					INNER JOIN ADVANCED.BIF951 B ON (A.I_BILLNUMBER=B.I_BILLNUMBER) INNER JOIN ADVANCED.GLE001 C 
					ON (A.C_TRANSCODE=C.C_TRANSCODE)
					WHERE B.D_DUEDATE>=CONVERT(DATE,getdate()) AND B.L_PROCESSED=1 AND A.N_SUMFLAG<>5 AND 
					(A.L_BIF042=0 OR (A.L_BIF042=1 AND C.C_TRANSACTIONTYPE<>'CA' AND A.N_AMOUNT>0)) 
					AND A.C_ARCODE NOT IN (SELECT C_ARCODE FROM ADVANCED.CON091 WHERE L_DEPOSITPAID=1 OR L_DEPOSITINTEREST=1)
					AND A.C_TRANSCODE NOT IN (SELECT B41.C_TRANSCODE FROM ADVANCED.BIF041 B41 INNER JOIN ADVANCED.GLE001 G01 
					ON (B41.C_TRANSCODE=G01.C_TRANSCODE) WHERE B41.C_CUSTOMER=@lcCustomer AND B41.C_ACCOUNT=@lcAccount AND
					 B41.D_AGING IS NOT NULL AND G01.L_NSFTRANSACTION=1)  
					AND CHARINDEX(A.C_TRANSCODE+',',@balanceTransferCodes)=0)

			ELSE
				-- not due amount
				SET @lnTemp=ISNULL((SELECT SUM(Y_CURRENTTRANSACTIONS) FROM ADVANCED.BIF951 WHERE C_CUSTOMER=@lcCustomer AND 
				C_ACCOUNT=@lcAccount AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 
				AND D_DUEDATE>=CONVERT(date,getdate())),0)

			SET @pastdueamount = @pastdueamount - ABS(ISNULL(@lnTemp,0)) 
			END
			-- not billed amount
			IF @includeNotice=1
				SET @lnTemp=(SELECT SUM(BIF041.Y_AMOUNT) FROM ADVANCED.BIF041 INNER JOIN ADVANCED.GLE001 ON
				 GLE001.C_TRANSCODE=BIF041.C_TRANSCODE  WHERE BIF041.C_CUSTOMER=@lcCustomer AND BIF041.C_ACCOUNT=@lcAccount AND
				T_TRANSDT > DATEADD(month, -12, GETDATE())  AND BIF041.L_STATEMENT = 0 AND Y_AMOUNT > 0 AND D_AGING IS NULL AND
				 GLE001.L_INCLUDEINBALANCEOWING=0 AND ((I_BILLNUMBER = 0 AND (I_LINKEDTRANSNUM = 0 OR (SELECT COUNT(*) FROM 
				ADVANCED.BIF955 WHERE BIF041.I_TRANSNUM = BIF955.I_TRANSNUM)=0))  OR (ISNULL((SELECT I_PBILLNUM FROM ADVANCED.BIF956
				 WHERE BIF956.I_TRANSNUM = BIF041.I_TRANSNUM),0) = I_BILLNUMBER AND ISNULL((SELECT D_DUEDATE FROM ADVANCED.BIF951 
				WHERE BIF041.I_BILLNUMBER = BIF951.I_BILLNUMBER),CONVERT(DATE,getdate()) ) < CONVERT(DATE,getdate()) )) 
				   AND CHARINDEX(BIF041.C_TRANSCODE+',',@excludetransCodes)=0)
			ELSE
				SET @lnTemp=(SELECT SUM(BIF041.Y_AMOUNT) FROM ADVANCED.BIF041  WHERE BIF041.C_CUSTOMER=@lcCustomer 
				AND BIF041.C_ACCOUNT=@lcAccount AND
				T_TRANSDT > DATEADD(month, -12, GETDATE())  AND BIF041.L_STATEMENT = 0 AND Y_AMOUNT > 0 AND D_AGING IS NULL 
				 AND ((I_BILLNUMBER = 0 AND (I_LINKEDTRANSNUM = 0 OR (SELECT COUNT(*) FROM 
				ADVANCED.BIF955 WHERE BIF041.I_TRANSNUM = BIF955.I_TRANSNUM)=0))  OR (ISNULL((SELECT I_PBILLNUM FROM ADVANCED.BIF956
				 WHERE BIF956.I_TRANSNUM = BIF041.I_TRANSNUM),0) = I_BILLNUMBER AND ISNULL((SELECT D_DUEDATE FROM ADVANCED.BIF951 
				WHERE BIF041.I_BILLNUMBER = BIF951.I_BILLNUMBER),CONVERT(DATE,getdate()) ) < CONVERT(DATE,getdate()) )) 
				   AND CHARINDEX(BIF041.C_TRANSCODE+',',@excludetransCodes)=0)
			
			SET @pastdueamount = @pastdueamount - ISNULL(@lnTemp,0) 

			-- pending payment 
			IF @includePendingforPastdue=1
				SET @pastdueamount = @pastdueamount + @pendingpayment
									
			if @billdate is null or @billdate=''
				set @ldtmp = CONVERT(date,getdate())
			else
				set @ldtmp = @billdate
			--use the last bill date to get the records in BIF041 that is not part of any bill (i_billnumer=0)

			SET @lnTemp=(SELECT SUM(BIF041.Y_AMOUNT) FROM ADVANCED.BIF041 INNER JOIN ADVANCED.GLE001 ON 
				(BIF041.C_TRANSCODE=GLE001.C_TRANSCODE) 
				 WHERE BIF041.C_CUSTOMER = @lcCustomer  AND BIF041.C_ACCOUNT = @lcAccount AND T_TRANSDT > @ldtmp  
				AND Y_AMOUNT > 0 AND D_AGING IS NULL AND GLE001.L_NSFTRANSACTION =1 )

			SET @pastdueamount = @pastdueamount - ISNULL(@lnTemp,0)

		END

	              IF @pastdueamount<0                              
			SET @pastdueamount=0 
  	              ELSE                              
		      BEGIN                              
		             SELECT @ldtmp=(SELECT TOP 1 D_DUEDATE FROM ADVANCED.BIF951 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND D_DUEDATE<CONVERT(DATE,getdate()) AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1              
				ORDER BY D_BILLDATE DESC)               
		              IF @ldtmp IS NOT NULL                               
    				SET @pastduedate=@ldtmp 
 		    END                              
               
	         --Payment info              
                        select @paymentamount=0,@paymentdate=''              
                        declare csrBIF956 CURSOR FAST_FORWARD for               
                        SELECT Y_AMOUNT,I_BATCHID,D_PAYDATE FROM ADVANCED.BIF956               
                        WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND Y_AMOUNT<0 AND L_PROCESSED=1 AND L_DELETED=0               
                        AND C_ARCODE<>'' AND I_BATCHID IN (SELECT I_BATCHID FROM ADVANCED.BIF503 WHERE C_TRANSACTIONTYPE = 'CA')              
						AND C_TRANSCODE NOT IN (SELECT DISTINCT C_DEPOSITPAIDTRANSCODE FROM ADVANCED.CON103)
                        ORDER BY D_PAYDATE DESC            
              
                        open csrBIF956              
                        fetch next from csrBIF956 into @lnpay,@libatch,@paymentdate              
                        while @@fetch_status=0              
                        begin              
                              If @libatch=-1              
                                    BEGIN              
                                    set @paymentamount=(SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_CUSTOMER=@lcCustomer               
                                          AND C_ACCOUNT=@lcAccount AND Y_AMOUNT<0 AND L_PROCESSED=1 AND L_DELETED=0 AND D_PAYDATE=@paymentdate)              
                                          BREAK              
                                    END              
                              Else              
                                    BEGIN              
                                    select @paymentamount=@paymentamount+@lnpay              
                                    fetch next from csrBIF956 into @lnpay,@libatch1,@ldtmp              
                                    if @libatch<>@libatch1              
                                          break              
                                    END              
                        end              
                        close csrBIF956              
                        deallocate csrBIF956              
		            
                        --Cash only    
	         SET @cashonly=0
                        IF EXISTS(SELECT TOP 1 A.I_BIF017PK FROM ADVANCED.BIF017 A INNER JOIN ADVANCED.CON081 B ON (A.C_COMMENTCODE=B.C_COMMENTCODE) WHERE A.C_ACCOUNT=@lcAccount AND B.L_CASHONLY=1 AND B.C_TYPE='A' 
			AND (A.D_EXPIRATIONDATE IS NULL OR  GETDATE()<DATEADD(day,1,A.D_EXPIRATIONDATE))) 
                              SET @cashonly=1              
                        ELSE IF EXISTS(SELECT TOP 1 A.I_BIF017PK FROM ADVANCED.BIF017 A INNER JOIN ADVANCED.CON081 B ON (A.C_COMMENTCODE=B.C_COMMENTCODE) WHERE A.C_CUSTOMER=@lcCustomer AND B.L_CASHONLY=1 
			AND (A.D_EXPIRATIONDATE IS NULL OR GETDATE()< DATEADD(day,1,A.D_EXPIRATIONDATE))) 
                              SET @cashonly=1              

	         --COMMENT TYPE CODE 
			 
	         SELECT @commenttypecode='',@cDisallowPayTypes='',@commentcode=''
                        DECLARE csrbif017 CURSOR FAST_FORWARD FOR
		SELECT DISTINCT A.C_COMMENTCODE, B.C_DISALLOWEDPAYMENTTYPES FROM ADVANCED.BIF017 A INNER JOIN ADVANCED.CON081 B ON (A.C_COMMENTCODE=B.C_COMMENTCODE) 
			WHERE (A.C_CUSTOMER=@lcCustomer OR  A.C_ACCOUNT=@account) AND (A.D_EXPIRATIONDATE IS NULL OR GETDATE()<DATEADD(DAY,1,A.D_EXPIRATIONDATE))
	         open csrBIF017              
	         fetch next from csrBIF017 into @cCode,@lcstring 
	         WHILE @@FETCH_STATUS=0
			BEGIN
				SET @commenttypecode = @commenttypecode+@cCode+','
				SET @cDisallowPayTypes = @cDisallowPayTypes+@lcstring+','
		              		fetch next from csrBIF017 into @cCode,@lcstring 
			END
	          close csrBIF017
	          deallocate csrBIF017

          	    	--COMMENT CODE	
					Declare @containerNameString varchar(200)
					Select @containerName='', @containerNameString=''
                        DECLARE csrCON082 CURSOR FAST_FORWARD FOR
		SELECT C_PAYMENTTYPE, C_CONTAINERNAME FROM ADVANCED.CON082 WHERE CHARINDEX(C_CODE,@cDisallowPayTypes)=0 
	         open csrCON082             
	         fetch next from csrCON082 into @lcstring , @containerNameString
	         WHILE @@FETCH_STATUS=0
			BEGIN
				SET @commentcode = @commentcode+@lcstring+','
				Set @containerName = @containerName + @containerNameString + ',' 
		              		fetch next from csrCON082 into @lcstring , @containerNameString
			END
	          close csrCON082
	          deallocate csrCON082

		--CCycle              
	         SET @ccycle = (SELECT TOP 1 C_CYCLE FROM ADVANCED.BIF003 WHERE C_CUSTOMER =@lccustomer and C_ACCOUNT =@lcaccount ORDER BY D_EFFECTIVEDATE DESC) 
           
           	             --Service Order              
	         IF EXISTS(SELECT 1 FROM ADVANCED.BIF023 WHERE C_CUSTOMER = @lccustomer and C_ACCOUNT = @lcaccount AND L_CANCELLED =0 and L_COMPLETED = 0)              
		         SET @serviceorder = 1              
                          
                        --Phone type parse              
                        SELECT @phonetype='', @phonenumber='', @phonedesc=''

                        SET @lcstring=ltrim(rtrim(@phonetypepriority))
                        if right(@lcstring,1) <> ','              
                              set @lcstring = @lcstring + ','              
                        set @pos =  patindex('%,%' , @lcstring)              
                        while @pos <> 0               
                              begin
                                    set @lcphonetype = left(@lcstring,@pos-1)              
                                    select top 1 @phonenumber=A.C_PHONENUMBER,@phonetype= A.C_PHONETYPE,@phonedesc=B.C_DESCRIPTION               
                                               FROM ADVANCED.BIF010 A INNER JOIN ADVANCED.CON014 B ON (A.C_PHONETYPE=B.C_PHONETYPE)               
                                                WHERE C_CUSTOMER=@lcCustomer AND A.C_PHONETYPE=@lcphonetype AND A.C_ADDTYPE=' '              
                                      if @phonenumber<>''              
                                          break;              
              
                                    set @lcstring = stuff(@lcstring, 1, @pos, '')              
                                    set @pos = patindex('%,%' , @lcstring)              
                              end              

                        --arrangment              
                        SELECT @arrangementamount=0,@arrangementdate='',@arrangementstatus=0,@liGroup=0              
                        SELECT TOP 1 @arrangementamount=Y_AMOUNT,@arrangementdate=D_ARRANGE,@arrangementstatus=(CASE WHEN C_STATUS='N' THEN 1 WHEN C_STATUS='B' THEN 2 WHEN C_STATUS='K' THEN 3              
                                    WHEN C_STATUS='P' THEN 4 ELSE 5 END), @liGroup=I_GROUP FROM ADVANCED.BIF007 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount              
                                    ORDER BY D_ARRANGE DESC              
              
                        if @liGroup > 0 AND @arrangementdate>getdate()-1       -- if group, return the first one       
	                 SELECT TOP 1 @arrangementamount=Y_AMOUNT,@arrangementdate=D_ARRANGE,@arrangementstatus=(CASE WHEN C_STATUS='N' THEN 1 WHEN C_STATUS='B' THEN 2 WHEN C_STATUS='K' THEN 3              
                                    WHEN C_STATUS='P' THEN 4 ELSE 5 END) FROM ADVANCED.BIF007 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount  AND I_GROUP=@liGroup AND D_ARRANGE >=Convert(date,getdate())              
                                    ORDER BY D_ARRANGE ASC              
              
                        SET @ivrstatus = 5              
                        if @accountstatus='AC' AND @pastdueamount=0              
                              SET @ivrstatus = 1              
                        if @ivrstatus=5 AND @accountstatus<>'AC'              
                              SET @ivrstatus = 2              
                        if @ivrstatus=5 AND @accountstatus='AC' 
		BEGIN
                       	 --check pending disconnect and disconnected collection status code              
                        	set @lcPD=(SELECT TOP 1 C_PENDINGDISCONNECTSTATUS FROM ADVANCED.COL109 WHERE C_PENDINGDISCONNECTSTATUS<>'')              
                        	set @lcDC=(SELECT TOP 1  C_DISCONNECTSTATUS FROM ADVANCED.COL109 WHERE C_DISCONNECTSTATUS<>'')              
		if  @colstatuscode=@lcPD           
	                              SET @ivrstatus = 3
		if @colstatuscode=@lcDC              
                             		SET @ivrstatus = 4              
		END

            SET @billNumber = ISNULL(@billNumber,0)
              
                       SELECT       @lcCustomer AS CUSTOMER,               
                                    @pin AS PIN,               
                                    @currentbalance AS CURRENTBALANCE,               
                                    @accountstatus AS ACCOUNTSTATUS,              
                                    @ivrstatus AS IVRSTATUS,              
                                    @billdate AS BILLDATE,            
                                    @billduedate AS BILLDUEDATE,              
                                    @billamount AS BILLAMOUNT,              
                                    @pastdueamount AS PASTDUEAMOUNT,              
                                    @firstname AS FIRSTNAME,              
                                    @lastname AS LASTNAME,              
                                    @streetnumber AS STREETNUMBER,              
                                    @streetname AS STREETNAME,              
                                    @citytown AS CITYTOWN,
                                    @stateprov AS STATEPROV,              
                                    @zippostal AS ZIPPOSTAL,              
                                    @paymentamount AS PAYMENTAMOUNT,              
                                    @paymentdate AS PAYMENTDATE,              
         					@colstatuscode AS COLSTATUSCODE,              
                                    @cashonly AS CASHONLY,              
                                    @disconnectdate AS DISCONNECTDATE,              
                                    @pendingpayment AS PENDINGPAYMENT,              
                                    @paymentplantype AS PAYMENTPLANTYPE,              
                                    @drawpayment AS DRAWPAYMENT,              
                                    @arrangementamount AS ARRANGEMENTAMOUNT,         
                                    @arrangementdate AS ARRANGEMENTDATE,              
                                    @arrangementstatus AS ARRANGEMENTSTATUS,              
                                    @phonenumber AS PHONENUMBER,              
                                    @phonetype AS PHONETYPE,              
                                    @phonedesc AS PHONEDESC,              
                                    @commentcode  AS COMMENTCODE,              
                                    @ccycle  as CYCLE,              
                                    @serviceorder as SERVICEORDER,              
                                    @pastduedate as PASTDUEDATE,
						@lnamount AS AMOUNTDUEBEFOREDUEDATE,  
						@commenttypecode  AS COMMENTTYPECODE,
						@containerName AS CONTAINERNAME,
                                    @billNumber AS BILLNUMBER,
                                    @lnFlag AS RESPONSECODE                                    
      	END              
      END              
      SELECT @rtnvalue = @lnFlag              
RETURN 
 
 
--SVN last revision and last change date
--$Revision: 88421 $ $LastChangedDate: 2020-09-24 10:00:33 -0400 (Thu, 24 Sep 2020) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETACCOUNTSERVICEMETER]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETACCOUNTSERVICEMETER]
@AccountNum		VARCHAR(15),
@ServiceCode	VARCHAR(2) = NULL
AS 
BEGIN
	SET NOCOUNT ON

	SELECT 
		BIF004.C_SERVICE AS SERVICECODE,
		CON009.C_DESCRIPTION AS SERVICEDESC,
		BIF004.D_DATEINSTALLED AS SERVICESTARTDATE,
		BIF004.D_DATEREMOVED AS SERVICEREMOVEDDATE,		
		BIF005.C_METER AS METERNUMBER
	FROM ADVANCED.BIF004
		INNER JOIN ADVANCED.CON009 ON BIF004.C_SERVICE = CON009.C_SERVICE
		INNER JOIN ADVANCED.BIF005 ON BIF005.C_ACCOUNT = BIF004.C_ACCOUNT AND BIF005.I_SERVICEID = BIF004.I_SERVICEID 
	WHERE
		BIF004.C_ACCOUNT = @AccountNum
	AND	(@ServiceCode IS NULL OR BIF004.C_SERVICE = @ServiceCode)
END 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GetAccountsInfoByCustomer]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GetAccountsInfoByCustomer]
	@customer VARCHAR(15)
AS

--Reason for this SP: LinkV3 uses this SP for getting multi accounts balance/pastdue amounts AND CustomerName AND Account Addresses by providing Customer No
-- For any questions please contact Mahmoud Bakkar.

--Link V3 compatible version 3.2.19
 
  SET NOCOUNT ON
  Declare   @dstart DATETIME,
            @dstop DATETIME,
            @drawpayment BIT,
            @ldraw BIT,
            @plantype VARCHAR(1),
            @paymentplantype  SMALLINT,
            @fullplantype VARCHAR(2),
            @lbalinplan BIT,
            @currentbalance         DECIMAL(15,2),
            @lbalinpap003 BIT,
            @pendingpayment         DECIMAL(15,2),
            @lnpending          DECIMAL(15,2),
            @billdate                 DATETIME,
            @billduedate            DATETIME,
            @billamount             DECIMAL(15,2),
            @lcAcctType         VARCHAR(2),
            @lcBillType         VARCHAR(2),
            @billnumber         DECIMAL(15,0),
            @lnamount           DECIMAL(15,2),
            @lnadjustments      DECIMAL(15,2),
            @lnTemp         DECIMAL(15,2), 
            @liDays             INT,
            @usebusinessdays  BIT = 0,
            @disconnectdate         DATETIME,
            @pastdueamount          DECIMAL(15,2),
            @ldtmp              DATETIME,
            @pastduedate  DATETIME ,
            @account varchar(15),
            @customerName varchar(300),
            @customerAddress varchar(max),
            @accountStatus varchar(2),
			@accountStatusDesc varchar(15),
            @rtnValue int

--Store reutls here
      Declare @ResultTable TABLE 
      ( 
            Customer VARCHAR(15), 
            Account  VARCHAR(15),
            AccountStatus  VARCHAR(15),
			AccountStatusDesc  VARCHAR(15),
            CustomerName  VARCHAR(300),
            CustomerAddress  VARCHAR(max),
            CurrentBalance DECIMAL(15,2),  
            PastDueAmount DECIMAL(15,2),
            DueDate         DATETIME,
            PastDueDate DATETIME,
			PendingPayment Decimal(15,2) 
      ) 

--Store Customer Name and Address here
Declare @SearchCustomerAccount Table
(
	cName varchar(300), 
	customer varchar(15),
	account varchar(15),
    cAddress varchar(max)
)	  



-- Get Current Balance and Past Due Amount

      --DECLARE @fullplantype VARCHAR(2),@plantype VARCHAR(1)              
      DECLARE @ybilled  DECIMAL(15,2),@ycredit DECIMAL(15,2),@luseplanbilledamtforprevbill BIT 
      DECLARE @lreconcil BIT, @plancredit DECIMAL(15,2) 
      DECLARE @paymentMadeBeforeDueDate DECIMAL(15,2) = 0
      DECLARE @excludeCreditTransCodes varchar(500)  =''
      DECLARE @excludeDebitTransCodes varchar(500)  =''
      DECLARE @excludetransCodes varchar(500), @cTranscode VARCHAR(5)  


Declare csrAccounts Cursor Fast_Forward For
Select C_ACCOUNT From ADVANCED.BIF003
where C_CUSTOMER=@customer

open csrAccounts
 FETCH NEXT FROM csrAccounts INTO @account
 While @@FETCH_STATUS = 0
 Begin
      SELECT @paymentplantype=0, @lbalinpap003=0, @disconnectdate=''             
      SELECT @currentbalance=0, @luseplanbilledamtforprevbill=0
      SELECT @lreconcil=NULL, @pendingpayment=0, @paymentMadeBeforeDueDate=0
	   set @customerName=''
	   set @customerAddress=''
	   set @accountStatus=''

	                   
  SET @drawpayment = 0              
                                 
                        DECLARE csrPAP CURSOR FAST_FORWARD FOR               
                        SELECT PAP002.L_DRAW,PAP001.C_PLANTYPE,PAP002.C_TYPE,PAP002.L_USEBALANCEINPAP003,PAP002.L_USEPLANBILLEDAMTFORPREVBILL, PAP002.C_EXCLUDECREDITTRANSCODES, PAP002.C_EXCLUDEDEBITTRANSCODES 
                         FROM ADVANCED.PAP001 PAP001 INNER JOIN ADVANCED.PAP002 PAP002 ON (PAP001.C_PLANTYPE=PAP002.C_PLANTYPE)                
                        WHERE PAP001.C_CUSTOMER=@customer AND PAP001.C_ACCOUNT=@account AND GETDATE()>=PAP001.D_STARTDATE AND (GETDATE()<DATEADD(day,1,PAP001.D_STOPDATE) OR PAP001.D_STOPDATE IS NULL)             
                        OPEN csrPAP              
                        FETCH NEXT FROM csrPAP INTO @drawpayment,@fullplantype,@plantype,@lbalinpap003,@luseplanbilledamtforprevbill, @excludeCreditTransCodes, @excludeDebitTransCodes 
                        IF @@FETCH_STATUS=0              
                        BEGIN              
		    IF @plantype='E'              
			SET @paymentplantype = 1              
	       	   IF @plantype='V'              
                    SET @paymentplantype = 2              
		   IF @plantype='L'              
                    SET @paymentplantype = 3              
		   IF @plantype IN ('E','L') AND @lbalinpap003=1 
			SELECT @currentbalance=Y_PLANBILLED+Y_CREDITS, @plancredit=Y_CREDITS FROM ADVANCED.PAP003 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account
                        END              
                        CLOSE csrPAP              
                        DEALLOCATE csrPAP              

                        --balance in BIF040              
                        IF @lbalinpap003=0              
                              SET @currentbalance = (SELECT SUM(BIF040.Y_CURRENTBALANCE) FROM ADVANCED.BIF040 BIF040 INNER JOIN ADVANCED.CON091 CON091               
                              ON (BIF040.C_ARCODE=CON091.C_ARCODE)               
                              WHERE BIF040.C_CUSTOMER=@customer AND BIF040.C_ACCOUNT=@account AND CON091.L_BIF042=1)               
                       
	         SET @currentbalance = ISNULL(@currentbalance,0)          
              
                        --bill information              
                        SELECT @billdate='',@billduedate='',@billamount=0,@lcAcctType='',@lcBillType='',@lnamount=0              
                        DECLARE csrBIF951 CURSOR FAST_FORWARD FOR              
                        SELECT TOP 1 D_BILLDATE,D_DUEDATE,Y_CURRENTTRANSACTIONS,C_ACCOUNTTYPE,C_BILLTYPE,Y_AMOUNTDUEBEFOREDUEDATE FROM ADVANCED.BIF951               
                        WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 ORDER BY D_BILLDATE DESC 
                        open csrBIF951              
                        fetch next from csrBIF951 into @billdate,@billduedate,@billamount,@lcAcctType,@lcBillType,@lnamount              
                        IF @@fetch_status=0            
                        BEGIN              
                              IF @billduedate IS NOT NULL AND @lcAcctType<>''              
                                    BEGIN              
                                          SELECT @liDays=ISNULL((SELECT SUM(I_DAYS) FROM ADVANCED.CON008 WHERE C_ACCOUNTTYPE=@lcAcctType AND C_BILLTYPE=@lcBillType),0)              
                                          IF @usebusinessdays = 1         
                                                SELECT @disconnectdate = ADVANCED.GetDisconnectDate(@billduedate, @lcAcctType, @lcBillType)           
                                          ELSE               
                                                SELECT @disconnectdate=DATEADD(day,@liDays,@billduedate)           
                                    END              
		      --Payment made before due date to calculate amount due before due date
        		      SELECT @paymentMadeBeforeDueDate = ISNULL((SELECT SUM(BIF041.Y_AMOUNT) FROM ADVANCED.BIF041 WHERE BIF041.C_CUSTOMER = @customer AND BIF041.C_ACCOUNT = @account 
			AND T_TRANSDT>=@billdate AND Y_AMOUNT<0 AND (I_BILLNUMBER = 0 AND I_TRANSNUM NOT IN (SELECT I_TRANSNUM FROM ADVANCED.BIF955 WHERE C_CUSTOMER = @customer AND BIF955.C_ACCOUNT = @account)) 
			AND C_TRANSCODE NOT IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACtIONTYPE='AD')),0)
                                    -- payment returned
                	      SET @paymentMadeBeforeDueDate = @paymentMadeBeforeDueDate + ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF041 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account  AND L_STATEMENT=0 
			AND Y_AMOUNT>0 AND T_TRANSDT>=@billdate AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE L_USEORIGINALAGE=1)),0) 
     		      SET  @lnamount = @lnamount + @paymentMadeBeforeDueDate
		      if @lnamount<0
		     	set @lnamount=0
                         END              
                        close csrBIF951              
                        deallocate csrBIF951              

	         SET @pendingpayment=ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND Y_AMOUNT<0 AND L_PROCESSED=0 AND I_PARENTTR=0 AND I_RECEIPT=0 AND L_DELETED=0 AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACTIONTYPE='CA')),0)
	         SET @pendingpayment=@pendingpayment+ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND Y_AMOUNT<0 AND L_PROCESSED=0 AND I_RECEIPT<>0 AND L_DELETED=0 AND C_TRANSCODE IN (SELECT C_TRANSCODE FROM ADVANCED.GLE001 WHERE C_TRANSACTIONTYPE='CA')),0)
	         SET @pendingpayment=@pendingpayment+ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.UTL045 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_PROCESSED=0),0)
	         SET  @lnamount = @lnamount + @pendingpayment

                        --exclude transcodes 
	         SET @excludetransCodes = ''           
                        DECLARE csrTransCodes CURSOR FAST_FORWARD FOR              
                        SELECT DISTINCT C_CREDITTRANSCODE FROM ADVANCED.CON091 UNION SELECT DISTINCT C_DEBITTRANSCODE FROM ADVANCED.CON091
                        open csrTransCodes              
                        fetch next from csrTransCodes into @cTranscode
	         WHILE @@FETCH_STATUS=0
		BEGIN
		        SET @excludetransCodes = @excludetransCodes + @cTranscode +','
	                       fetch next from csrTransCodes into @cTranscode
		END
         	         close csrTransCodes
	         deallocate csrTransCodes
	         SET @excludetransCodes = @excludetransCodes+@excludeCreditTransCodes+','+@excludeDebitTransCodes+','

                  --adjustment and loan amount
                  SELECT @lnadjustments=ISNULL((SELECT SUM(N_AMOUNT) FROM ADVANCED.BIF955 WHERE I_BILLNUMBER=@billnumber AND L_BIF042=1 AND N_SUMFLAG=0 AND I_TRANSNUM>0 AND N_AMOUNT>0 AND C_TRANSCODE NOT IN (SELECT C_TRANSCODE FROM ADVANCED. GLE001 WHERE L_INCLUDEINBALANCEOWING=1)),0)
                  SELECT @lnamount=ISNULL((SELECT SUM(Y_AMOUNTDUEBEFOREDUEDATE) FROM ADVANCED.BIF951 WHERE C_CUSTOMER=@Customer AND C_ACCOUNT=@Account AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND D_DUEDATE>getdate()-1),0)
                  
--------------------------------------------Past Due Amount (start)	

 SET @pastdueamount = @currentbalance  
    	        --mimic v4 logic to calculate past due amount
    	        DECLARE @isMaster bit, @billGroup VARCHAR(5), @lUpdatetoMaster bit
      	        SELECT @isMaster=A.L_MASTER, @billGroup = A.C_BILLGROUP, @lUpdatetoMaster=B.L_UPDATEBILLTRANSTOMASTER FROM ADVANCED.BIF003 A INNER JOIN ADVANCED.BIF071 B ON (A.C_BILLGROUP=B.C_BILLGROUP)
		WHERE A.C_CUSTOMER=@customer AND A.C_ACCOUNT=@account AND A.L_MASTER=1 AND B.L_UPDATEBILLTRANSTOMASTER=1 ORDER BY A.C_ACCOUNTSTATUS
	        if @isMaster is not null and @isMaster =1 and @lUpdatetoMaster=1
		BEGIN
		SET @lnTemp = ISNULL((SELECT SUM(Y_CURRENTTRANSACTIONS) FROM ADVANCED.BIF951 WHERE C_BILLGROUP=@billGroup AND L_MASTER=0 AND L_PROCESSED=1 AND C_BILLTYPE<>'CB' AND D_DUEDATE<=CONVERT(DATE,getdate())),0)
		if  @lnTemp > 0
			set @pastdueamount = @pastdueamount - @lnTemp
		END
	       else
		BEGIN
		IF @luseplanbilledamtforprevbill=1
			BEGIN
			SELECT TOP 1 @lreconcil=L_RECONCIL, @ybilled=Y_PLANBILL, @ycredit=Y_PLANCRED, @billnumber=I_BILLNUMBER FROM ADVANCED.BIF951 
				 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 AND D_DUEDATE>=CONVERT(DATE,getdate()) ORDER BY D_DUEDATE DESC 
			 IF @lreconcil IS NOT NULL
				 BEGIN
				if @lreconcil=1
					SET @pastdueamount = @ybilled + @ycredit + @plancredit
				else
					SET @pastdueamount = @ybilled + @plancredit
				-- adjustments	
				SET @lnTemp = ISNULL((SELECT SUM(N_AMOUNT) FROM ADVANCED.BIF955 WHERE I_BILLNUMBER=@billnumber AND L_BIF042=1 AND N_SUMFLAG=0 AND N_AMOUNT>0 AND I_TRANSNUM>0 AND I_ORIGBILL=0 AND CHARINDEX(c_transcode+',',@excludetransCodes)=0),0)
				SET @pastdueamount = @pastdueamount - @lnTemp 
				 END
			END
		ELSE IF @pastdueamount > 0
			BEGIN
			-- not due amount
			SET @lnTemp=ISNULL((SELECT SUM(Y_CURRENTTRANSACTIONS) FROM ADVANCED.BIF951 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 AND D_DUEDATE>=CONVERT(date,getdate())),0)
			SET @pastdueamount = @pastdueamount - @lnTemp 
			-- not billed amount
			SET @lnTemp=(SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF041 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_STATEMENT=0 AND Y_AMOUNT>0 AND T_TRANSDT>dateadd(month, -12, getdate()) AND D_AGING IS NULL 
				AND CHARINDEX(C_TRANSCODE+',',@excludetransCodes)=0 AND ((I_BILLNUMBER = 0 AND (I_LINKEDTRANSNUM = 0 OR (SELECT COUNT(*) FROM ADVANCED.BIF955 WHERE BIF041.I_TRANSNUM = BIF955.I_TRANSNUM)=0)) 
				OR (ISNULL((SELECT I_PBILLNUM FROM ADVANCED.BIF956 WHERE BIF956.I_TRANSNUM = BIF041.I_TRANSNUM),0)=I_BILLNUMBER AND ISNULL((SELECT D_DUEDATE FROM ADVANCED.BIF951 WHERE BIF041.I_BILLNUMBER = BIF951.I_BILLNUMBER),GETDATE()) < GETDATE())))
			SET @pastdueamount = @pastdueamount - ISNULL(@lnTemp,0) 
			-- pending payment 
			SET @pastdueamount = @pastdueamount + @pendingpayment
			END

		--exclude NSF transcodes 
		SET @excludetransCodes = ''           
	                DECLARE csrTransCodes CURSOR FAST_FORWARD FOR              
    	               SELECT DISTINCT C_TRANSCODE FROM ADVANCED.GLE001 WHERE L_NSFTRANSACTION=1 
		open csrTransCodes              
		fetch next from csrTransCodes into @cTranscode
		WHILE @@FETCH_STATUS=0
			BEGIN
				SET @excludetransCodes = @excludetransCodes + @cTranscode +','
		              		fetch next from csrTransCodes into @cTranscode
			END
		close csrTransCodes
		deallocate csrTransCodes
									
		if @billdate is null or @billdate=''
			set @ldtmp = CONVERT(date,getdate())
		else
			set @ldtmp = @billdate
		SET @lnTemp=ISNULL((SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF041 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND CHARINDEX(C_TRANSCODE+',',@excludetransCodes)>0 AND Y_AMOUNT>0 AND T_TRANSDT>=@ldtmp AND D_AGING IS NULL),0)
		SET @pastdueamount = @pastdueamount - @lnTemp 
		END
	              IF @pastdueamount<0                              
			SET @pastdueamount=0 
  	              ELSE                              
		      BEGIN                              
		             SELECT @ldtmp=(SELECT TOP 1 D_DUEDATE FROM ADVANCED.BIF951 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND D_DUEDATE<CONVERT(DATE,getdate()) AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1              
				ORDER BY D_BILLDATE DESC)               
		              IF @ldtmp IS NOT NULL                               
    				SET @pastduedate=@ldtmp 
 		    END              


--------------------------------------------------------PastDueAmount (end)


--Get Account Status and Desc
				Select TOP 1  @accountStatus = BIF003.C_ACCOUNTSTATUS , @accountStatusDesc = CON015.C_DESCRIPTION
				FROM ADVANCED.BIF003 
				JOIN ADVANCED.CON015 ON BIF003.C_ACCOUNTSTATUS = CON015.C_ACCOUNTSTATUS
				Where BIF003.C_CUSTOMER = @customer AND BIF003.C_ACCOUNT = @account



--Get Customer Name and Address here

				Insert into @SearchCustomerAccount
				exec ADVANCED.SEARCHBYCUSTOMERACCOUNT @customer, @account,  @rtnValue Output

--Assign results to parameters                        

				Select @customerName = t.cName, @customerAddress = t.cAddress
				From @SearchCustomerAccount as t
				Where t.customer = @customer AND t.account = @account

--Empty the table

				Delete @SearchCustomerAccount

--Insert Customer/Account all info to the result table
               INSERT INTO @ResultTable
			   ( Customer, Account,AccountStatus, AccountStatusDesc,CustomerName,CustomerAddress, CurrentBalance, PastDueAmount, DueDate, PastDueDate, PendingPayment) 
			   VALUES
			   (@Customer,@Account,@accountStatus, @accountStatusDesc,@customerName,@customerAddress, @currentbalance, @pastdueamount, @billduedate, @pastduedate, @pendingpayment)
	
	 FETCH NEXT FROM csrAccounts INTO @account
	End
     CLOSE csrAccounts
     DEALLOCATE csrAccounts

--Get all records

Select * From @ResultTable

 
 
--SVN last revision and last change date
--$Revision: $ $LastChangedDate: $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETADDITIONALCUSTOMER]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETADDITIONALCUSTOMER]
@CustomerNum	VARCHAR(15)
AS
BEGIN
	SET NOCOUNT ON

	SELECT
		LTRIM(RTRIM(BIF011.C_PREFIX+' '+BIF011.C_FIRSTNAME+' '+BIF011.C_LASTNAME+' '+BIF011.C_SUFFIX)) AS CUSTOMERNAME,
		BIF011.C_RELATIONSHIP AS RELATIONSHIP,
		BIF011.C_SINNUM AS SSN
	FROM ADVANCED.BIF011
	WHERE BIF011.C_CUSTOMER = @CustomerNum
END 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GetBill]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GetBill]
	@billnumber	bigint
AS
	SET NOCOUNT ON
			BEGIN
				select * from bif951_c where I_BILLNUMBER = 
@billnumber
			END

RETURN

GO
/****** Object:  StoredProcedure [ADVANCED].[GETBILLINGBYDATE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETBILLINGBYDATE] 
(      
 @BillStartDate DATETIME,      
 @BillEndDate DATETIME     
 )  
         
AS            
  
BEGIN  
 SET NOCOUNT ON            
                       
 SELECT RTRIM(LTRIM(A.C_ACCOUNT)) AS C_ACCOUNT,LTRIM(RTRIM(A.C_CUSTOMER)) AS C_CUSTOMER,A.D_BILLDATE,A.D_DUEDATE,A.I_BILLNUMBER,
A.Y_ORGGROSS,A.Y_ORGGROSS AS Y_ORGGROSS2,A.Y_AMOUNTDUEAFTERDUEDATE,A.Y_MINPAYAMOUNT
 ,B.C_NAME1 as CUSTOMERNAME
 ,RTRIM(LTRIM(B.C_STREETNUM)) + ' ' + RTRIM(LTRIM(B.C_STREET)) + ' ' + RTRIM(LTRIM(B.C_APT)) as ACTIVEADDRESSQL    
 ,'' as ACTIVEADDRESS2    
 ,B.C_TOWN    
 ,B.C_PROV    
 ,B.C_POSTCODE    
 ,B.C_COUNTRY    
 ,RTRIM(LTRIM(C.C_STREETNUM)) + ' ' + RTRIM(LTRIM(C.C_STREET)) + ' ' + RTRIM(LTRIM(C.C_APT)) as SERVADDRESS    
 FROM ADVANCED.BIF951 A CROSS APPLY ADVANCED.BIF206T(A.C_CUSTOMER,A.C_ACCOUNT,CONVERT(CHAR(10),GETDATE(),120)) B
 INNER JOIN ADVANCED.BIF002 C on c.C_ACCOUNT = A.C_ACCOUNT
 WHERE A.L_PROCESSED = 1 AND  A.D_BILLDATE>=@BillStartDate AND A.D_BILLDATE<=@BillEndDate  
 ORDER BY A.D_BILLDATE DESC  
 END; 
 
--SVN last revision and last change date
--$Revision: $ $LastChangedDate: $

GO
/****** Object:  StoredProcedure [ADVANCED].[GetBillingData]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GetBillingData]
@fromRecord int,
@toRecord int

AS
SET NOCOUNT ON 

--Temp table to get all active accounts to it
Declare @tmp table 
(
RowNum		int,
Customer	varchar(15), 
Account		varchar(15)
)

--Result table will be returned
Declare @result table 
(
Customer		varchar(15), 
Account			varchar(15),
CurrentBalance	DECIMAL(15,2) ,
BillDueDate		date,
StreetNum		varchar(10)
)


DECLARE @lcCustomer						VARCHAR(15), 
		@lcAccount						VARCHAR(15),
		@lbalinpap003					BIT, 
		@paymentplantype				SMALLINT,
		@currentbalance					DECIMAL(15,2),       
		@plantype						VARCHAR(1) ,  
		@plancredit						DECIMAL(15,2),  
		@streetNum						varchar(10), 
		@billDueDate					date,
		@ybilled						DECIMAL(15,2),
		@ycredit						DECIMAL(15,2),
		@luseplanbilledamtforprevbill	BIT
    

--Get all active accounts and insert them to the temp table

Insert into @tmp
Select ROW_NUMBER() OVER (ORDER BY C_CUSTOMER, C_ACCOUNT) AS Rownum,  C_CUSTOMER, C_ACCOUNT
FROM  BIF003
Where C_ACCOUNTSTATUS='AC'


--For each account get the service address steet number, current balance and the last bill due date
DECLARE csrAccounts CURSOR FAST_FORWARD FOR 
Select Customer, Account from @tmp where RowNum BETWEEN @fromRecord AND @toRecord
Open csrAccounts
FETCH NEXT FROM csrAccounts INTO @lcCustomer, @lcAccount

While @@FETCH_STATUS=0              
BEGIN 

	-- Empty the parameters for each account
	SELECT @paymentplantype=0, @lbalinpap003=0, @plancredit = 0, @streetNum =''
	SELECT @currentbalance=0, @luseplanbilledamtforprevbill=0, @billDueDate=''

	--service address info              
	SELECT @streetNum = ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')
	FROM ADVANCED.BIF002               
	WHERE BIF002.C_ACCOUNT=@lcAccount  
	
	--Get Current Balance
	SELECT TOP 1 @plantype =  PAP002.C_TYPE, @lbalinpap003 = PAP002.L_USEBALANCEINPAP003
	FROM ADVANCED.PAP001 PAP001 
	INNER JOIN ADVANCED.PAP002 PAP002 ON (PAP001.C_PLANTYPE=PAP002.C_PLANTYPE)                
	WHERE PAP001.C_CUSTOMER=@lcCustomer AND PAP001.C_ACCOUNT=@lcAccount 
	AND GETDATE()>=PAP001.D_STARTDATE AND (GETDATE()<DATEADD(day,1,PAP001.D_STOPDATE) OR PAP001.D_STOPDATE IS NULL)             

	IF @plantype='E'              
		SET @paymentplantype = 1              
	IF @plantype='V'              
		SET @paymentplantype = 2              
	IF @plantype='L'              
		SET @paymentplantype = 3              
	IF @plantype IN ('E','L') AND @lbalinpap003=1 
		SELECT @currentbalance=Y_PLANBILLED+Y_CREDITS, @plancredit=Y_CREDITS FROM ADVANCED.PAP003 WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount

	IF @lbalinpap003=0              
		SET @currentbalance = (SELECT SUM(BIF040.Y_CURRENTBALANCE) FROM ADVANCED.BIF040 BIF040 
		INNER JOIN ADVANCED.CON091 CON091 ON (BIF040.C_ARCODE=CON091.C_ARCODE)               
		WHERE BIF040.C_CUSTOMER=@lcCustomer AND BIF040.C_ACCOUNT=@lcAccount AND CON091.L_BIF042=1)  

	-- Get BillDueDate
	SELECT TOP 1 @billDueDate = D_DUEDATE
	FROM ADVANCED.BIF951               
	WHERE C_CUSTOMER=@lcCustomer AND C_ACCOUNT=@lcAccount AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<>'CB' AND L_PROCESSED=1 
	ORDER BY D_BILLDATE DESC 

	-- Insert record to Results table
	Insert Into @result
	Select @lcCustomer, @lcAccount, ISNULL(@currentbalance,0.00), @billDueDate, @streetNum

FETCH NEXT FROM csrAccounts INTO @lcCustomer, @lcAccount

END
CLOSE csrAccounts              
DEALLOCATE csrAccounts  

--Return the results
Select Customer, Account, CurrentBalance, BillDueDate, StreetNum from @result









GO
/****** Object:  StoredProcedure [ADVANCED].[GETBILLINGHISTORY]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETBILLINGHISTORY] 
	@customer	VARCHAR(15),
	@account	VARCHAR(15),
	@records	INT,
	@rtnvalue	SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcString VARCHAR(600),
		@lnFlag SMALLINT,
		@retacctstatus  VARCHAR(2),
		@retpin         VARCHAR(10),
		@retcolstatus   VARCHAR(2),
		@retcustacctid  BIGINT			

	EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustacctid OUTPUT 
	IF @lnFlag = 1
		BEGIN
			SET @lcString = 'SELECT TOP '+LTRIM(STR(@Records))+' 1 AS RESPONSECODE, D_BILLDATE AS BILLDATE, Y_CURRENTTRANSACTIONS AS BILLAMOUNT,  D_DUEDATE AS BILLDUEDATE '
				+ ' FROM ADVANCED.BIF951 WHERE C_CUSTOMER='''+ @Customer+ ''' AND C_ACCOUNT='''+@Account
				+ ''' AND L_PROCESSED=1 AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<> ''CB'' '
				+ ' ORDER BY D_BILLDATE DESC '
			EXEC(@lcString)
		END

	SELECT @rtnvalue = @lnFlag
	IF @lnFlag != 1
		SELECT @lnFlag AS RESPONSECODE, '1900-01-01' AS BILLDATE, 0 AS BILLAMOUNT
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETBILLINGHISTORYWITHBILLNUM]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETBILLINGHISTORYWITHBILLNUM]      
 @customer VARCHAR(15),      
 @account VARCHAR(15),      
 @BillStartDate VARCHAR(15),
 @BillEndDate VARCHAR(15),
 @rtnvalue INT OUTPUT      
AS      
 SET NOCOUNT ON      
 DECLARE @lcString VARCHAR(600),      
   @lnFlag SMALLINT,      
   @retacctstatus  VARCHAR(2),      
   @retpin         VARCHAR(10),      
   @retcolstatus   VARCHAR(2),      
   @retcustaccid   DECIMAL(15,0)      
         
      
 EXEC ADVANCED.ValidateAccount @account,@lnFlag OUTPUT      
 IF @lnFlag = 1      
 BEGIN      
  EXEC ADVANCED.ValidateCustomer @customer,@lnFlag OUTPUT      
  IF @lnFlag = 1      
  BEGIN      
   EXEC ADVANCED.ValidateCustomerAccount @customer,@account, @lnFlag OUTPUT, @retacctstatus OUTPUT, @retpin OUTPUT, @retcolstatus OUTPUT, @retcustaccid OUTPUT      
         
   IF @lnFlag = 1      
   BEGIN      
       
    SELECT 1 AS RESPONSECODE, C_CUSTOMER AS CUSTOMERNUMBER,C_ACCOUNT AS ACCOUNTNUMBER,I_BILLNUMBER AS BILLNUMBER, D_DUEDATE AS DUEDATE,D_BILLDATE AS BILLDATE,Y_CURRENTTRANSACTIONS AS BILLAMOUNT,   
    CASE WHEN C_PLANTYPE LIKE 'L%' THEN BIF951.Y_BALANCEFORWARD
    ELSE BIF951.Y_BALANCEFORWARD+ BIF951.Y_CANCELLEDBILLING + BIF951.Y_TRANSACTIONSSINCELASTBILL + BIF951.Y_PREVIOUSBILLING END as OWING FROM ADVANCED.BIF951
    WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND D_BILLDATE BETWEEN  CONVERT(DATE,@BillStartDate) AND CONVERT(DATE,@BillEndDate) AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<> 'CB'     
    AND BIF951.L_PROCESSED=1 ORDER BY D_BILLDATE DESC     
    END      
  END      
 END      
      
 SELECT @rtnvalue = @lnFlag      
 IF @lnFlag != 1      
  SELECT @lnFlag as RESPONSECODE, '1900-01-01' AS BILLDATE,0 AS BILLAMOUNT,'1900-01-01' AS DUEDATE, '' AS CUSTOMERNUMBER, '' AS ACCOUNTNUMBER,   0 AS BILLNUMBER, 0 as OWING
RETURN 

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETCONSUMPTIONHISTORY]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETCONSUMPTIONHISTORY]
	@customer	VARCHAR(15),
	@account	VARCHAR(15),
	@prevperiod	INT,
	@rtnvalue	SMALLINT OUTPUT 
AS
	SET NOCOUNT ON
	DECLARE		@lnFlag	SMALLINT,
			@retacctstatus VARCHAR(2),
			@retpin	VARCHAR(10),
			@retcolstatus VARCHAR(2),
			@retcustacctid BIGINT,
			@liPrevYear INT,
			@liPrevMonth INT,
			@consum NUMERIC(20,5),
			@readdate DATE,
			@days INT,
			@prevconsum NUMERIC(20,5),
			@prevreaddate DATE,
			@prevdays NUMERIC(4)

	IF object_id('tempdb..#CONSUMPTION') is not null 
			truncate table #CONSUMPTION
	ELSE
		CREATE TABLE #CONSUMPTION (Consumption DECIMAL(20,2),ReadingDate Date, ReadingDays Decimal(4,0), 
			PrevConsumption DECIMAL(20,2),PrevReadingDate Date, PrevReadingDays Decimal(4,0)) 

		EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustacctid OUTPUT
		IF @lnFlag = 1
			BEGIN
				/** get billing period on last updated bill **/
				/** if prevperiod = 1 get consumption for last year,same billing period **/
				/** if prevperiod = 2 get consumption for the previous month, based on the billing period **/
				DECLARE csrBIF030 CURSOR FOR 
				SELECT TOP 2 N_CONSUMPTION,T_READDATE,I_DAYS FROM ADVANCED.BIF016 
					WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND L_PROCESSED=1 ORDER BY T_READDATE DESC
				OPEN csrBIF030
				FETCH NEXT FROM csrBIF030 INTO @consum,@readdate,@days
				IF @prevperiod=2
					BEGIN
						/** return consumption for the previous billing period **/
						FETCH NEXT FROM csrBIF030 INTO @prevconsum,@prevreaddate,@prevdays
					END
				ELSE
					BEGIN
						SELECT @liPrevYear = YEAR(@readdate) - 1
						SELECT @liPrevMonth = MONTH(@readdate) + 1
						/** get consumption info for previous period **/
						SELECT top 1 @prevconsum=N_CONSUMPTION,@prevreaddate=T_READDATE,@prevdays=I_DAYS 
						FROM ADVANCED.BIF016 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND 
							YEAR(T_READDATE)=@liPrevYear AND MONTH(T_READDATE)<@liPrevMonth AND L_PROCESSED=1 
							ORDER BY T_READDATE DESC
						IF @prevconsum IS NULL SELECT @prevconsum=0
						IF @prevdays IS NULL SELECT @prevdays=0
					END

				CLOSE csrBIF030
				DEALLOCATE csrBIF030
				INSERT INTO #CONSUMPTION VALUES(@consum,@readdate,@days,@prevconsum,@prevreaddate,@prevdays)	
				SELECT * FROM #CONSUMPTION 
			END

		SELECT @rtnvalue = @lnFlag

		IF @lnFlag != 1
			SELECT @lnFlag AS RESPONSECODE
RETURN
				
								 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GetCurrentTotalPayment]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GetCurrentTotalPayment]
   		@Account			VARCHAR(15),
		@Customer			VARCHAR(15),
		@retTotalPayment	DECIMAL(15,2)	OUTPUT,
		@retFlag			SMALLINT		OUTPUT
AS 
	set nocount on
	declare @lyTotalPayment	DECIMAL(15,2),
			@lcAccount		VARCHAR(15),
			@lcCustomer		VARCHAR(15),
			@lnFlag			SMALLINT
	
	SELECT @lcAccount = @Account
	exec ADVANCED.ValidateAccount @lcAccount,@lnFlag OUTPUT

	IF @lnFlag = 1
	SELECT @lcCustomer = @Customer
	exec ADVANCED.ValidateCustomer @lcCustomer,@lnFlag OUTPUT

	IF @lnFlag = 1
		BEGIN
		SELECT @lyTotalPayment=(SELECT SUM(Y_AMOUNT) FROM ADVANCED.BIF956 WHERE C_ACCOUNT=@Account AND C_CUSTOMER=@Customer AND L_DELETED = 0)

		select @retTotalPayment=@lyTotalPayment

		IF @lyTotalPayment IS NULL
			select @retFlag = -3
		ELSE
			select @retFlag = 1
		END
	ELSE
		select @retFlag = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETCUSTOMER]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETCUSTOMER]
	@Account VARCHAR(15),
	@retCustomer VARCHAR(15) OUTPUT,
	@retFlag SMALLINT OUTPUT
AS 
	set nocount on
	declare @lcCustomer        VARCHAR(15),
		@lcAccount         VARCHAR(15),
		@lnFlag            SMALLINT
	SELECT @lcAccount=@Account,@lcCustomer=''

	exec ADVANCED.ValidateAccount @lcAccount,@lnFlag OUTPUT

	IF @lnFlag = 1
		BEGIN
		SELECT @lcCustomer=C_CUSTOMER FROM ADVANCED.BIF003 WHERE C_ACCOUNT=@Account AND C_ACCOUNTSTATUS='AC'
		IF @lcCustomer=''
			select @lnFlag = -3
		END
	SELECT @retCustomer=@lcCustomer, @retFlag = @lnFlag
return
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETCUSTOMERACCOUNTCOMMENTS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETCUSTOMERACCOUNTCOMMENTS]
@CustomerNum	VARCHAR(15),
@AccountNum		VARCHAR(15) = NULL
AS
BEGIN
	SET NOCOUNT ON

	SELECT
		BIF003.C_CUSTOMER AS CUSTOMERNUMBER,
		BIF003.C_ACCOUNT  AS ACCOUNTNUMBER,
		BIF017.T_DATETIME AS COMMENTDATE,
		BIF017.D_EXPIRATIONDATE AS COMMENTEXPIRATIONDATE,
		BIF017.C_USERID   AS USERID,
		BIF017.M_COMMENTS AS COMMENTS
	FROM ADVANCED.BIF017
	INNER JOIN ADVANCED.BIF003 ON BIF017.C_CUSTOMER = BIF003.C_CUSTOMER
						   	 AND BIF017.C_ACCOUNT = BIF003.C_ACCOUNT
	WHERE 
		BIF017.C_CUSTOMER = @CustomerNum
	AND (@AccountNum IS NULL OR BIF017.C_ACCOUNT = @AccountNum)
END
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETCUSTOMERACCOUNTLOOKUP]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETCUSTOMERACCOUNTLOOKUP]
@CustomerNum	VARCHAR(15),
@AccountNum		VARCHAR(15) = NULL
AS
BEGIN
	SET NOCOUNT ON

	DECLARE @Today VARCHAR(10) 
	
	SET @Today = (SELECT CONVERT(VARCHAR(10),GETDATE(),101))

	SELECT
		BIF003.C_CUSTOMER AS CUSTOMERNUMBER,
		BIF003.C_ACCOUNT  AS ACCOUNTNUMBER,
		LTRIM(RTRIM(BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX)) AS CUSTOMERNAME,
		RTRIM(LTRIM(ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)),'')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT)) AS SERVICEADDRESS,
		(
			SELECT 
				RTRIM(LTRIM(CURRENTBILLADDR.C_STREETNUM))+' '+RTRIM(LTRIM(CURRENTBILLADDR.C_STREET))+' '+RTRIM(LTRIM(CURRENTBILLADDR.C_APT))+' '+RTRIM(LTRIM(CURRENTBILLADDR.C_TOWN))+' '+RTRIM(LTRIM(CURRENTBILLADDR.C_PROV))+' '+RTRIM(LTRIM(CURRENTBILLADDR.C_POSTCODE)) 
			FROM ADVANCED.BIF206T(@CustomerNum,@AccountNum,@Today) CURRENTBILLADDR
		) AS CURRENTBILLINGADDRESS,
		BIF003.C_ACCOUNTSTATUS	AS ACCOUNTSTATUS,
		CON015.C_DESCRIPTION	AS ACCOUNTSTATUSDESC,
		BIF001.D_DATEOFBIRTH	AS DATEOFBIRTH,
		BIF001.C_EMAIL			AS EMAILADDRESS,
		(
			SELECT ISNULL(BIF010.C_PHONENUMBER,'')
			FROM ADVANCED.BIF010 
			INNER JOIN ADVANCED.BIF001 ON BIF010.C_CUSTOMER = BIF001.C_CUSTOMER
			INNER JOIN ADVANCED.CON018 ON BIF001.C_NAMETYPE = CON018.C_CODE 
				  AND ((CON018.L_NAMETYPE = 1 AND BIF010.C_PHONETYPE = 'HO') OR (CON018.L_NAMETYPE <> 1 AND BIF010.C_PHONETYPE = 'BU'))
			WHERE BIF010.C_CUSTOMER = BIF003.C_CUSTOMER
			and BIF010.L_CUSTOM1 = 1		
		) AS PREFERREDPHONENUMBER,
		(
			SELECT
				LTRIM(RTRIM(BIF006.C_PREFIX+' '+BIF006.C_FIRSTNAME+' '+BIF006.C_LASTNAME+' '+BIF006.C_SUFFIX)) AS NAME
			FROM ADVANCED.BIF006 
			WHERE 
				BIF006.C_ADDTYPE = 'EM'
			AND	BIF006.C_CUSTOMER = @CustomerNum
			AND	BIF006.C_ACCOUNT = @AccountNum
		) AS EMPLOYERNAME,
		BIF001.C_SINNUM			AS SSN,
		BIF001.C_DRIVENUM		AS DRIVERLICENSENUMBER,
		BIF001.C_DRIVENUMPROV	AS DRIVERLICENSESTATEOFISSUE,
		(
			SELECT
				LTRIM(RTRIM(BIF006.C_PREFIX+' '+BIF006.C_FIRSTNAME+' '+BIF006.C_LASTNAME+' '+BIF006.C_SUFFIX)) AS NAME
			FROM ADVANCED.BIF006 
			WHERE 
				BIF006.C_ADDTYPE = 'PO'
			AND	BIF006.C_CUSTOMER = @CustomerNum
			AND	BIF006.C_ACCOUNT = @AccountNum
		) AS LANDLORDNAME,
		ISNULL(BIF040.BALANCEDUE, 0) AS BALANCEDUE
	FROM ADVANCED.BIF003
	INNER JOIN ADVANCED.CON015 ON BIF003.C_ACCOUNTSTATUS = CON015.C_ACCOUNTSTATUS 
	INNER JOIN ADVANCED.BIF001 ON BIF003.C_CUSTOMER = BIF001.C_CUSTOMER 
	INNER JOIN ADVANCED.BIF002 ON BIF003.C_ACCOUNT = BIF002.C_ACCOUNT
	LEFT  JOIN ( SELECT 
					BIF040.C_CUSTOMER, BIF040.C_ACCOUNT, SUM(BIF040.Y_CURRENTBALANCE) AS BALANCEDUE
				 FROM ADVANCED.BIF040
				 INNER JOIN ADVANCED.CON091 ON BIF040.C_ARCODE = CON091.C_ARCODE AND CON091.L_BIF042=1
				 GROUP BY BIF040.C_CUSTOMER, BIF040.C_ACCOUNT
			   ) AS BIF040 ON BIF003.C_CUSTOMER = BIF040.C_CUSTOMER
						  AND BIF003.C_ACCOUNT = BIF040.C_ACCOUNT
	WHERE 
		BIF003.C_CUSTOMER = @CustomerNum
	AND (@AccountNum IS NULL OR BIF003.C_ACCOUNT = @AccountNum)
END 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETCUSTOMERACCOUNTNOTES]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETCUSTOMERACCOUNTNOTES]
@CustomerNum	VARCHAR(15),
@AccountNum		VARCHAR(15) = NULL
AS
BEGIN
	SET NOCOUNT ON

	SELECT
		BIF003.C_CUSTOMER AS CUSTOMERNUMBER,
		BIF003.C_ACCOUNT  AS ACCOUNTNUMBER,
		BIF008.T_DATETIME AS NOTEDATE,
		BIF008.D_EXPIRATIONDATE AS NOTEEXPIRATIONDATE,
		BIF008.C_USERID   AS USERID,
		BIF008.M_NOTES    AS NOTES
	FROM ADVANCED.BIF008
	INNER JOIN ADVANCED.BIF003 ON BIF008.C_CUSTOMER = BIF003.C_CUSTOMER
							 AND BIF008.C_ACCOUNT = BIF003.C_ACCOUNT
	WHERE 
		BIF008.C_CUSTOMER = @CustomerNum
	AND (@AccountNum IS NULL OR BIF008.C_ACCOUNT = @AccountNum)
END
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETCUSTOMERBYNAME]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETCUSTOMERBYNAME]
@FirstName		VARCHAR(20) = NULL,
@LastName		VARCHAR(60) = NULL,
@SSNVisa		VARCHAR(24)	= NULL
AS
BEGIN
	SET NOCOUNT ON

	SELECT 
		BIF001.C_CUSTOMER AS CUSTOMERNUMBER,
		LTRIM(RTRIM(BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX)) AS CUSTOMERNAME,
		BIF001.C_SINNUM AS SSN
	FROM ADVANCED.BIF001
	WHERE	(@FirstName Is NULL OR BIF001.C_FIRSTNAME LIKE @FirstName+'%')  
		AND	(@LastName  Is NULL OR BIF001.C_LASTNAME  LIKE @LastName+'%')
		AND (@SSNVisa	Is NULL OR BIF001.C_SINNUM = @SSNVisa)
END 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETDELINQUENTNOTICEINFO]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETDELINQUENTNOTICEINFO]
	@cColStatus	VARCHAR(2),
	@accountStatus VARCHAR(50)
AS 
	set nocount on
	DECLARE @customer  VARCHAR(15),
		@account    VARCHAR(15),
		@service    VARCHAR(200),
		@balance    DECIMAL(15,2),
		@ldDue      DATE,
		@ldBill     DATE,
		@ldShutOff  DATE,
		@lnAmount     DECIMAL(15,2),
		@lnPastDue    DECIMAL(15,2),
		@lcAcctType   VARCHAR(2),
		@lcBillType   VARCHAR(2),
		@liDays       INT,
		@lnFee        DECIMAL(15,2),
		@lcPhone      VARCHAR(120),
		@inotice      int,
		@ibill        bigint

	if object_id('tempdb..#INQUIRY4') is not null 
		truncate table #INQUIRY4
	ELSE
		CREATE TABLE #INQUIRY4 (customer VARCHAR(15),Account VARCHAR(15),ServiceAddress VARCHAR(200),InterruptionDate Date,
			BillDate Date,MimiPayAmount DECIMAL(15,2),PhoneNumber VARCHAR(20),AccountBalance DECIMAL(15,2),DisconnectFee  DECIMAL(15,2)) 

	DECLARE csrBIF003 CURSOR FOR 
	SELECT DISTINCT C_CUSTOMER,C_ACCOUNT,C_ACCOUNTTYPE FROM ADVANCED.BIF003 WHERE C_COLLECTIONSTATUS=@cColStatus AND CHARINDEX(BIF003.C_ACCOUNTSTATUS,@accountStatus)>0 and BIF003.C_ACCOUNTSTATUS<> ''

	OPEN csrBIF003
	FETCH NEXT FROM csrBIF003 INTO @customer,@account, @lcAcctType

	WHILE @@FETCH_STATUS=0
	BEGIN
		select @service=(SELECT ISNULL(CAST(N_STREETNUM AS VARCHAR(10)), '')+' '+C_STRNUMSUFFIX+' '+C_STREETPREFIX+' '+C_STREET+' '+C_STREETSUFFIX+' '+C_APT+','+C_TOWN FROM ADVANCED.BIF002 WHERE C_ACCOUNT=@account)
		select @service=LTRIM(RTRIM(REPLACE(@service,'  ',' ')))
		if @service is null
			select @service=' '
		select @balance=(SELECT SUM(BIF040.Y_CURRENTBALANCE) FROM ADVANCED.BIF040 BIF040,ADVANCED.CON091 CON091 WHERE BIF040.C_ARCODE=CON091.C_ARCODE AND CON091.L_BIF042=1 AND BIF040.C_CUSTOMER=@customer AND BIF040.C_ACCOUNT=@account)
		if @balance is null
			select @balance=0
		select @ldBill=NULL,@ldShutOff=NULL,@lnAmount=0,@ldDue=NULL,@inotice=null,@ibill=null

		SELECT TOP 1 @inotice = convert(int,c_notice) FROM ADVANCED.CON008  WHERE C_COLLECTIONSTATUS=@cColStatus AND C_ACCOUNTTYPE=@lcAcctType 
		if @inotice is not null and @inotice>0	
			SELECT TOP 1 @ibill = I_BILLNUMBER FROM ADVANCED.COL024  WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account AND N_NOTICE=@inotice AND L_REMOVED=0 ORDER BY I_BILLNUMBER DESC 

		if @ibill is not null and @ibill>0 	
		BEGIN 
			SELECT @ldBill=D_BILLDATE,@ldDue=D_DUEDATE,@lnAmount=Y_CURRENTTRANSACTIONS,@lcAcctType=C_ACCOUNTTYPE,@lcBillType=C_BILLTYPE FROM ADVANCED.BIF951  WHERE I_BILLNUMBER=@ibill 
			if @ldDue IS NOT NULL AND @lcAcctType IS NOT NULL
			BEGIN
				SELECT @liDays=(SELECT SUM(I_DAYS) FROM ADVANCED.CON008 WHERE C_ACCOUNTTYPE=@lcAcctType AND C_BILLTYPE=@lcBillType)
				IF @liDays IS NOT NULL 
					SELECT @ldShutoff=DATEADD(d,@liDays,@ldDue)
				SELECT @lnFee=(SELECT MAX(Y_CHARGE) FROM ADVANCED.CON008 WHERE C_ACCOUNTTYPE=@lcAcctType AND C_BILLTYPE=@lcBillType)
				if @lnFee IS NULL
					select @lnFee=0
			END

		if @lnAmount IS NULL
			select @lnAmount=0
		SELECT @lnPastDue = @balance
		IF @ldDue>getdate()-1
			SELECT @lnPastDue = @lnPastDue-@lnAmount
		IF @lnPastDue<0
			SELECT @lnPastDue = 0

		select @lcPhone=(SELECT TOP 1 C_PHONENUMBER FROM ADVANCED.BIF010 WHERE C_CUSTOMER=@customer AND C_PHONETYPE='HO')

		INSERT INTO #INQUIRY4 VALUES(@customer,@account,@service,@ldShutoff,@ldBill,@lnPastDue,@lcPhone,@balance,@lnFee)
		END
		--fetch the next customer account
		FETCH NEXT FROM csrBIF003 INTO @customer,@account, @lcAcctType
	END

	CLOSE csrBIF003
	DEALLOCATE csrBIF003

	SELECT * FROM #INQUIRY4
	RETURN

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETFULLSERVICEADDRESS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETFULLSERVICEADDRESS]
@lcAccount   VARCHAR(15), 
@retAddress  VARCHAR(200)   OUTPUT
AS
   DECLARE     @cApt  VARCHAR(25),
	       @cStreet VARCHAR(40),
	       @cStreetNum  VARCHAR(10),
	       @cStrNumSuffix VARCHAR(10),
	       @cStreetPrefix VARCHAR(30),
	       @cStreetSuffix VARCHAR(30),
	       @lcFormat VARCHAR(10),
	       @llSuffix  BIT,
	       @lcValue VARCHAR(254),
	       @cServiceAddress VARCHAR(200)

	SELECT @cStreet='',@cApt='',@cStreetNum='',@cStrNumSuffix='',@cStreetPrefix='',@cStreetSuffix='',@llSuffix=0

	SELECT @cApt=BIF002.C_APT,@cStreet=BIF002.C_STREET,@cStreetNum=ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), ''),@cStrNumSuffix=ISNULL(CON151.C_DESCRIPTION,''),@cStreetPrefix=ISNULL(CON137.C_DESCRIPTION,''),@cStreetSuffix=ISNULL(CON136.C_DESCRIPTION,'') FROM ADVANCED.BIF002 
		LEFT JOIN ADVANCED.CON136 ON BIF002.C_STREETSUFFIX = CON136.C_STREETSUFFIX 
		LEFT JOIN ADVANCED.CON137 ON BIF002.C_STREETPREFIX = CON137.C_STREETPREFIX
     	        LEFT JOIN ADVANCED.CON151 ON BIF002.C_STRNUMSUFFIX = CON151.C_CODE
		WHERE C_ACCOUNT=@lcAccount

	IF @cStreet<>''
		BEGIN
			SET @llSuffix=0
			SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
			IF @cStreetPrefix<>'' OR @cStreetSuffix<>''
				BEGIN
				SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
				 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
				IF @lcValue IS NOT NULL AND @lcValue='.T.'
					SET @llSuffix=1
				IF @llSuffix=0
					SELECT @cStreetPrefix='',@cStreetSuffix=''
				END
						
			IF @lcFormat = 'NUMSTRAPT'
				  SET @cServiceAddress=LTRIM(RTRIM(@cStreetNum+' '+@cStrNumSuffix+' '+@cStreetPrefix+' '+@cStreet+' '+@cStreetSuffix+' '+@cApt))
			ELSE
				BEGIN 
				  IF  @cApt<>''
					  SET @cApt=@cApt+'-'
	
				  SET @cServiceAddress=LTRIM(RTRIM(@cApt+' '+@cStreetNum+' '+@cStrNumSuffix+' '+@cStreetPrefix+' '+@cStreet+' '+@cStreetSuffix))
				  SET @cServiceAddress=REPLACE(@cServiceAddress,'  ',' ')
				END
		END  
   SELECT @retAddress = @cServiceAddress

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GETLASTBILLINFO]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETLASTBILLINFO]
	@customer	VARCHAR(15),
	@account	VARCHAR(15),
	@rtnvalue	SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcString VARCHAR(600),
		@lnFlag SMALLINT,
		@retacctstatus  VARCHAR(2),
		@retpin         VARCHAR(10),
		@retcolstatus   VARCHAR(2),
		@retcustaccid  BIGINT	
		EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
		IF @lnFlag = 1
			BEGIN
				SELECT TOP 1 1 AS RESPONSECODE, D_BILLDATE AS BILLDATE,Y_CURRENTTRANSACTIONS AS BILLAMOUNT, D_DUEDATE AS DUEDATE 
					FROM ADVANCED.BIF951 
					WHERE C_CUSTOMER=@Customer AND C_ACCOUNT=@Account AND L_CANCEL=0 AND L_NOBILL=0 AND C_BILLTYPE<> 'CB' AND L_PROCESSED = 1
					ORDER BY D_BILLDATE DESC 
				
			END

	SELECT @rtnvalue = @lnFlag
	IF @lnFlag != 1
		SELECT @lnFlag as RESPONSECODE, '1900-01-01' AS BILLDATE, 0 AS BILLAMOUNT, '1900-01-01' AS DUEDATE
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETPAYMENTHISTORY]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETPAYMENTHISTORY]
	@customer	VARCHAR(15),
	@account	VARCHAR(15),
	@records	INT,
	@rtnvalue	SMALLINT OUTPUT

AS
	SET NOCOUNT ON
	DECLARE 	@lcString VARCHAR(600),
			@lnFlag SMALLINT,
			@retacctstatus  VARCHAR(2),
			@retpin         VARCHAR(10),
			@retcolstatus   VARCHAR(2),
			@retcustaccid   BIGINT 

	EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
	IF @lnFlag = 1
		BEGIN
			SET @lcString = 'SELECT TOP '+LTRIM(STR(@Records)) + ' 1 AS RESPONSECODE,SUM(Y_AMOUNT) AS PAYAMOUNT,D_PAYDATE AS PAYDATE '
					+ ' FROM ADVANCED.BIF956 '
					+ ' WHERE C_CUSTOMER=''' + @customer + ''' AND C_ACCOUNT=''' + @account + ''''
					+ ' AND Y_AMOUNT < 0 AND L_PROCESSED = 1 AND L_DELETED = 0 '
					+ ' GROUP BY I_BATCHID, D_PAYDATE '
					+ ' ORDER BY D_PAYDATE DESC '
			EXEC(@lcString)
		END

	SELECT @rtnvalue = @lnFlag

	IF @lnFlag != 1
		SELECT @lnFlag AS RESPONSECODE, 0 AS PAYAMOUNT, '1900-01-01' AS PAYDATE
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[GETSERVICEADDRESS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GETSERVICEADDRESS]
@cAccount   VARCHAR(15), 
@retAddress  VARCHAR(200)   OUTPUT,
@retFlag     SMALLINT       OUTPUT
AS
	SET @retAddress = ''
	EXEC ADVANCED.ValidateAccount @cAccount, @retFlag OUTPUT
	IF @retFlag = 1
	BEGIN
		EXEC ADVANCED.GetFullServiceAddress @cAccount, @retAddress OUTPUT
	END
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[GetSkippedBills]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[GetSkippedBills]
	@Cycle varchar

as

SELECT BIF003.C_CUSTOMER, BIF003.C_ACCOUNT, D_MOVEIN, D_EFFECTIVEDATE, C_ACCOUNTSTATUS, MAX(I_BATCHID) AS "Batch ID"
FROM BIF003 LEFT JOIN BIF951 
ON BIF003.C_ACCOUNT = BIF951.C_ACCOUNT WHERE C_ACCOUNTSTATUS IN ('AC','IN') AND BIF003.C_CYCLE = @Cycle
GROUP BY BIF003.C_CUSTOMER, BIF003.C_ACCOUNT, D_MOVEIN, D_EFFECTIVEDATE, C_ACCOUNTSTATUS ORDER BY BIF003.C_ACCOUNT
GO
/****** Object:  StoredProcedure [ADVANCED].[GetTotalCharges]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <11/30/2017>
-- Description:	<Total Charges Over $100,000 for given Date Range>
-- =============================================

CREATE PROCEDURE [ADVANCED].[GetTotalCharges] 
	-- Add the parameters for the stored procedure here
	(@FrmBillDate Date = null, 
	@ToBillDate  Date = null)
AS

	SELECT A.C_CUSTOMER AS CUSTOMER,LTRIM(RTRIM(C.C_FIRSTNAME) + ' ' + RTRIM(C.C_LASTNAME) + ' ' + RTRIM(C.C_SUFFIX)) AS NAME, A.C_ACCOUNT AS ACCOUNT,B.C_CYCLE AS CYCLE,SUM(Y_CURRENTTRANSACTIONS) AS TOTAL_CHARGES FROM ADVANCED.BIF951 A 
	LEFT JOIN ADVANCED.BIF003 B ON A.C_CUSTOMER = B.C_CUSTOMER AND A.C_ACCOUNT = B.C_ACCOUNT 
	LEFT JOIN ADVANCED.BIF001 C ON A.C_CUSTOMER = C.C_CUSTOMER
	WHERE (D_BILLDATE >= @FrmBillDate or @FrmBillDate is null) AND (D_BILLDATE <= @ToBillDate or @ToBillDate is null) 
	GROUP BY A.C_CUSTOMER, LTRIM(RTRIM(C.C_FIRSTNAME) + ' ' + RTRIM(C.C_LASTNAME) + ' ' + RTRIM(C.C_SUFFIX)), A.C_ACCOUNT, B.C_CYCLE
	HAVING SUM(Y_CURRENTTRANSACTIONS) >= 100000
	ORDER BY SUM(Y_CURRENTTRANSACTIONS) DESC

GO
/****** Object:  StoredProcedure [ADVANCED].[GETUSAGEHISTORY]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[GETUSAGEHISTORY]
 @customer VARCHAR(15),          
 @account VARCHAR(15),      
 @NumberOfMonths INT,        
 @rtnvalue INT OUTPUT          
AS          
 SET NOCOUNT ON          
 DECLARE @lnFlag SMALLINT,          
   @retacctstatus  VARCHAR(2),          
   @retpin         VARCHAR(10),          
   @retcolstatus   VARCHAR(2),          
   @retcustaccid BIGINT          
                 
 EXEC ADVANCED.ValidateAccount @account,@lnFlag OUTPUT       
 IF @lnFlag = 1          
 BEGIN          
  EXEC ADVANCED.ValidateCustomer @customer,@lnFlag OUTPUT      
   IF @lnFlag = 1          
   BEGIN          
   EXEC ADVANCED.ValidateCustomerAccount @customer,@account, @lnFlag OUTPUT, @retacctstatus OUTPUT, @retpin OUTPUT, @retcolstatus OUTPUT, @retcustaccid OUTPUT          
      
   IF @lnFlag = 1          
   BEGIN          
  SELECT 1 AS RESPONSECODE,      
  CONVERT(DECIMAL(20,2), BIF030.N_CONSUMP) AS CONSUMPTION,       
  CON007.C_DESCRIPTION AS UNITS,       
  BIF030.T_READDATE AS READINGDATE,      
  BIF030.I_DAYS AS READINGDAYS        
  FROM ADVANCED.BIF030       
  INNER JOIN ADVANCED.CON007 ON CON007.C_UNITS=BIF030.C_UNITS       
  INNER JOIN ADVANCED.BIF951 on BIF030.I_BILLNUMBER=BIF951.I_BILLNUMBER       
  WHERE BIF030.C_CUSTOMER=@customer AND BIF030.C_ACCOUNT=@account and datediff(month, T_READDATE, getdate()) <= @NumberOfMonths    
       ORDER BY BIF030.T_READDATE DESC      
   END          
  END          
 END          
          
 SELECT @rtnvalue = @lnFlag          
 IF @lnFlag != 1          
  SELECT @lnFlag as RESPONSECODE, 0 AS CONSUMPTION,  '' as UNITS, '1900-01-01' AS READINGDATE, 0 as READINGDAYS      
RETURN  
 
--SVN last revision and last change date
--$Revision: $ $LastChangedDate: $

GO
/****** Object:  StoredProcedure [ADVANCED].[MAKEPAYMENT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[MAKEPAYMENT]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@transcode VARCHAR(4),
	@amount DECIMAL(15,2),
	@extreference VARCHAR(40),
	@extsource VARCHAR(15),
	@confnumber VARCHAR(200),
	@token VARCHAR(200),
	@paymentgatewayid INT,
	@paymentdate DATETIME,
	@pk BIGINT,
	@newpk BIGINT OUTPUT,
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE	@lnFlag SMALLINT,
		@retacctstatus VARCHAR(2),
		@retpin VARCHAR(10),
		@retcolstatus VARCHAR(2),
		@retcustaccid BIGINT

	SET @newpk = -1

	EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
			
	IF @lnFlag = 1
		BEGIN
			INSERT INTO ADVANCED.UTL045 (L_PROCESSED,T_TRANSDT,T_DATETIME,C_CUSTOMER,C_ACCOUNT,C_TRANSCODE,Y_AMOUNT,C_EXTREFERENCE,C_EXTSOURCE,M_RESPONSE,M_TOKEN,I_PAYMENTGATEWAYID)
					VALUES (0,@paymentdate,@paymentdate,@customer,@account,@transcode,@amount,@extreference,@extsource,@confnumber,@token,@paymentgatewayid)
			IF @@ERROR=0
			BEGIN
				SET @newpk =SCOPE_IDENTITY()
				EXEC ADVANCED.PaymentAction @customer,@account,@transcode,@amount,0,@rtnvalue OUTPUT
			END
			ELSE
				SET @lnFlag=-1
		END
	SELECT @rtnvalue = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[meterRead]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[meterRead] 
	(@FrmDate Date, 
	@ToDate  Date)
AS
    
SELECT meter.c_account, meter.C_METER, meter.N_CONSUMPTION 
FROM CISPROD.ADVANCED.BIF016 AS meter
	WHERE meter.C_SERVICE = 10 AND meter.T_READDATE>=@FrmDate and meter.T_READDATE<=@ToDate

GO
/****** Object:  StoredProcedure [ADVANCED].[PaymentAction]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[PaymentAction]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@transcode VARCHAR(4),
	@amount DECIMAL(15,2),
	@arrangements BIT,
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE 	@lnFlag SMALLINT,
			@retacctstatus  VARCHAR(2),
			@retpin         VARCHAR(10),
			@retcolstatus   VARCHAR(2),
			@retcustaccid	BIGINT,
			@llSelectReconnectAction BIT,
			@lcDisconnectStatus	 VARCHAR(2),
			@lcGenDisconnectStatus	 VARCHAR(2),
			@lcReconnectStatus	 VARCHAR(2),
			@lcExcludeAccountStatus	VARCHAR(50), 
			@liCancelSOAction INT,
			@liDisconnectAction INT,
			@liReconnectAction INT,
			@llCancel BIT,
			@llReconnect BIT,
			@llCancelSOPastDueBal BIT,
			@llReconnectPastDueBal BIT,
			@lyPendBalance DECIMAL(15,2),
			@lyBalance DECIMAL(15,2),
			@lyCancelSOBalance DECIMAL(15,2),
			@lyReconnectBalance DECIMAL(15,2),
			@status SMALLINT,
			@lcPendingDisconnectStatus	VARCHAR(2),
			@disconnectActionlist VARCHAR(100),
			@reconnectActionlist VARCHAR(100)
BEGIN
		SELECT @llCancel=1, @llReconnect=1, @rtnvalue=0, @status=0, @lnFlag=0, @lyPendBalance=0, @disconnectActionlist='',@reconnectActionlist=''

		EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
		
		IF @lnFlag=1 AND EXISTS(SELECT 1 FROM ADVANCED.COL109 WHERE (C_GENDISCONNECTSTATUS != '' OR C_DISCONNECTSTATUS != '') AND L_GENEXTPAYMENTACTION = 1)
		BEGIN
			IF OBJECT_ID ('tempdb..#TEMPACCOUNTDATA') IS NOT NULL	
				DROP TABLE #TEMPACCOUNTDATA
			CREATE TABLE #TEMPACCOUNTDATA(
				CUSTOMER VARCHAR(15), PIN VARCHAR(10), CURRENTBALANCE DECIMAL(15,2), ACCOUNTSTATUS VARCHAR(2),
				IVRSTATUS SMALLINT, BILLDATE DATE, BILLDUEDATE DATE, BILLAMOUNT DECIMAL(15,2),
				PASTDUEAMOUNT DECIMAL(15,2), FIRSTNAME VARCHAR(100), LASTNAME VARCHAR(100), STREETNUMBER VARCHAR(10),
				STREETNAME VARCHAR(90), CITYTOWN VARCHAR(25),  STATEPROV VARCHAR(2), ZIPPOSTAL VARCHAR(10),
				PAYMENTAMOUNT DECIMAL(15,2), PAYMENTDATE DATE, COLSTATUSCODE VARCHAR(2), CASHONLY BIT,
				DISCONNECTDATE DATE, PENDINGPAYMENT DECIMAL(15,2), PAYMENTPLANTYPE SMALLINT,DRAWPAYMENT BIT,
				ARRANGEMENTAMOUNT DECIMAL(15,2), ARRANGEMENTDATE DATE, ARRANGEMENTSTATUS SMALLINT,PHONENUMBER VARCHAR(20),
				PHONETYPE VARCHAR(2), PHONEDESC VARCHAR(15), COMMENTCODE VARCHAR(100), CYCLE VARCHAR(5), 
				SERVICEORDER BIT, PASTDUEDATE DATE, AMOUNTDUEBEFOREDUEDATE DECIMAL(15,2), PAYMENTCODE VARCHAR(100),
				RESPONSECODE DECIMAL(15,0))
			
			INSERT INTO #TEMPACCOUNTDATA EXEC ADVANCED.GETACCOUNTDATA @customer, @account, 1, '', 0, @rtnvalue OUTPUT
		END

		DECLARE csrCOL109 CURSOR FAST_FORWARD FOR
		SELECT L_SELECTRECONNECTACTION,C_GENDISCONNECTSTATUS, I_SOCANCELACTION, I_DISCONNECTACTION,C_EXCLUDEACCTSTATUS,I_RECONNECTIONACTION,C_DISCONNECTSTATUS,
			L_SOCANCELPASTDUEBAL, Y_SOCANCELBAL, L_RECONNECTPASTDUEBAL,Y_RECONNECTBAL,C_GENRECONNECTSTATUS,C_PENDINGDISCONNECTSTATUS
		FROM ADVANCED.COL109 WHERE (C_GENDISCONNECTSTATUS != '' OR C_DISCONNECTSTATUS != '') AND L_GENEXTPAYMENTACTION = 1

		OPEN csrCOL109
		FETCH NEXT FROM csrCOL109 INTO @llSelectReconnectAction,@lcGenDisconnectStatus,@liCancelSOAction,@liDisconnectAction,@lcExcludeAccountStatus,@liReconnectAction,@lcDisconnectStatus,@llCancelSOPastDueBal,@lyCancelSOBalance,@llReconnectPastDueBal,@lyReconnectBalance,@lcReconnectStatus,@lcPendingDisconnectStatus
	WHILE @@FETCH_STATUS=0
	BEGIN
			SET @lnFlag=1
			IF @liCancelSOAction=0 OR @lcGenDisconnectStatus='' OR @liDisconnectAction=0
				SET @llCancel=0
			IF @liReconnectAction=0 OR @lcDisconnectStatus=''
				SET @llReconnect=0
			IF @llReconnect!=0 AND @llSelectReconnectAction=1 AND @lcDisconnectStatus!=''
				SET @llReconnect=1

 		IF @lnFlag = 1 AND @amount <> 0
		BEGIN

			DECLARE @includePendingPaymentForPstDue BIT = 0
			SELECT @includePendingPaymentForPstDue = (SELECT L_INCLPENDINGPAYMENTFORPASTDUE FROM ADVANCED.BIF000)           

			IF @llCancel = 1 AND @retcolstatus = @lcGenDisconnectStatus AND CHARINDEX(CONVERT(VARCHAR(15), @liDisconnectAction)+',',@disconnectActionlist)=0 AND 
				EXISTS(SELECT 1 FROM ADVANCED.BIF023 WHERE C_ACCOUNT=@account AND C_CUSTOMER=@customer AND I_ACTION=@liDisconnectAction AND L_COMPLETED=0 AND L_CANCELLED=0)
			BEGIN

				IF @arrangements = 0
				BEGIN
					IF @llCancelSOPastDueBal=1
					BEGIN
						SET @lyBalance = (SELECT PASTDUEAMOUNT FROM #TEMPACCOUNTDATA)
						IF  (@includePendingPaymentForPstDue = 1)
							SET @amount = 0
					END
					ELSE
					BEGIN	
						EXEC ADVANCED.CustomerAccountBalance @customer,@account,@lyBalance OUTPUT
						SET @amount = (SELECT PENDINGPAYMENT FROM #TEMPACCOUNTDATA)
					END	
					SET @lyPendBalance = @lyBalance - ABS(@amount)
				END

				IF CHARINDEX(@retacctstatus,@lcExcludeAccountStatus) = 0
				BEGIN
					IF @arrangements = 1 OR (@lyPendBalance <= @lyCancelSOBalance)
					BEGIN
						UPDATE ADVANCED.BIF023 SET L_CANCELLED=1, T_DATECOMPLETED=getDATE() WHERE C_ACCOUNT=@account AND C_CUSTOMER=@customer AND I_ACTION=@liDisconnectAction AND L_COMPLETED=0 AND L_CANCELLED=0
						EXEC ADVANCED.GenerateCustomerAccountAction @liCancelSOAction,@customer,@account,'',@retcustaccid,@status OUTPUT
						IF CHARINDEX('4',CONVERT(VARCHAR(6),@status)) = 0 AND @lcReconnectStatus != @retcolstatus
							EXEC ADVANCED.UpdateCollectionStatus @customer,@account,@lcReconnectStatus,@rtnvalue OUTPUT
						SET @disconnectActionlist=@disconnectActionlist+CONVERT(VARCHAR(15),@liDisconnectAction)+','
					END
				END
			END

			IF @llReconnect = 1 AND (@retcolstatus = @lcDisconnectStatus OR @retcolstatus = @lcPendingDisconnectStatus)
			BEGIN
				IF @arrangements = 0
				BEGIN
					IF @llReconnectPastDueBal = 1	
					BEGIN
						SET @lyBalance = (SELECT PASTDUEAMOUNT FROM #TEMPACCOUNTDATA)
						IF  (@includePendingPaymentForPstDue = 1)
							SET @amount = 0
					END
					ELSE
					BEGIN
						EXEC ADVANCED.CustomerAccountBalance @customer,@account,@lyBalance OUTPUT
						SET @amount = (SELECT PENDINGPAYMENT FROM #TEMPACCOUNTDATA)
					END

					SET @lyPendBalance = @lyBalance - ABS(@amount)
				END

				IF @arrangements = 1 OR (@lyPendBalance <= @lyReconnectBalance)
				BEGIN
					if @retcolstatus = @lcDisconnectStatus AND CHARINDEX(CONVERT(VARCHAR(15), @liReconnectAction)+',',@reconnectActionlist)=0
						BEGIN
							EXEC ADVANCED.GenerateCustomerAccountAction @liReconnectAction,@customer,@account,'',@retcustaccid,@status OUTPUT
							SET @reconnectActionlist=@reconnectActionlist+CONVERT(VARCHAR(15), @liReconnectAction)+','
						END
					IF CHARINDEX('4',CONVERT(VARCHAR(6),@status)) = 0 AND @lcReconnectStatus != @retcolstatus
						EXEC ADVANCED.UpdateCollectionStatus @customer,@account,@lcReconnectStatus,@rtnvalue OUTPUT
				END
			END
		END

		SELECT @llCancel=1, @llReconnect=1, @lnFlag=0, @status=0
		--refresh current collection status
		EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnFlag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
		FETCH NEXT FROM csrCOL109 INTO @llSelectReconnectAction,@lcGenDisconnectStatus,@liCancelSOAction,@liDisconnectAction,@lcExcludeAccountStatus,@liReconnectAction,@lcDisconnectStatus,@llCancelSOPastDueBal,@lyCancelSOBalance,@llReconnectPastDueBal,@lyReconnectBalance,@lcReconnectStatus,@lcPendingDisconnectStatus
	END
	CLOSE csrCOL109
	DEALLOCATE csrCOL109
END
SET @rtnvalue = @status

RETURN @rtnvalue

 
 
--SVN last revision and last change date
--$Revision: 72165 $ $LastChangedDate: 2019-05-27 14:32:51 -0400 (Mon, 27 May 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[paymentByTranscode]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[paymentByTranscode] 
(
@startdate DATE,
@enddate DATE
)
as

select transdet.c_account ,transdet.c_customer ,transc.c_longdesc, link.d_createdondate,transdet.d_paydate ,sum(transdet.y_amount )*-1 from advanced.bif956 transdet
join advanced.gle001 transc on transdet.c_transcode = transc.c_transcode 
left join advanced.web001 link on transdet.c_customer = link.c_customer
where transdet.c_transcode in('PAY5','PAY6','ECRD','WCRD') and transdet.l_processed =1 and 
					--(transdet.d_paydate >= @startdate and transdet.d_paydate <dateadd(month, 1, @startdate)) 
						--(transdet.d_paydate >= '01-29-2020' and transdet.d_paydate <=eomonth('01-29-2020')) 
							--(transdet.d_paydate >= @startdate and transdet.d_paydate <=eomonth(@startdate)) 
							(transdet.d_paydate >= @startdate and transdet.d_paydate <= @enddate) 
group by transdet.d_paydate,transdet.c_customer ,transdet.c_account ,transc.c_longdesc,link.d_createdondate
GO
/****** Object:  StoredProcedure [ADVANCED].[PaymentPlan]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[PaymentPlan]
	@tcCustomer VARCHAR(15),
	@tcAccount  VARCHAR(15),
	@tcPlan   VARCHAR(2) OUTPUT
AS
	DECLARE @ldDate DATE,
		@lcAccountStatus VARCHAR(2),
		@lcPlan VARCHAR(2)

	SELECT @ldDate=GETDATE(), @lcAccountStatus='', @lcPlan=''
	SELECT @lcAccountStatus=C_ACCOUNTSTATUS FROM ADVANCED.BIF003 WHERE C_CUSTOMER=@tcCustomer AND C_ACCOUNT=@tcAccount AND C_ACCOUNTSTATUS='AC'
	IF @lcAccountStatus='AC'
	    BEGIN
	 	SELECT @lcPlan=C_PLANTYPE FROM ADVANCED.PAP001 WHERE C_CUSTOMER=@tcCustomer AND C_ACCOUNT=@tcAccount AND (
				(D_STARTDATE IS NULL AND (D_STOPDATE IS NULL OR D_STOPDATE>=@ldDate)) OR
				(D_STARTDATE IS NOT NULL AND D_STARTDATE<=@ldDate AND (D_STOPDATE IS NULL OR D_STOPDATE>=@ldDate)))
	    END 
	SET @tcPlan=@lcPlan
RETURN

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[pending_disconnect]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[pending_disconnect](
	@startdate date,
	@enddate date
	)
	as(
select cusacc.c_customer,cusacc.c_account,code.c_longdesc,trans.d_paydate from advanced.bif956 trans
join advanced.bif003 cusacc on trans.c_customer = cusacc.c_customer
--join advanced.bif040 balance on trans.c_account = balance.c_account and trans.c_customer = balance.c_customer
join advanced.gle001 code on trans.c_transcode = code.c_transcode
join (
     select max(i_bif956pk) as i_bif956pk
     , c_customer
from advanced.bif956
     where c_transcode in ('PAY1','ECRD','PAY2','PAY3','PAY4','PAY5','PAY6','PAY7','PAY8','PAY9','PAYB','PAYH','PAYN','PAYQ','PAYR'
     ,'WCRD','PY21','PY27','PY07','PY09','PY20')
group by c_customer
) as max_c
on trans.i_bif956pk = max_c.i_bif956pk
and trans.c_customer = max_c.C_CUSTOMER
where cusacc.c_collectionstatus = 'PD' and cusacc.c_accountstatus = 'AC' 
and (trans.d_paydate <@enddate and trans.d_paydate >=@startdate)
)
GO
/****** Object:  StoredProcedure [ADVANCED].[PENDINGPAYMENTS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[PENDINGPAYMENTS]
    @customer  VARCHAR(15),
    @account   VARCHAR(15),
    @transcode VARCHAR(4),
    @amount    DECIMAL(15,2),
    @transdt   DATETIME,
    @extrefer  VARCHAR(20),
    @extbatchid BIGINT,
    @action    VARCHAR(1),
    @status    SMALLINT OUTPUT
AS

	SET NOCOUNT ON
	DECLARE @CISTranscode VARCHAR(4),
		@Error INT,
		@iReturn SMALLINT

	SET @iReturn = -1

	IF @action = ' '
		BEGIN
			if @amount <> 0 AND (SELECT COUNT(*) FROM ADVANCED.BIF003 WHERE C_ACCOUNT=@account AND C_CUSTOMER=@customer) >= 1 BEGIN
				set @CISTranscode = @transcode

				BEGIN TRANSACTION
				INSERT INTO ADVANCED.UTL045 (C_CUSTOMER, C_ACCOUNT, T_TRANSDT, C_TRANSCODE, Y_AMOUNT, T_DATETIME, C_EXTREFERENCE, L_PROCESSED, C_EXTSOURCE, I_EXTBATCHID)
					   VALUES (@customer, @account, @transdt, @CISTranscode, @amount, getdate(), @extrefer, 0, 'IMPPAY1', @extbatchid)
			   
				set @Error = @@ERROR

				IF @Error = 0
					BEGIN
						COMMIT TRANSACTION
						SET @iReturn = 1
					END
				ELSE 
					BEGIN
						ROLLBACK TRANSACTION
						SET @iReturn = -1
					END
			END
		END

	IF @action = 'U'
		BEGIN
			BEGIN TRANSACTION
			UPDATE ADVANCED.UTL045 SET Y_AMOUNT=@amount WHERE C_EXTREFERENCE=@extrefer AND L_PROCESSED=0
			IF @@ROWCOUNT > 0
				BEGIN
					COMMIT TRANSACTION
					SET @iReturn = 1
				END
			ELSE 
				BEGIN
					ROLLBACK TRANSACTION
					SET @iReturn = -1
				END
		END
	IF @action = 'D'
		BEGIN
			BEGIN TRANSACTION
			DELETE FROM ADVANCED.UTL045 WHERE C_EXTREFERENCE=@extrefer AND L_PROCESSED=0
			IF @@ROWCOUNT > 0
				BEGIN
					COMMIT TRANSACTION
					SET @iReturn = 1
				END
			ELSE 
				BEGIN
					ROLLBACK TRANSACTION
					SET @iReturn = -1
				END
		END
	set @status = @iReturn
	RETURN

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[RECORDCONTACT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[RECORDCONTACT]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@subject VARCHAR(25) = '',
	@reason VARCHAR(4) = '',
	@notes VARCHAR(200) = '',
	@userID VARCHAR(30) = '',
	@pk BIGINT = 0,
	@noteID BIGINT = 0,
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lnflag SMALLINT,
		@retacctstatus  VARCHAR(2),
		@retpin         VARCHAR(10),
		@retcolstatus   VARCHAR(2),
		@retcustaccid	BIGINT

	SET @lnflag=0
	EXEC ADVANCED.ValidateCustomerAccount @customer,@account,@lnflag OUTPUT,@retacctstatus OUTPUT,@retpin OUTPUT,@retcolstatus OUTPUT,@retcustaccid OUTPUT
	IF @lnflag = 1
		BEGIN
			EXEC ADVANCED.ValidateContactReason @reason,@lnflag OUTPUT
			IF @lnflag = 1
				BEGIN
					IF @noteID < 1
						EXEC ADVANCED.spGetCounter 'BIF008',@noteID OUTPUT,1
					INSERT INTO ADVANCED.BIF008(C_CUSTOMER,C_ACCOUNT,C_SUBJECT,C_CONTACTREASON,M_NOTES,C_USERID,I_NOTEID,T_DATETIME)
						VALUES (@customer,@account,@subject,@reason,@notes,@userID,@noteID,GETDATE())
					IF @@ERROR<>0
						SET @lnflag = -1
				END
		END
	SELECT @rtnvalue = @lnflag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHACTIVEBYPHONE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHACTIVEBYPHONE]
	@phonenumber VARCHAR(20),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10)

	SET @llSuffix=0
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @phonenumber<>''
 	 BEGIN
 	 
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+BIF002.C_STREETNUM+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				BIF002.C_STREETNUM+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+BIF002.C_STREETNUM+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				BIF002.C_STREETNUM+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER)
		INNER JOIN ADVANCED.BIF010 BIF010 ON (BIF003.C_CUSTOMER=BIF010.C_CUSTOMER)
		WHERE BIF010.C_PHONENUMBER LIKE @phonenumber+'%' AND BIF010.C_ADDTYPE=' ' and bif003.c_accountstatus = 'AC'
	 END
	 SELECT @rtnvalue = 1


GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYCUSTOMERACCOUNT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYCUSTOMERACCOUNT]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10),
		@accountstatus VARCHAR(2),
		@pin VARCHAR(10),
		@colstatuscode VARCHAR(2),
		@lnflag SMALLINT,
		@licustacctid BIGINT

	SELECT @llSuffix=0, @lnflag=0
	EXEC ADVANCED.VALIDATECUSTOMERACCOUNT @customer,@account,@lnFlag OUTPUT,@accountstatus OUTPUT,@pin OUTPUT,@colstatuscode OUTPUT,@licustacctid OUTPUT 

	IF @lnFlag = 1
	BEGIN
		SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
		SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
			 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
		IF @lcValue IS NOT NULL AND @lcValue='.T.'
			SET @llSuffix=1
		
		IF @customer<>'' AND @account<>''
		BEGIN
			SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
				BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

			CASE WHEN @llSuffix = 1 THEN
				CASE WHEN @lcFormat = 'APTNUMSTR' THEN
					BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
				ELSE
					ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
				END
			ELSE
				CASE WHEN @lcFormat = 'APTNUMSTR' THEN
					BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
				ELSE
					ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
				END
			END AS Address
			FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
			INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER) 
			WHERE BIF002.C_ACCOUNT=@account AND BIF001.C_CUSTOMER=@customer
		END
	END
SET @rtnvalue = @lnFlag
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYCUSTOMERNAME]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYCUSTOMERNAME]
	@lastname VARCHAR(60),
	@firstname VARCHAR(20),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10)

	SET @llSuffix=0
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	SELECT @lastname=UPPER(ISNULL(@lastname,'')),@firstname=UPPER(ISNULL(@firstname,''))

	IF @lastname<>''
 	 BEGIN
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER) 
		WHERE BIF001.C_LASTNAME LIKE @lastname+'%' AND BIF001.C_FIRSTNAME LIKE @firstname+'%'
	 END
	 SELECT @rtnvalue = 1
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYDRIVERLICENSE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYDRIVERLICENSE]
	@driverlicense	VARCHAR(100),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10),
		@lcdriver VARCHAR(100)


	SELECT @llSuffix=0, @lcdriver=UPPER(@driverlicense)
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @driverlicense<>''
 	 BEGIN
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER)
 		WHERE BIF001.C_DRIVENUM=@lcdriver
	 END
	 SELECT @rtnvalue = 1
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYOLDREFERENCE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYOLDREFERENCE] 
	@referencenumber VARCHAR(15),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10)

	SET @llSuffix=0
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @referencenumber<>''
	BEGIN
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER) 
		WHERE BIF003.C_OLDREFERENCENUM=@referencenumber
	END
	SELECT @rtnvalue = 1 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYPHONE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYPHONE]
	@phonenumber VARCHAR(20),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10)

	SET @llSuffix=0
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @phonenumber<>''
 	 BEGIN
 	 
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER)
		INNER JOIN ADVANCED.BIF010 BIF010 ON (BIF003.C_CUSTOMER=BIF010.C_CUSTOMER)
		WHERE BIF010.C_PHONENUMBER LIKE @phonenumber+'%' AND BIF010.C_ADDTYPE=' '
	 END
	 SELECT @rtnvalue = 1

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYSERVICEADDRESS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYSERVICEADDRESS]
	@streetnum VARCHAR(10),
	@street VARCHAR(40),
	@apt VARCHAR(25),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10),
		@lcStnum VARCHAR(10),
		@lcst VARCHAR(40),
		@lcapt VARCHAR(25)

	SELECT @llSuffix=0,@lcStnum=ISNULL(@streetnum,''),@lcst=ISNULL(UPPER(@street),''),@lcapt=ISNULL(@apt,'')
	
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @lcStnum<>'' OR @lcst<>'' OR @lcapt<>''
 	 BEGIN
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '')+' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER) 
		WHERE 
			CASE 
			WHEN @lcStnum='' THEN 1
			WHEN ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') =@lcStnum THEN 1
			ELSE 0 END = 1
		AND
			CASE WHEN @lcapt='' THEN 1
			WHEN BIF002.C_APT=@lcapt THEN 1 
			ELSE 0 END = 1
		AND
			CASE WHEN @lcst='' THEN 1
			WHEN BIF002.C_STREET LIKE @lcst+'%' THEN 1 
			ELSE 0 END = 1
		SELECT @rtnvalue = 1
	 END

 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[SEARCHBYSSN]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[SEARCHBYSSN]
	@SSN VARCHAR(100),
	@rtnvalue SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcValue VARCHAR(254),
		@llSuffix BIT,
		@lcFormat VARCHAR(10)

	SET @llSuffix=0
	SELECT @lcFormat=C_ADDRESSFORMAT FROM ADVANCED.BIF000
	SELECT @lcValue=CON075.C_VALUE FROM ADVANCED.CON175 CON175,ADVANCED.CON075 CON075 WHERE
		 CON175.C_DESCRIPTION=CON075.C_DESCRIPTION AND RTRIM(CON075.C_DESCRIPTION)='L_STREET_SUFFIX_USAGE' AND CON175.L_DISABLED=0
	IF @lcValue IS NOT NULL AND @lcValue='.T.'
		SET @llSuffix=1

	IF @SSN<>''
 	 BEGIN
		SELECT BIF001.C_PREFIX+' '+BIF001.C_FIRSTNAME+' '+BIF001.C_LASTNAME+' '+BIF001.C_SUFFIX AS Name,
			BIF003.C_CUSTOMER AS Customer,BIF003.C_ACCOUNT AS Account,

		CASE WHEN @llSuffix = 1 THEN
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREETPREFIX+' '+BIF002.C_STREET+' '+BIF002.C_STREETSUFFIX+' '+BIF002.C_APT
			END
		ELSE
			CASE WHEN @lcFormat = 'APTNUMSTR' THEN
				BIF002.C_APT+' - '+ ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET
			ELSE
				ISNULL(CAST(BIF002.N_STREETNUM AS VARCHAR(10)), '') +' '+BIF002.C_STRNUMSUFFIX+' '+BIF002.C_STREET+' '+BIF002.C_APT 
			END
		END AS Address
		FROM ADVANCED.BIF003 BIF003 INNER JOIN ADVANCED.BIF002 BIF002 ON (BIF003.C_ACCOUNT=BIF002.C_ACCOUNT)
		INNER JOIN ADVANCED.BIF001 BIF001 ON (BIF003.C_CUSTOMER=BIF001.C_CUSTOMER) 
		WHERE BIF001.C_SINNUM=@SSN
	 END
	 SELECT @rtnvalue = 1
RETURN @rtnvalue
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[sewer_service_multiplier]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
	CREATE PROCEDURE [ADVANCED].[sewer_service_multiplier](
	@startdate date
	)
	as
	(
	(
	SELECT DISTINCT cusacc.c_account,accsrv.c_billcode FROM ADVANCED.BIF003 cusacc
	--JOIN ADVANCED.BIF005 accmeter ON cusacc.c_account = accmeter.c_account
	JOIN ADVANCED.BIF004 accsrv ON cusacc.c_account = accsrv.c_account
	LEFT JOIN ADVANCED.BIF205 multi ON accsrv.i_servgrpid = multi.i_servgrpid
	WHERE cusacc.c_accountstatus = 'AC' AND accsrv.c_service = '40' AND (accsrv.d_dateremoved IS NULL AND accsrv.d_deactivationdate IS NULL)
	AND multi.c_servicegroup = 40 AND multi.i_multiplier = 4 AND (multi.d_enddate IS NOT NULL)
	AND accsrv.c_billcode IN('SRI') and cusacc.c_cycle <> 99 
	--and (multi.d_enddate >= dateadd(DD,-7,@startdate) and multi.d_startdate > multi.d_enddate)
	and multi.d_startdate >= @startdate
		EXCEPT (
	SELECT DISTINCT cusacc.c_account,accsrv.c_billcode FROM ADVANCED.BIF003 cusacc
	--JOIN ADVANCED.BIF005 accmeter ON cusacc.c_account = accmeter.c_account
	JOIN ADVANCED.BIF004 accsrv ON cusacc.c_account = accsrv.c_account
	LEFT JOIN ADVANCED.BIF205 multi ON accsrv.i_servgrpid = multi.i_servgrpid
	WHERE cusacc.c_accountstatus = 'AC' AND accsrv.c_service = '40' AND (accsrv.d_dateremoved IS NULL AND accsrv.d_deactivationdate IS NULL)
	AND multi.c_servicegroup = 40 AND multi.i_multiplier = 4 AND (multi.d_enddate IS NULL)
	AND accsrv.c_billcode IN('SRI') and cusacc.c_cycle <> 99 and multi.d_startdate >= @startdate
	)
	)
	union 
	(
	SELECT DISTINCT cusacc.c_account,accsrv.c_billcode FROM ADVANCED.BIF003 cusacc
	--left JOIN ADVANCED.BIF005 accmeter ON cusacc.c_account = accmeter.c_account
	left JOIN ADVANCED.BIF004 accsrv ON cusacc.c_account = accsrv.c_account
	LEFT JOIN ADVANCED.BIF205 multi ON accsrv.i_servgrpid = multi.i_servgrpid 
	WHERE cusacc.c_accountstatus = 'AC' AND accsrv.c_service = '40' AND (accsrv.d_dateremoved IS NULL AND accsrv.d_deactivationdate IS NULL)
	--AND multi.c_servicegroup = 30 AND multi.i_multiplier = 20 AND (multi.d_enddate IS NOT NULL)
	and multi.i_servgrpid is null AND accsrv.c_billcode IN('SRI') and cusacc.c_cycle <> 99
	)
	
)
GO
/****** Object:  StoredProcedure [ADVANCED].[sp_GetPMBatch]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		David Giesel
-- Create date: 08/27/2018
-- Description:	Batch utilities post to EnergyStar
-- =============================================
CREATE PROCEDURE [ADVANCED].[sp_GetPMBatch] 
	-- Add the parameters for the stored procedure here
	@startbillDate date = null, 
	@endbillDate date = null
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

    -- Insert statements for procedure here
Declare @CISAccount VARCHAR(50),  @demandcost numeric(20,4), @demand numeric(25,5), @standardcost numeric(20,4)
    -- Insert statements for procedure here
IF OBJECT_ID('tempdb..#CISTempTable') IS NOT NULL DROP Table #CISTempTable
SELECT CISAccount INTO #CISTempTable FROM [dbo].[MeterCrossWalks] MCW WITH(NOLOCK) where MCW.SERVICETYPEID = 1 AND MCW.StatusID = 1 AND MCW.ServiceProviderID = 1
IF OBJECT_ID('tempdb..#PMTempTable') IS NOT NULL DROP Table #PMTempTable
CREATE TABLE #PMTempTable (ACCOUNT VARCHAR(50), PMMeterID VARCHAR(50), startDate date, endDate date, usage numeric(25,5), cost numeric(20,4), demand numeric(25,5), demandcost numeric(20,4))
DECLARE db_cursor CURSOR FOR 
SELECT CISAccount FROM #CISTempTable
OPEN db_cursor  
FETCH NEXT FROM db_cursor INTO @CISAccount
WHILE @@FETCH_STATUS = 0  
BEGIN

		 SELECT @demandcost = COALESCE(SUM(A955.N_Amount), 0.00) FROM [CISPROD].[ADVANCED].[BIF955] A955 with(nolock) WHERE
		 I_BILLNUMBER = (select distinct I_BILLNUMBER from [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) where A966.C_Account = @CISAccount AND A966.C_SERVICE IN (10,20) AND A966.T_TODATE between @startbillDate AND @endbillDate) AND A955.C_Account = @CISAccount AND A955.C_SERVICE = 20 AND A955.C_TRANSCODE IN ('DI03','ED01','ED02','EW02','EW01','RW01')

         SELECT @demand = COALESCE(MAX(A966.N_CONSUM), 0.00) FROM [CISPROD].[ADVANCED].[BIF966] A966 with(nolock)
		 where  A966.C_ACCOUNT = @CISAccount AND C_SERVICE = 20 AND A966.T_TODATE between @startbillDate AND @endbillDate


		 SELECT @standardcost = COALESCE(SUM(A955.N_Amount), 0.00) FROM [CISPROD].[ADVANCED].[BIF955] A955 with(nolock) WHERE
		 I_BILLNUMBER = (select distinct I_BILLNUMBER from [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) where A966.C_Account = @CISAccount AND A966.C_SERVICE IN (10,20) AND A966.T_TODATE between @startbillDate AND @endbillDate) AND A955.C_Account = @CISAccount AND A955.C_SERVICE IN (20, 10) AND A955.C_TRANSCODE IN ('DI03','TAX5','TAX6','TAX1','ED01','ED02','EW02','EW01','RW01','EB02','EN01','EN02','EN05','EC01','EC02','EC03','EC04','EC00','EC05','EC06','EC07','EW07','EW06','ES07','ES06','EW03','EW04','EN07','ET07')

INSERT INTO #PMTempTable (ACCOUNT, PMMeterID, startDate, endDate, usage, cost, demand, demandcost)

		SELECT A966.C_ACCOUNT, MCW.PMMeterID as PMMeterID,
		A966.T_FMDATE AS startDate, A966.T_TODATE AS endDate, 
		SUM(A967.N_BCON) AS usage, @standardcost AS cost, 
		@demand AS demand,
		@demandcost AS demandcost
		FROM [dbo].[MeterCrossWalks] MCW with(nolock)  
		INNER JOIN [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) ON MCW.CISAccount = A966.C_ACCOUNT 
		INNER JOIN [CISPROD].[ADVANCED].[BIF967] A967 with(nolock) ON A967.I_BIF966FK = A966.I_BIF966PK
		where  A966.C_ACCOUNT = @CISAccount AND MCW.SERVICETYPEID = 1 AND MCW.StatusID = 1 AND MCW.ServiceProviderID = 1 AND A967.C_TRANSCODE IN ('EB02','EN01','EN02','EN05','EC01','EC02','EC03','EC04','EC00','EC05','EC06','EC07','EW07','EW06','ES07','ES06','EW03','EW04','EN07','ET07') 
		AND A966.T_TODATE between @startbillDate AND @endbillDate 
		GROUP BY A966.C_ACCOUNT, MCW.PMMeterID, A966.T_FMDATE, A966.T_TODATE

FETCH NEXT FROM db_cursor INTO @CISAccount 
END 
CLOSE db_cursor  
DEALLOCATE db_cursor 

Select * from #PMTempTable
END

GO
/****** Object:  StoredProcedure [ADVANCED].[sp_PMSingleAcct]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		David Giesel
-- Create date: 08/27/2018
-- Description:	Single Acct Query for PM
-- =============================================
CREATE PROCEDURE [ADVANCED].[sp_PMSingleAcct] 
	-- Add the parameters for the stored procedure here
	@Account varchar(50) = null, 
	@startbillDate date = null,
	@endbillDate date = null
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

    -- Insert statements for procedure here
DECLARE @demandcost numeric(20,4), @demand numeric(25,5), @standardcost numeric(20,4)

  IF EXISTS (Select 1 FROM [dbo].[MeterCrossWalks] MCW with(nolock) where MCW.CISAccount = @Account AND MCW.SERVICETYPEID = 1 AND MCW.StatusID = 1 AND MCW.ServiceProviderID = 1)
  BEGIN
		 SELECT @demandcost = COALESCE(SUM(A955.N_Amount), 0.00) FROM [CISPROD].[ADVANCED].[BIF955] A955 with(nolock) WHERE
		 I_BILLNUMBER = (select distinct I_BILLNUMBER from [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) where A966.C_Account = @Account AND A966.C_SERVICE IN (10,20) AND A966.T_TODATE between @startbillDate AND @endbillDate) AND A955.C_Account = @Account AND A955.C_SERVICE = 20 AND A955.C_TRANSCODE IN ('DI03','ED01','ED02','EW02','EW01','RW01')


         SELECT @demand = COALESCE(MAX(A966.N_CONSUM), 0.00) FROM [CISPROD].[ADVANCED].[BIF966] A966 with(nolock)
		 where  A966.C_ACCOUNT = @account AND C_SERVICE = 20 AND A966.T_TODATE between @startbillDate AND @endbillDate

		 SELECT @standardcost = COALESCE(SUM(A955.N_Amount), 0.00) FROM [CISPROD].[ADVANCED].[BIF955] A955 with(nolock) WHERE
		 I_BILLNUMBER = (select distinct I_BILLNUMBER from [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) where A966.C_Account = @Account AND A966.C_SERVICE IN (10,20) AND A966.T_TODATE between @startbillDate AND @endbillDate) AND A955.C_Account = @Account AND A955.C_SERVICE IN (20, 10) AND A955.C_TRANSCODE IN ('DI03','TAX5','TAX6','TAX1','ED01','ED02','EW02','EW01','RW01','EB02','EN01','EN02','EN05','EC01','EC02','EC03','EC04','EC00','EC05','EC06','EC07','EW07','EW06','ES07','ES06','EW03','EW04','EN07','ET07')

		SELECT A966.C_ACCOUNT, MCW.PMMeterID as PMMeterID,
		A966.T_FMDATE AS startDate, A966.T_TODATE AS endDate, 
		SUM(A967.N_BCON) AS usage, @standardcost AS cost, 
		@demand AS demand,
		@demandcost AS demandcost
		FROM [dbo].[MeterCrossWalks] MCW with(nolock)  
		INNER JOIN [CISPROD].[ADVANCED].[BIF966] A966 with(nolock) ON MCW.CISAccount = A966.C_ACCOUNT 
		INNER JOIN [CISPROD].[ADVANCED].[BIF967] A967 with(nolock) ON A967.I_BIF966FK = A966.I_BIF966PK
		where  A966.C_ACCOUNT = @Account AND MCW.SERVICETYPEID = 1 AND MCW.StatusID = 1 AND MCW.ServiceProviderID = 1 AND A967.C_TRANSCODE IN ('EB02','EN01','EN02','EN05','EC01','EC02','EC03','EC04','EC00','EC05','EC06','EC07','EW07','EW06','ES07','ES06','EW03','EW04','EN07','ET07') 
		AND A966.T_TODATE between @startbillDate AND @endbillDate 
		GROUP BY A966.C_ACCOUNT, MCW.PMMeterID, A966.T_FMDATE, A966.T_TODATE
  END

END

GO
/****** Object:  StoredProcedure [ADVANCED].[spGetCounter]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[spGetCounter]
@counter_code VARCHAR(15), @counter_value BIGINT OUTPUT, @amount INTEGER = 1, @counter_increment INTEGER = 1
AS
SET NOCOUNT ON
SET @counter_value = 0
UPDATE ADVANCED.CON002 SET @counter_value=N_COUNTER=case when N_COUNTER+(@amount*@counter_increment)>999999999999999 then -1 else N_COUNTER+(@amount*@counter_increment) end where C_COUNTER=@counter_code
IF @@ROWCOUNT=0
BEGIN
    INSERT INTO ADVANCED.CON002 (C_COUNTER, N_COUNTER, I_INCREMENT) VALUES (@counter_code, @amount*@counter_increment, @counter_increment)
    IF @@ERROR=0
        set @counter_value=@amount*@counter_increment
    ELSE IF @@ERROR=2627  --duplicate
        UPDATE ADVANCED.CON002 SET @counter_value=N_COUNTER=case when N_COUNTER+(@amount*@counter_increment)>999999999999999 then -1 else N_COUNTER+(@amount*@counter_increment) end where C_COUNTER=@counter_code
    ELSE
        set @counter_value=-2
END
IF @amount>1 AND @counter_value>0
    SET @counter_value=@counter_value-(@amount*@counter_increment)+@counter_increment
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[SPTRANSFERBILL]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SPTRANSFERBILL]
@BILLNUMBER BIGINT, @NEWBATCHID BIGINT, @OLDBATCHID BIGINT, @SUCCESS SMALLINT = 0 OUTPUT, @ERRORMSG VARCHAR(1000) = '' OUTPUT
AS
DECLARE @@COUNT1 INT,@@ERROR1 INT
SET @SUCCESS = 1 
BEGIN TRANSACTION TRANSBILL
UPDATE ADVANCED.BIF951 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER AND L_PROCESSED = 0 AND I_BATCHID = @OLDBATCHID
SELECT @@COUNT1=@@ROWCOUNT,@@ERROR1=@@ERROR
If @@COUNT1 = 0
      SET @SUCCESS = 0
if @@ERROR1 > 0
    BEGIN
      SET @SUCCESS = -1
	  SET @ERRORMSG = ERROR_MESSAGE()
	END
if @SUCCESS = 1
      BEGIN
	  SET @ERRORMSG = ''
	BEGIN TRY
    	 UPDATE ADVANCED.BIF952 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
	 UPDATE ADVANCED.BIF953 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
     	 UPDATE ADVANCED.BIF954 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
         UPDATE ADVANCED.BIF955 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
         UPDATE ADVANCED.BIF925 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER AND C_BATCHTYPE = 'B'
         UPDATE ADVANCED.BIF966 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
         UPDATE ADVANCED.BIF967 SET I_BATCHID = @NEWBATCHID WHERE I_BIF966FK IN (SELECT I_BIF966PK FROM BIF966 WHERE I_BILLNUMBER = @BILLNUMBER)
         UPDATE ADVANCED.BIF968 SET I_BATCHID = @NEWBATCHID WHERE I_BIF967FK IN (SELECT I_BIF967PK FROM BIF967 WHERE BIF967.I_BIF966FK IN (SELECT I_BIF966PK FROM BIF966 WHERE I_BILLNUMBER = @BILLNUMBER))
         UPDATE ADVANCED.BIF970 SET I_BATCHID = @NEWBATCHID WHERE I_BIF967FK IN (SELECT I_BIF967PK FROM BIF967 WHERE BIF967.I_BIF966FK IN (SELECT I_BIF966PK FROM BIF966 WHERE I_BILLNUMBER = @BILLNUMBER))
         UPDATE ADVANCED.BIF969 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
         UPDATE ADVANCED.BIF971 SET I_BATCHID = @NEWBATCHID WHERE I_MASTERBILLNUM = @BILLNUMBER
         UPDATE ADVANCED.BIF972 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER AND C_BATCHTYPE = 'B'
         UPDATE ADVANCED.TMP034 SET I_BATCHID = @NEWBATCHID WHERE I_BILLNUMBER = @BILLNUMBER
	 COMMIT TRANSACTION TRANSBILL
        END TRY
        BEGIN CATCH
         ROLLBACK TRANSACTION TRANSBILL 
         SET @SUCCESS = -1
		 SET @ERRORMSG =  ERROR_MESSAGE()
        END CATCH
      END   
RETURN @SUCCESS
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0158009b-8b52-4564-b409-39c0f0ec9e30]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0158009b-8b52-4564-b409-39c0f0ec9e30] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30') > 0)   DROP SERVICE [SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30]; if (OBJECT_ID('SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0158009b-8b52-4564-b409-39c0f0ec9e30]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0158009b-8b52-4564-b409-39c0f0ec9e30]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0208fa6f-d57f-4f0b-8a88-eee2779114ec]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0208fa6f-d57f-4f0b-8a88-eee2779114ec] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec') > 0)   DROP SERVICE [SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec]; if (OBJECT_ID('SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0208fa6f-d57f-4f0b-8a88-eee2779114ec]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0208fa6f-d57f-4f0b-8a88-eee2779114ec]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-021bf64e-f874-4989-8d9a-a9cb815c3619]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-021bf64e-f874-4989-8d9a-a9cb815c3619] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619') > 0)   DROP SERVICE [SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619]; if (OBJECT_ID('SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-021bf64e-f874-4989-8d9a-a9cb815c3619]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-021bf64e-f874-4989-8d9a-a9cb815c3619]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-03fcdd57-4461-4a57-9b77-f3466483fdb4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-03fcdd57-4461-4a57-9b77-f3466483fdb4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4') > 0)   DROP SERVICE [SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4]; if (OBJECT_ID('SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-03fcdd57-4461-4a57-9b77-f3466483fdb4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-03fcdd57-4461-4a57-9b77-f3466483fdb4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-055a6f0b-eb27-477d-a718-82a785d5f848]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-055a6f0b-eb27-477d-a718-82a785d5f848] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848') > 0)   DROP SERVICE [SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848]; if (OBJECT_ID('SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-055a6f0b-eb27-477d-a718-82a785d5f848]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-055a6f0b-eb27-477d-a718-82a785d5f848]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-06a78f43-4e42-48cc-b399-d07e757728c4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-06a78f43-4e42-48cc-b399-d07e757728c4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4') > 0)   DROP SERVICE [SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4]; if (OBJECT_ID('SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-06a78f43-4e42-48cc-b399-d07e757728c4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-06a78f43-4e42-48cc-b399-d07e757728c4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-08fa51c7-1b69-414c-a4ad-771f91963476]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-08fa51c7-1b69-414c-a4ad-771f91963476] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476') > 0)   DROP SERVICE [SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476]; if (OBJECT_ID('SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-08fa51c7-1b69-414c-a4ad-771f91963476]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-08fa51c7-1b69-414c-a4ad-771f91963476]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-09a8c33f-3025-4e60-9330-129c1323501d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-09a8c33f-3025-4e60-9330-129c1323501d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d') > 0)   DROP SERVICE [SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d]; if (OBJECT_ID('SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-09a8c33f-3025-4e60-9330-129c1323501d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-09a8c33f-3025-4e60-9330-129c1323501d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-09c21e8a-ab55-4389-a5cd-cc987effa3e5]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-09c21e8a-ab55-4389-a5cd-cc987effa3e5] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5') > 0)   DROP SERVICE [SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5]; if (OBJECT_ID('SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-09c21e8a-ab55-4389-a5cd-cc987effa3e5]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-09c21e8a-ab55-4389-a5cd-cc987effa3e5]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2') > 0)   DROP SERVICE [SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2]; if (OBJECT_ID('SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0a2cf675-93dd-41b8-9dcf-8c5fa1edb9c2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0b315c68-7810-4eb9-8098-7efcf620c645]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0b315c68-7810-4eb9-8098-7efcf620c645] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645') > 0)   DROP SERVICE [SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645]; if (OBJECT_ID('SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0b315c68-7810-4eb9-8098-7efcf620c645]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0b315c68-7810-4eb9-8098-7efcf620c645]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0b943541-b07f-49ed-94a0-fba535d945ad]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0b943541-b07f-49ed-94a0-fba535d945ad] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad') > 0)   DROP SERVICE [SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad]; if (OBJECT_ID('SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0b943541-b07f-49ed-94a0-fba535d945ad]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0b943541-b07f-49ed-94a0-fba535d945ad]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0cda0504-b0a7-4544-86aa-822b9c3ad7fa]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0cda0504-b0a7-4544-86aa-822b9c3ad7fa] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa') > 0)   DROP SERVICE [SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa]; if (OBJECT_ID('SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0cda0504-b0a7-4544-86aa-822b9c3ad7fa]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0cda0504-b0a7-4544-86aa-822b9c3ad7fa]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0d1e319b-73d6-42d5-bf7b-d9ae735947fa]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0d1e319b-73d6-42d5-bf7b-d9ae735947fa] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa') > 0)   DROP SERVICE [SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa]; if (OBJECT_ID('SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0d1e319b-73d6-42d5-bf7b-d9ae735947fa]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0d1e319b-73d6-42d5-bf7b-d9ae735947fa]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0e5e4f05-6de3-4e8b-877f-c49b5de315a1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0e5e4f05-6de3-4e8b-877f-c49b5de315a1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1') > 0)   DROP SERVICE [SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1]; if (OBJECT_ID('SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0e5e4f05-6de3-4e8b-877f-c49b5de315a1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0e5e4f05-6de3-4e8b-877f-c49b5de315a1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a') > 0)   DROP SERVICE [SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a]; if (OBJECT_ID('SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-0e7f3fbd-70dc-4ae2-8183-856f22d2d26a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf') > 0)   DROP SERVICE [SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf]; if (OBJECT_ID('SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-1002cc74-3af2-4028-9fb3-9ffbfc6a16cf]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-1168f6d2-917b-4120-8406-dafb6e52ec73]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-1168f6d2-917b-4120-8406-dafb6e52ec73] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73') > 0)   DROP SERVICE [SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73]; if (OBJECT_ID('SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-1168f6d2-917b-4120-8406-dafb6e52ec73]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-1168f6d2-917b-4120-8406-dafb6e52ec73]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-136bd68f-f1fb-4cff-844d-903a958bedae]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-136bd68f-f1fb-4cff-844d-903a958bedae] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae') > 0)   DROP SERVICE [SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae]; if (OBJECT_ID('SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-136bd68f-f1fb-4cff-844d-903a958bedae]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-136bd68f-f1fb-4cff-844d-903a958bedae]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-13edb8bb-1185-4096-9b92-332c5cd3d433]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-13edb8bb-1185-4096-9b92-332c5cd3d433] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433') > 0)   DROP SERVICE [SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433]; if (OBJECT_ID('SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-13edb8bb-1185-4096-9b92-332c5cd3d433]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-13edb8bb-1185-4096-9b92-332c5cd3d433]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-150655b6-46f0-4fdb-8d70-78e91e37f128]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-150655b6-46f0-4fdb-8d70-78e91e37f128] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128') > 0)   DROP SERVICE [SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128]; if (OBJECT_ID('SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-150655b6-46f0-4fdb-8d70-78e91e37f128]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-150655b6-46f0-4fdb-8d70-78e91e37f128]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-153c60d1-cf82-4ff4-878d-4ff767502e39]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-153c60d1-cf82-4ff4-878d-4ff767502e39] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39') > 0)   DROP SERVICE [SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39]; if (OBJECT_ID('SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-153c60d1-cf82-4ff4-878d-4ff767502e39]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-153c60d1-cf82-4ff4-878d-4ff767502e39]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-153c80f3-6184-4784-9ea7-ad866044d88d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-153c80f3-6184-4784-9ea7-ad866044d88d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d') > 0)   DROP SERVICE [SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d]; if (OBJECT_ID('SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-153c80f3-6184-4784-9ea7-ad866044d88d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-153c80f3-6184-4784-9ea7-ad866044d88d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-15c8d96b-679f-49a9-b9d0-e963c4cb88be]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-15c8d96b-679f-49a9-b9d0-e963c4cb88be] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be') > 0)   DROP SERVICE [SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be]; if (OBJECT_ID('SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-15c8d96b-679f-49a9-b9d0-e963c4cb88be]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-15c8d96b-679f-49a9-b9d0-e963c4cb88be]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-179586d1-7a90-4069-878b-205ebb76e474]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-179586d1-7a90-4069-878b-205ebb76e474] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474') > 0)   DROP SERVICE [SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474]; if (OBJECT_ID('SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-179586d1-7a90-4069-878b-205ebb76e474]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-179586d1-7a90-4069-878b-205ebb76e474]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-180a3053-4370-4922-824a-82916f01b880]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-180a3053-4370-4922-824a-82916f01b880] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880') > 0)   DROP SERVICE [SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880]; if (OBJECT_ID('SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-180a3053-4370-4922-824a-82916f01b880]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-180a3053-4370-4922-824a-82916f01b880]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07') > 0)   DROP SERVICE [SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07]; if (OBJECT_ID('SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-18199dbb-f64f-4aaf-bdf3-2660b8ab3a07]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-190f6453-37cc-421d-add2-843624fd0176]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-190f6453-37cc-421d-add2-843624fd0176] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176') > 0)   DROP SERVICE [SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176]; if (OBJECT_ID('SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-190f6453-37cc-421d-add2-843624fd0176]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-190f6453-37cc-421d-add2-843624fd0176]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-1a538d9d-b192-4e2e-8d3d-81c3de95bac5]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-1a538d9d-b192-4e2e-8d3d-81c3de95bac5] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5') > 0)   DROP SERVICE [SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5]; if (OBJECT_ID('SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-1a538d9d-b192-4e2e-8d3d-81c3de95bac5]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-1a538d9d-b192-4e2e-8d3d-81c3de95bac5]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-1a623060-b96c-4a47-82dc-3a961774d18b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-1a623060-b96c-4a47-82dc-3a961774d18b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b') > 0)   DROP SERVICE [SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b]; if (OBJECT_ID('SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-1a623060-b96c-4a47-82dc-3a961774d18b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-1a623060-b96c-4a47-82dc-3a961774d18b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec') > 0)   DROP SERVICE [SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec]; if (OBJECT_ID('SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2017a597-f1d2-4d9b-b6b4-a3a2688dc1ec]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-21592d1a-6444-4b18-b032-008d4ec9cc67]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-21592d1a-6444-4b18-b032-008d4ec9cc67] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67') > 0)   DROP SERVICE [SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67]; if (OBJECT_ID('SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-21592d1a-6444-4b18-b032-008d4ec9cc67]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-21592d1a-6444-4b18-b032-008d4ec9cc67]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2195a8c7-0507-4bf9-82e8-e12e7517f81a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2195a8c7-0507-4bf9-82e8-e12e7517f81a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a') > 0)   DROP SERVICE [SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a]; if (OBJECT_ID('SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2195a8c7-0507-4bf9-82e8-e12e7517f81a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2195a8c7-0507-4bf9-82e8-e12e7517f81a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-22212130-5717-4c25-8a85-2679c4932ca6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-22212130-5717-4c25-8a85-2679c4932ca6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6') > 0)   DROP SERVICE [SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6]; if (OBJECT_ID('SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-22212130-5717-4c25-8a85-2679c4932ca6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-22212130-5717-4c25-8a85-2679c4932ca6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-22b45f25-c6c4-4ac2-86db-af633d7fafb2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-22b45f25-c6c4-4ac2-86db-af633d7fafb2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2') > 0)   DROP SERVICE [SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2]; if (OBJECT_ID('SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-22b45f25-c6c4-4ac2-86db-af633d7fafb2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-22b45f25-c6c4-4ac2-86db-af633d7fafb2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2376a08e-ac2e-4040-a11f-eb80a0e0f616]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2376a08e-ac2e-4040-a11f-eb80a0e0f616] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616') > 0)   DROP SERVICE [SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616]; if (OBJECT_ID('SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2376a08e-ac2e-4040-a11f-eb80a0e0f616]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2376a08e-ac2e-4040-a11f-eb80a0e0f616]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-239981f7-df8c-450a-aac7-30eaa608f634]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-239981f7-df8c-450a-aac7-30eaa608f634] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634') > 0)   DROP SERVICE [SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634]; if (OBJECT_ID('SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-239981f7-df8c-450a-aac7-30eaa608f634]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-239981f7-df8c-450a-aac7-30eaa608f634]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4') > 0)   DROP SERVICE [SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4]; if (OBJECT_ID('SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-23f3b4b2-5e46-410d-8d9f-8d8ece03f8b4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-24210e6c-96c3-4e51-8b98-32d5ea05fe84]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-24210e6c-96c3-4e51-8b98-32d5ea05fe84] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84') > 0)   DROP SERVICE [SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84]; if (OBJECT_ID('SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-24210e6c-96c3-4e51-8b98-32d5ea05fe84]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-24210e6c-96c3-4e51-8b98-32d5ea05fe84]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2534b384-b973-4a80-9d48-7a778861fe88]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2534b384-b973-4a80-9d48-7a778861fe88] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88') > 0)   DROP SERVICE [SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88]; if (OBJECT_ID('SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2534b384-b973-4a80-9d48-7a778861fe88]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2534b384-b973-4a80-9d48-7a778861fe88]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-259aad74-8686-4a75-806e-d293aa4fbf4e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-259aad74-8686-4a75-806e-d293aa4fbf4e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e') > 0)   DROP SERVICE [SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e]; if (OBJECT_ID('SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-259aad74-8686-4a75-806e-d293aa4fbf4e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-259aad74-8686-4a75-806e-d293aa4fbf4e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2619306a-1e74-4d51-990e-99473e70be20]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2619306a-1e74-4d51-990e-99473e70be20] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20') > 0)   DROP SERVICE [SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20]; if (OBJECT_ID('SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2619306a-1e74-4d51-990e-99473e70be20]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2619306a-1e74-4d51-990e-99473e70be20]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2646030c-a0e7-4b0f-b425-5f31a937dc95]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2646030c-a0e7-4b0f-b425-5f31a937dc95] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95') > 0)   DROP SERVICE [SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95]; if (OBJECT_ID('SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2646030c-a0e7-4b0f-b425-5f31a937dc95]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2646030c-a0e7-4b0f-b425-5f31a937dc95]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-26c43ef6-dbef-4353-b8be-e3c2405e90e9]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-26c43ef6-dbef-4353-b8be-e3c2405e90e9] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9') > 0)   DROP SERVICE [SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9]; if (OBJECT_ID('SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-26c43ef6-dbef-4353-b8be-e3c2405e90e9]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-26c43ef6-dbef-4353-b8be-e3c2405e90e9]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-27980cb3-7165-4480-a8cc-fd72d482e907]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-27980cb3-7165-4480-a8cc-fd72d482e907] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907') > 0)   DROP SERVICE [SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907]; if (OBJECT_ID('SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-27980cb3-7165-4480-a8cc-fd72d482e907]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-27980cb3-7165-4480-a8cc-fd72d482e907]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-28ddbc9a-a154-4917-8c35-081b4173ac76]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-28ddbc9a-a154-4917-8c35-081b4173ac76] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76') > 0)   DROP SERVICE [SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76]; if (OBJECT_ID('SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-28ddbc9a-a154-4917-8c35-081b4173ac76]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-28ddbc9a-a154-4917-8c35-081b4173ac76]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2a9529c6-310d-4811-9e3a-19e8b5164322]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2a9529c6-310d-4811-9e3a-19e8b5164322] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322') > 0)   DROP SERVICE [SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322]; if (OBJECT_ID('SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2a9529c6-310d-4811-9e3a-19e8b5164322]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2a9529c6-310d-4811-9e3a-19e8b5164322]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2ab699ea-d080-4688-a749-97266cd2fcdc]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2ab699ea-d080-4688-a749-97266cd2fcdc] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc') > 0)   DROP SERVICE [SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc]; if (OBJECT_ID('SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2ab699ea-d080-4688-a749-97266cd2fcdc]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2ab699ea-d080-4688-a749-97266cd2fcdc]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2b43524a-efca-4feb-9fd8-75a4a07bd42a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2b43524a-efca-4feb-9fd8-75a4a07bd42a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a') > 0)   DROP SERVICE [SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a]; if (OBJECT_ID('SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2b43524a-efca-4feb-9fd8-75a4a07bd42a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2b43524a-efca-4feb-9fd8-75a4a07bd42a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2b9dbf6b-64a0-4967-a067-40987fbfe7fd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2b9dbf6b-64a0-4967-a067-40987fbfe7fd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd') > 0)   DROP SERVICE [SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd]; if (OBJECT_ID('SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2b9dbf6b-64a0-4967-a067-40987fbfe7fd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2b9dbf6b-64a0-4967-a067-40987fbfe7fd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67') > 0)   DROP SERVICE [SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67]; if (OBJECT_ID('SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2d36c9c6-c8d1-4b5c-bd1a-5bdb15fb4d67]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2d603b58-fd09-40d4-9dbb-443c535d6429]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2d603b58-fd09-40d4-9dbb-443c535d6429] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429') > 0)   DROP SERVICE [SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429]; if (OBJECT_ID('SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2d603b58-fd09-40d4-9dbb-443c535d6429]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2d603b58-fd09-40d4-9dbb-443c535d6429]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf') > 0)   DROP SERVICE [SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf]; if (OBJECT_ID('SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2d7ad0ce-f135-4a24-b133-f2e0ca6930cf]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-2f4aed5f-57d0-4fb6-9db2-b88a361339e3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-2f4aed5f-57d0-4fb6-9db2-b88a361339e3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3') > 0)   DROP SERVICE [SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3]; if (OBJECT_ID('SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-2f4aed5f-57d0-4fb6-9db2-b88a361339e3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-2f4aed5f-57d0-4fb6-9db2-b88a361339e3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-31039fcd-8b25-4e4c-b9b8-92624a91ea7e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-31039fcd-8b25-4e4c-b9b8-92624a91ea7e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e') > 0)   DROP SERVICE [SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e]; if (OBJECT_ID('SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-31039fcd-8b25-4e4c-b9b8-92624a91ea7e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-31039fcd-8b25-4e4c-b9b8-92624a91ea7e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3231dd97-0670-40e2-b561-9747547b6862]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3231dd97-0670-40e2-b561-9747547b6862] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862') > 0)   DROP SERVICE [SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862]; if (OBJECT_ID('SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3231dd97-0670-40e2-b561-9747547b6862]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3231dd97-0670-40e2-b561-9747547b6862]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3259e3aa-f527-4279-8a1c-6f9af6472eb2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3259e3aa-f527-4279-8a1c-6f9af6472eb2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2') > 0)   DROP SERVICE [SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2]; if (OBJECT_ID('SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3259e3aa-f527-4279-8a1c-6f9af6472eb2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3259e3aa-f527-4279-8a1c-6f9af6472eb2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-33bcb7c7-7873-41b0-9f59-2975019c3c4f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-33bcb7c7-7873-41b0-9f59-2975019c3c4f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f') > 0)   DROP SERVICE [SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f]; if (OBJECT_ID('SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-33bcb7c7-7873-41b0-9f59-2975019c3c4f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-33bcb7c7-7873-41b0-9f59-2975019c3c4f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-36a476a3-3554-4cb8-a414-b2624b49ce5a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-36a476a3-3554-4cb8-a414-b2624b49ce5a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a') > 0)   DROP SERVICE [SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a]; if (OBJECT_ID('SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-36a476a3-3554-4cb8-a414-b2624b49ce5a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-36a476a3-3554-4cb8-a414-b2624b49ce5a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-37ac1f31-32e4-4a00-b2c1-c19670cc8be6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-37ac1f31-32e4-4a00-b2c1-c19670cc8be6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6') > 0)   DROP SERVICE [SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6]; if (OBJECT_ID('SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-37ac1f31-32e4-4a00-b2c1-c19670cc8be6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-37ac1f31-32e4-4a00-b2c1-c19670cc8be6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-389f21c2-d740-4f9a-9db1-73de686b34e9]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-389f21c2-d740-4f9a-9db1-73de686b34e9] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9') > 0)   DROP SERVICE [SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9]; if (OBJECT_ID('SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-389f21c2-d740-4f9a-9db1-73de686b34e9]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-389f21c2-d740-4f9a-9db1-73de686b34e9]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd') > 0)   DROP SERVICE [SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd]; if (OBJECT_ID('SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-38bceee4-e3ba-43c4-98c6-c1dfa41e22cd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-39cadf74-0235-4f5e-9b20-2225beb1658d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-39cadf74-0235-4f5e-9b20-2225beb1658d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d') > 0)   DROP SERVICE [SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d]; if (OBJECT_ID('SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-39cadf74-0235-4f5e-9b20-2225beb1658d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-39cadf74-0235-4f5e-9b20-2225beb1658d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3a897161-e874-4f6b-bc54-a6aee9672fdf]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3a897161-e874-4f6b-bc54-a6aee9672fdf] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf') > 0)   DROP SERVICE [SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf]; if (OBJECT_ID('SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3a897161-e874-4f6b-bc54-a6aee9672fdf]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3a897161-e874-4f6b-bc54-a6aee9672fdf]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3') > 0)   DROP SERVICE [SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3]; if (OBJECT_ID('SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3b1bd28a-1d9b-4358-bf02-4ea2fa28cfc3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3c4e2ec3-50eb-4e76-8d98-85d3cf619017]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3c4e2ec3-50eb-4e76-8d98-85d3cf619017] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017') > 0)   DROP SERVICE [SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017]; if (OBJECT_ID('SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3c4e2ec3-50eb-4e76-8d98-85d3cf619017]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3c4e2ec3-50eb-4e76-8d98-85d3cf619017]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c') > 0)   DROP SERVICE [SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c]; if (OBJECT_ID('SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3cc5a8fe-3ba2-493e-92f2-0556763e6b4c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3e2d3315-2868-409a-8159-eb984fa18aa7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3e2d3315-2868-409a-8159-eb984fa18aa7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7') > 0)   DROP SERVICE [SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7]; if (OBJECT_ID('SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3e2d3315-2868-409a-8159-eb984fa18aa7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3e2d3315-2868-409a-8159-eb984fa18aa7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3ec7e0ee-965a-4f08-99f3-6090ea30540c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3ec7e0ee-965a-4f08-99f3-6090ea30540c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c') > 0)   DROP SERVICE [SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c]; if (OBJECT_ID('SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3ec7e0ee-965a-4f08-99f3-6090ea30540c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3ec7e0ee-965a-4f08-99f3-6090ea30540c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3ed39c00-0f64-4da8-bc90-2a78df20b427]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3ed39c00-0f64-4da8-bc90-2a78df20b427] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427') > 0)   DROP SERVICE [SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427]; if (OBJECT_ID('SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3ed39c00-0f64-4da8-bc90-2a78df20b427]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3ed39c00-0f64-4da8-bc90-2a78df20b427]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3ee822c8-7fc3-4692-a5bc-4fff0a19461f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3ee822c8-7fc3-4692-a5bc-4fff0a19461f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f') > 0)   DROP SERVICE [SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f]; if (OBJECT_ID('SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3ee822c8-7fc3-4692-a5bc-4fff0a19461f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3ee822c8-7fc3-4692-a5bc-4fff0a19461f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3f5049f0-dbba-4976-999a-239440515d2d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3f5049f0-dbba-4976-999a-239440515d2d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d') > 0)   DROP SERVICE [SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d]; if (OBJECT_ID('SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3f5049f0-dbba-4976-999a-239440515d2d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3f5049f0-dbba-4976-999a-239440515d2d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-3ffef005-f2a0-4d07-8a95-690704cc39c7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-3ffef005-f2a0-4d07-8a95-690704cc39c7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7') > 0)   DROP SERVICE [SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7]; if (OBJECT_ID('SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-3ffef005-f2a0-4d07-8a95-690704cc39c7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-3ffef005-f2a0-4d07-8a95-690704cc39c7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-41b85672-58eb-473c-8aa0-112681c75c53]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-41b85672-58eb-473c-8aa0-112681c75c53] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53') > 0)   DROP SERVICE [SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53]; if (OBJECT_ID('SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-41b85672-58eb-473c-8aa0-112681c75c53]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-41b85672-58eb-473c-8aa0-112681c75c53]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-41fedfc9-0282-4c75-bd29-cb1a4e03ab56]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-41fedfc9-0282-4c75-bd29-cb1a4e03ab56] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56') > 0)   DROP SERVICE [SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56]; if (OBJECT_ID('SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-41fedfc9-0282-4c75-bd29-cb1a4e03ab56]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-41fedfc9-0282-4c75-bd29-cb1a4e03ab56]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-42687e25-8803-45ec-953c-2209ca9337d7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-42687e25-8803-45ec-953c-2209ca9337d7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7') > 0)   DROP SERVICE [SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7]; if (OBJECT_ID('SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-42687e25-8803-45ec-953c-2209ca9337d7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-42687e25-8803-45ec-953c-2209ca9337d7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-42795d95-7e51-47d6-951e-dd37159422b2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-42795d95-7e51-47d6-951e-dd37159422b2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2') > 0)   DROP SERVICE [SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2]; if (OBJECT_ID('SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-42795d95-7e51-47d6-951e-dd37159422b2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-42795d95-7e51-47d6-951e-dd37159422b2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-45bccc50-37a8-44bb-8124-b0bd95ccc37e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-45bccc50-37a8-44bb-8124-b0bd95ccc37e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e') > 0)   DROP SERVICE [SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e]; if (OBJECT_ID('SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-45bccc50-37a8-44bb-8124-b0bd95ccc37e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-45bccc50-37a8-44bb-8124-b0bd95ccc37e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-465f000e-95af-40a3-ab20-f5c6b4b29961]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-465f000e-95af-40a3-ab20-f5c6b4b29961] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961') > 0)   DROP SERVICE [SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961]; if (OBJECT_ID('SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-465f000e-95af-40a3-ab20-f5c6b4b29961]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-465f000e-95af-40a3-ab20-f5c6b4b29961]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27') > 0)   DROP SERVICE [SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27]; if (OBJECT_ID('SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4676e2f1-0a68-4a13-a9bc-6c5464aa4c27]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-46c55c42-164f-44d6-97c6-1d8352ec362a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-46c55c42-164f-44d6-97c6-1d8352ec362a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a') > 0)   DROP SERVICE [SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a]; if (OBJECT_ID('SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-46c55c42-164f-44d6-97c6-1d8352ec362a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-46c55c42-164f-44d6-97c6-1d8352ec362a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4740d658-7f0a-4184-83e2-3b053f56d196]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4740d658-7f0a-4184-83e2-3b053f56d196] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196') > 0)   DROP SERVICE [SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196]; if (OBJECT_ID('SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4740d658-7f0a-4184-83e2-3b053f56d196]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4740d658-7f0a-4184-83e2-3b053f56d196]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4772396c-2518-4ff3-9d38-f3d2a9a98939]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4772396c-2518-4ff3-9d38-f3d2a9a98939] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939') > 0)   DROP SERVICE [SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939]; if (OBJECT_ID('SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4772396c-2518-4ff3-9d38-f3d2a9a98939]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4772396c-2518-4ff3-9d38-f3d2a9a98939]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-48641755-ea7c-4074-84a9-50f4d8b80920]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-48641755-ea7c-4074-84a9-50f4d8b80920] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920') > 0)   DROP SERVICE [SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920]; if (OBJECT_ID('SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-48641755-ea7c-4074-84a9-50f4d8b80920]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-48641755-ea7c-4074-84a9-50f4d8b80920]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-49210ed5-8858-4ff8-8df9-6af92ad94049]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-49210ed5-8858-4ff8-8df9-6af92ad94049] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049') > 0)   DROP SERVICE [SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049]; if (OBJECT_ID('SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-49210ed5-8858-4ff8-8df9-6af92ad94049]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-49210ed5-8858-4ff8-8df9-6af92ad94049]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-494b9053-b3ff-48a4-a06d-be7f5b659798]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-494b9053-b3ff-48a4-a06d-be7f5b659798] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798') > 0)   DROP SERVICE [SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798]; if (OBJECT_ID('SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-494b9053-b3ff-48a4-a06d-be7f5b659798]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-494b9053-b3ff-48a4-a06d-be7f5b659798]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4a0578d0-379f-4b89-bb96-950953db49af]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4a0578d0-379f-4b89-bb96-950953db49af] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af') > 0)   DROP SERVICE [SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af]; if (OBJECT_ID('SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4a0578d0-379f-4b89-bb96-950953db49af]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4a0578d0-379f-4b89-bb96-950953db49af]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4ae66dad-e346-4411-be7d-b4ecba0a1095]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4ae66dad-e346-4411-be7d-b4ecba0a1095] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095') > 0)   DROP SERVICE [SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095]; if (OBJECT_ID('SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4ae66dad-e346-4411-be7d-b4ecba0a1095]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4ae66dad-e346-4411-be7d-b4ecba0a1095]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4b40f989-0f36-4435-bace-5a66d036b099]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4b40f989-0f36-4435-bace-5a66d036b099] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099') > 0)   DROP SERVICE [SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099]; if (OBJECT_ID('SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4b40f989-0f36-4435-bace-5a66d036b099]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4b40f989-0f36-4435-bace-5a66d036b099]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4ba59b3f-3738-433e-a056-111e5b2e153e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4ba59b3f-3738-433e-a056-111e5b2e153e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e') > 0)   DROP SERVICE [SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e]; if (OBJECT_ID('SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4ba59b3f-3738-433e-a056-111e5b2e153e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4ba59b3f-3738-433e-a056-111e5b2e153e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4e38ecef-0394-4ec0-977d-a09c0ccd94cf]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4e38ecef-0394-4ec0-977d-a09c0ccd94cf] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf') > 0)   DROP SERVICE [SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf]; if (OBJECT_ID('SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4e38ecef-0394-4ec0-977d-a09c0ccd94cf]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4e38ecef-0394-4ec0-977d-a09c0ccd94cf]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea') > 0)   DROP SERVICE [SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea]; if (OBJECT_ID('SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-4eb91cb6-7fce-4d89-ad03-9caaa4edfeea]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5021a0dd-816e-4f89-b4e0-c8663e021dfb]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5021a0dd-816e-4f89-b4e0-c8663e021dfb] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb') > 0)   DROP SERVICE [SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb]; if (OBJECT_ID('SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5021a0dd-816e-4f89-b4e0-c8663e021dfb]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5021a0dd-816e-4f89-b4e0-c8663e021dfb]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-50b70018-ae0a-492c-984e-611d86b7aaa9]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-50b70018-ae0a-492c-984e-611d86b7aaa9] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9') > 0)   DROP SERVICE [SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9]; if (OBJECT_ID('SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-50b70018-ae0a-492c-984e-611d86b7aaa9]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-50b70018-ae0a-492c-984e-611d86b7aaa9]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-51604986-291e-4b75-8c85-d15c5d461a23]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-51604986-291e-4b75-8c85-d15c5d461a23] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23') > 0)   DROP SERVICE [SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23]; if (OBJECT_ID('SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-51604986-291e-4b75-8c85-d15c5d461a23]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-51604986-291e-4b75-8c85-d15c5d461a23]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-535a782b-21c2-461b-97c4-366868a78c72]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-535a782b-21c2-461b-97c4-366868a78c72] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72') > 0)   DROP SERVICE [SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72]; if (OBJECT_ID('SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-535a782b-21c2-461b-97c4-366868a78c72]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-535a782b-21c2-461b-97c4-366868a78c72]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-53e0c4aa-67e2-4f24-9a96-b2204d8b1034]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-53e0c4aa-67e2-4f24-9a96-b2204d8b1034] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034') > 0)   DROP SERVICE [SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034]; if (OBJECT_ID('SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-53e0c4aa-67e2-4f24-9a96-b2204d8b1034]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-53e0c4aa-67e2-4f24-9a96-b2204d8b1034]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-546fba67-f8ab-4d9b-8468-52ff0013d2ff]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-546fba67-f8ab-4d9b-8468-52ff0013d2ff] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff') > 0)   DROP SERVICE [SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff]; if (OBJECT_ID('SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-546fba67-f8ab-4d9b-8468-52ff0013d2ff]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-546fba67-f8ab-4d9b-8468-52ff0013d2ff]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-550e77c4-7e49-4d69-a828-b1908e2608ac]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-550e77c4-7e49-4d69-a828-b1908e2608ac] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac') > 0)   DROP SERVICE [SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac]; if (OBJECT_ID('SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-550e77c4-7e49-4d69-a828-b1908e2608ac]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-550e77c4-7e49-4d69-a828-b1908e2608ac]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-566e537e-88d5-43e1-91c6-b3b19c54311c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-566e537e-88d5-43e1-91c6-b3b19c54311c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c') > 0)   DROP SERVICE [SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c]; if (OBJECT_ID('SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-566e537e-88d5-43e1-91c6-b3b19c54311c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-566e537e-88d5-43e1-91c6-b3b19c54311c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-573b1f70-5feb-411c-bc8a-77eb59767c66]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-573b1f70-5feb-411c-bc8a-77eb59767c66] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66') > 0)   DROP SERVICE [SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66]; if (OBJECT_ID('SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-573b1f70-5feb-411c-bc8a-77eb59767c66]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-573b1f70-5feb-411c-bc8a-77eb59767c66]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-57630a2f-ea29-464d-902f-d34124a4d223]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-57630a2f-ea29-464d-902f-d34124a4d223] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223') > 0)   DROP SERVICE [SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223]; if (OBJECT_ID('SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-57630a2f-ea29-464d-902f-d34124a4d223]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-57630a2f-ea29-464d-902f-d34124a4d223]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8') > 0)   DROP SERVICE [SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8]; if (OBJECT_ID('SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5a79c471-1f5f-4d1c-97d3-c65acc79bbb8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5b11df71-ab11-4ddd-b303-62ca6c414560]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5b11df71-ab11-4ddd-b303-62ca6c414560] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560') > 0)   DROP SERVICE [SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560]; if (OBJECT_ID('SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5b11df71-ab11-4ddd-b303-62ca6c414560]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5b11df71-ab11-4ddd-b303-62ca6c414560]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5b558cdc-5576-43db-b82c-4e40dae8ecd1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5b558cdc-5576-43db-b82c-4e40dae8ecd1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1') > 0)   DROP SERVICE [SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1]; if (OBJECT_ID('SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5b558cdc-5576-43db-b82c-4e40dae8ecd1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5b558cdc-5576-43db-b82c-4e40dae8ecd1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5b7924cb-8889-46f6-8fa0-241e77e9d658]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5b7924cb-8889-46f6-8fa0-241e77e9d658] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658') > 0)   DROP SERVICE [SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658]; if (OBJECT_ID('SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5b7924cb-8889-46f6-8fa0-241e77e9d658]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5b7924cb-8889-46f6-8fa0-241e77e9d658]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5bc6c6bb-cd43-4d55-b528-1a033f6701c3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5bc6c6bb-cd43-4d55-b528-1a033f6701c3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3') > 0)   DROP SERVICE [SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3]; if (OBJECT_ID('SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5bc6c6bb-cd43-4d55-b528-1a033f6701c3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5bc6c6bb-cd43-4d55-b528-1a033f6701c3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5c111847-d4b3-44f3-bfd7-6a05febb4622]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5c111847-d4b3-44f3-bfd7-6a05febb4622] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622') > 0)   DROP SERVICE [SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622]; if (OBJECT_ID('SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5c111847-d4b3-44f3-bfd7-6a05febb4622]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5c111847-d4b3-44f3-bfd7-6a05febb4622]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5ccfeecd-a6dd-4abb-813c-cf2e90604517]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5ccfeecd-a6dd-4abb-813c-cf2e90604517] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517') > 0)   DROP SERVICE [SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517]; if (OBJECT_ID('SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5ccfeecd-a6dd-4abb-813c-cf2e90604517]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5ccfeecd-a6dd-4abb-813c-cf2e90604517]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5ce79786-147d-4c53-a06b-0a08a9eb78f5]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5ce79786-147d-4c53-a06b-0a08a9eb78f5] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5') > 0)   DROP SERVICE [SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5]; if (OBJECT_ID('SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5ce79786-147d-4c53-a06b-0a08a9eb78f5]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5ce79786-147d-4c53-a06b-0a08a9eb78f5]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7') > 0)   DROP SERVICE [SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7]; if (OBJECT_ID('SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5ec9c2af-30d5-4fb1-a58b-5a56202bb2f7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-5f73accd-3f0f-4a1b-9d10-9bd83b76b436]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-5f73accd-3f0f-4a1b-9d10-9bd83b76b436] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436') > 0)   DROP SERVICE [SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436]; if (OBJECT_ID('SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-5f73accd-3f0f-4a1b-9d10-9bd83b76b436]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-5f73accd-3f0f-4a1b-9d10-9bd83b76b436]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-61a8e5f5-dbd9-41f0-bd96-edd1830abe54]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-61a8e5f5-dbd9-41f0-bd96-edd1830abe54] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54') > 0)   DROP SERVICE [SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54]; if (OBJECT_ID('SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-61a8e5f5-dbd9-41f0-bd96-edd1830abe54]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-61a8e5f5-dbd9-41f0-bd96-edd1830abe54]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-638b1eda-e136-4dc8-af46-7c8da9b84684]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-638b1eda-e136-4dc8-af46-7c8da9b84684] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684') > 0)   DROP SERVICE [SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684]; if (OBJECT_ID('SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-638b1eda-e136-4dc8-af46-7c8da9b84684]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-638b1eda-e136-4dc8-af46-7c8da9b84684]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-63fcb8ad-a08c-46e4-af7d-769a00b23422]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-63fcb8ad-a08c-46e4-af7d-769a00b23422] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422') > 0)   DROP SERVICE [SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422]; if (OBJECT_ID('SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-63fcb8ad-a08c-46e4-af7d-769a00b23422]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-63fcb8ad-a08c-46e4-af7d-769a00b23422]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-64375f02-80ec-46c1-9fd2-b54d32f000c7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-64375f02-80ec-46c1-9fd2-b54d32f000c7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7') > 0)   DROP SERVICE [SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7]; if (OBJECT_ID('SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-64375f02-80ec-46c1-9fd2-b54d32f000c7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-64375f02-80ec-46c1-9fd2-b54d32f000c7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6466d5a2-5206-48ee-bb87-43d86bb83fed]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6466d5a2-5206-48ee-bb87-43d86bb83fed] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed') > 0)   DROP SERVICE [SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed]; if (OBJECT_ID('SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6466d5a2-5206-48ee-bb87-43d86bb83fed]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6466d5a2-5206-48ee-bb87-43d86bb83fed]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-64876735-3877-44e6-8789-976b3fee5e6a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-64876735-3877-44e6-8789-976b3fee5e6a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a') > 0)   DROP SERVICE [SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a]; if (OBJECT_ID('SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-64876735-3877-44e6-8789-976b3fee5e6a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-64876735-3877-44e6-8789-976b3fee5e6a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-64bf1405-d61c-4730-9024-f88153f49063]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-64bf1405-d61c-4730-9024-f88153f49063] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063') > 0)   DROP SERVICE [SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063]; if (OBJECT_ID('SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-64bf1405-d61c-4730-9024-f88153f49063]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-64bf1405-d61c-4730-9024-f88153f49063]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-650e7770-7dc4-43de-8947-d765e60f9a0c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-650e7770-7dc4-43de-8947-d765e60f9a0c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c') > 0)   DROP SERVICE [SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c]; if (OBJECT_ID('SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-650e7770-7dc4-43de-8947-d765e60f9a0c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-650e7770-7dc4-43de-8947-d765e60f9a0c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-658823ce-8382-4d3b-bafe-8411a8669c0b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-658823ce-8382-4d3b-bafe-8411a8669c0b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b') > 0)   DROP SERVICE [SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b]; if (OBJECT_ID('SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-658823ce-8382-4d3b-bafe-8411a8669c0b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-658823ce-8382-4d3b-bafe-8411a8669c0b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-66b89f14-2f48-4053-acaf-b2c535a2d056]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-66b89f14-2f48-4053-acaf-b2c535a2d056] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056') > 0)   DROP SERVICE [SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056]; if (OBJECT_ID('SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-66b89f14-2f48-4053-acaf-b2c535a2d056]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-66b89f14-2f48-4053-acaf-b2c535a2d056]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-67218e40-90f1-40ec-bbf3-39a587677c15]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-67218e40-90f1-40ec-bbf3-39a587677c15] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15') > 0)   DROP SERVICE [SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15]; if (OBJECT_ID('SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-67218e40-90f1-40ec-bbf3-39a587677c15]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-67218e40-90f1-40ec-bbf3-39a587677c15]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-688cbec6-a08e-4747-b0ed-137535e0b744]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-688cbec6-a08e-4747-b0ed-137535e0b744] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744') > 0)   DROP SERVICE [SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744]; if (OBJECT_ID('SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-688cbec6-a08e-4747-b0ed-137535e0b744]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-688cbec6-a08e-4747-b0ed-137535e0b744]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-68f3772f-9f9a-47ba-8d81-2959930a6268]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-68f3772f-9f9a-47ba-8d81-2959930a6268] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268') > 0)   DROP SERVICE [SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268]; if (OBJECT_ID('SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-68f3772f-9f9a-47ba-8d81-2959930a6268]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-68f3772f-9f9a-47ba-8d81-2959930a6268]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-69a39437-d88e-44e6-9470-aa236c9c9132]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-69a39437-d88e-44e6-9470-aa236c9c9132] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132') > 0)   DROP SERVICE [SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132]; if (OBJECT_ID('SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-69a39437-d88e-44e6-9470-aa236c9c9132]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-69a39437-d88e-44e6-9470-aa236c9c9132]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b') > 0)   DROP SERVICE [SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b]; if (OBJECT_ID('SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6a41343b-dd8d-4d57-8c32-bd5b81e6d98b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6aaa44d8-85e7-451f-b595-84807faa8f5a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6aaa44d8-85e7-451f-b595-84807faa8f5a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a') > 0)   DROP SERVICE [SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a]; if (OBJECT_ID('SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6aaa44d8-85e7-451f-b595-84807faa8f5a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6aaa44d8-85e7-451f-b595-84807faa8f5a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2') > 0)   DROP SERVICE [SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2]; if (OBJECT_ID('SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6b8a96fd-694c-4b3f-8ac6-6434be4ffae2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce') > 0)   DROP SERVICE [SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce]; if (OBJECT_ID('SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6d0fcf10-7d57-4a4c-acc3-ad1d683f7dce]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6da41251-ea44-484d-b96f-c0d8dfefd38a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6da41251-ea44-484d-b96f-c0d8dfefd38a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a') > 0)   DROP SERVICE [SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a]; if (OBJECT_ID('SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6da41251-ea44-484d-b96f-c0d8dfefd38a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6da41251-ea44-484d-b96f-c0d8dfefd38a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6e05870d-76de-46aa-abeb-5157311900d8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6e05870d-76de-46aa-abeb-5157311900d8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8') > 0)   DROP SERVICE [SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8]; if (OBJECT_ID('SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6e05870d-76de-46aa-abeb-5157311900d8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6e05870d-76de-46aa-abeb-5157311900d8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-6f52f04e-addd-4151-b6cb-87c6eff440d6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-6f52f04e-addd-4151-b6cb-87c6eff440d6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6') > 0)   DROP SERVICE [SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6]; if (OBJECT_ID('SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-6f52f04e-addd-4151-b6cb-87c6eff440d6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-6f52f04e-addd-4151-b6cb-87c6eff440d6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7036f9d1-7ace-406e-9c12-1da0c5129b16]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7036f9d1-7ace-406e-9c12-1da0c5129b16] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16') > 0)   DROP SERVICE [SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16]; if (OBJECT_ID('SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7036f9d1-7ace-406e-9c12-1da0c5129b16]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7036f9d1-7ace-406e-9c12-1da0c5129b16]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-711e7b31-8085-4b51-91ac-d75e8915cb21]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-711e7b31-8085-4b51-91ac-d75e8915cb21] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21') > 0)   DROP SERVICE [SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21]; if (OBJECT_ID('SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-711e7b31-8085-4b51-91ac-d75e8915cb21]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-711e7b31-8085-4b51-91ac-d75e8915cb21]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7326db0f-e6cf-4167-bca7-4946e9d9bdfb]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7326db0f-e6cf-4167-bca7-4946e9d9bdfb] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb') > 0)   DROP SERVICE [SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb]; if (OBJECT_ID('SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7326db0f-e6cf-4167-bca7-4946e9d9bdfb]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7326db0f-e6cf-4167-bca7-4946e9d9bdfb]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-75febe36-6d67-4b8f-a1f4-4c1376b40164]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-75febe36-6d67-4b8f-a1f4-4c1376b40164] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164') > 0)   DROP SERVICE [SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164]; if (OBJECT_ID('SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-75febe36-6d67-4b8f-a1f4-4c1376b40164]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-75febe36-6d67-4b8f-a1f4-4c1376b40164]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-761fda81-1681-4ca5-b0bd-0a71c50ff350]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-761fda81-1681-4ca5-b0bd-0a71c50ff350] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350') > 0)   DROP SERVICE [SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350]; if (OBJECT_ID('SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-761fda81-1681-4ca5-b0bd-0a71c50ff350]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-761fda81-1681-4ca5-b0bd-0a71c50ff350]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7676ce01-311a-47b7-90bc-c466bbf6a725]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7676ce01-311a-47b7-90bc-c466bbf6a725] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725') > 0)   DROP SERVICE [SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725]; if (OBJECT_ID('SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7676ce01-311a-47b7-90bc-c466bbf6a725]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7676ce01-311a-47b7-90bc-c466bbf6a725]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-76d65426-a8c4-4096-87d9-e9f75d31d562]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-76d65426-a8c4-4096-87d9-e9f75d31d562] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562') > 0)   DROP SERVICE [SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562]; if (OBJECT_ID('SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-76d65426-a8c4-4096-87d9-e9f75d31d562]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-76d65426-a8c4-4096-87d9-e9f75d31d562]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69') > 0)   DROP SERVICE [SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69]; if (OBJECT_ID('SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7718685e-5bf4-4fc2-a5ab-f4b2b53a3c69]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7793f026-adf7-47c9-a68e-c87d55a6473a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7793f026-adf7-47c9-a68e-c87d55a6473a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a') > 0)   DROP SERVICE [SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a]; if (OBJECT_ID('SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7793f026-adf7-47c9-a68e-c87d55a6473a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7793f026-adf7-47c9-a68e-c87d55a6473a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-77a9e975-4917-4317-89c8-921ad67750e3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-77a9e975-4917-4317-89c8-921ad67750e3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3') > 0)   DROP SERVICE [SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3]; if (OBJECT_ID('SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-77a9e975-4917-4317-89c8-921ad67750e3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-77a9e975-4917-4317-89c8-921ad67750e3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-77ac8b96-613a-473d-a5cf-4f08563776cf]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-77ac8b96-613a-473d-a5cf-4f08563776cf] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf') > 0)   DROP SERVICE [SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf]; if (OBJECT_ID('SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-77ac8b96-613a-473d-a5cf-4f08563776cf]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-77ac8b96-613a-473d-a5cf-4f08563776cf]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-78a537ad-0831-40cf-9e6f-16d02138fac0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-78a537ad-0831-40cf-9e6f-16d02138fac0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0') > 0)   DROP SERVICE [SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0]; if (OBJECT_ID('SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-78a537ad-0831-40cf-9e6f-16d02138fac0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-78a537ad-0831-40cf-9e6f-16d02138fac0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-790ee9d1-0551-419a-ba70-cb0325d63164]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-790ee9d1-0551-419a-ba70-cb0325d63164] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164') > 0)   DROP SERVICE [SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164]; if (OBJECT_ID('SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-790ee9d1-0551-419a-ba70-cb0325d63164]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-790ee9d1-0551-419a-ba70-cb0325d63164]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7b2029ca-9b88-408c-87d6-599a8100a6a2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7b2029ca-9b88-408c-87d6-599a8100a6a2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2') > 0)   DROP SERVICE [SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2]; if (OBJECT_ID('SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7b2029ca-9b88-408c-87d6-599a8100a6a2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7b2029ca-9b88-408c-87d6-599a8100a6a2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7b9d197d-a1e7-4176-80fd-25ee912f5437]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7b9d197d-a1e7-4176-80fd-25ee912f5437] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437') > 0)   DROP SERVICE [SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437]; if (OBJECT_ID('SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7b9d197d-a1e7-4176-80fd-25ee912f5437]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7b9d197d-a1e7-4176-80fd-25ee912f5437]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-7c5bb439-0bae-49a5-ad92-77d8b8de83f3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-7c5bb439-0bae-49a5-ad92-77d8b8de83f3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3') > 0)   DROP SERVICE [SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3]; if (OBJECT_ID('SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-7c5bb439-0bae-49a5-ad92-77d8b8de83f3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-7c5bb439-0bae-49a5-ad92-77d8b8de83f3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-81975374-4705-4404-9fcf-e0505ac0a405]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-81975374-4705-4404-9fcf-e0505ac0a405] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405') > 0)   DROP SERVICE [SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405]; if (OBJECT_ID('SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-81975374-4705-4404-9fcf-e0505ac0a405]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-81975374-4705-4404-9fcf-e0505ac0a405]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-83480593-a89a-4db1-be00-8826de611c3b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-83480593-a89a-4db1-be00-8826de611c3b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b') > 0)   DROP SERVICE [SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b]; if (OBJECT_ID('SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-83480593-a89a-4db1-be00-8826de611c3b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-83480593-a89a-4db1-be00-8826de611c3b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-844c983a-2ed6-4064-9665-ee6f76a3f696]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-844c983a-2ed6-4064-9665-ee6f76a3f696] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696') > 0)   DROP SERVICE [SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696]; if (OBJECT_ID('SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-844c983a-2ed6-4064-9665-ee6f76a3f696]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-844c983a-2ed6-4064-9665-ee6f76a3f696]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-847039b1-edc9-4a3d-a20f-f4b8ecf40735]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-847039b1-edc9-4a3d-a20f-f4b8ecf40735] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735') > 0)   DROP SERVICE [SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735]; if (OBJECT_ID('SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-847039b1-edc9-4a3d-a20f-f4b8ecf40735]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-847039b1-edc9-4a3d-a20f-f4b8ecf40735]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-85278847-5ab5-4591-8f3e-21d6ae9f4cbd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-85278847-5ab5-4591-8f3e-21d6ae9f4cbd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd') > 0)   DROP SERVICE [SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd]; if (OBJECT_ID('SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-85278847-5ab5-4591-8f3e-21d6ae9f4cbd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-85278847-5ab5-4591-8f3e-21d6ae9f4cbd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-856f2ac0-a8de-48c0-bbf9-6698278f6100]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-856f2ac0-a8de-48c0-bbf9-6698278f6100] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100') > 0)   DROP SERVICE [SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100]; if (OBJECT_ID('SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-856f2ac0-a8de-48c0-bbf9-6698278f6100]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-856f2ac0-a8de-48c0-bbf9-6698278f6100]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-871e1a16-acb1-48ae-a968-f484dc184339]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-871e1a16-acb1-48ae-a968-f484dc184339] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339') > 0)   DROP SERVICE [SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339]; if (OBJECT_ID('SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-871e1a16-acb1-48ae-a968-f484dc184339]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-871e1a16-acb1-48ae-a968-f484dc184339]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8b8191fe-6e46-4fed-8292-60c4428fd6bd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8b8191fe-6e46-4fed-8292-60c4428fd6bd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd') > 0)   DROP SERVICE [SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd]; if (OBJECT_ID('SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8b8191fe-6e46-4fed-8292-60c4428fd6bd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8b8191fe-6e46-4fed-8292-60c4428fd6bd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8bf33770-0b5b-4538-ac4c-6485a6abd52d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8bf33770-0b5b-4538-ac4c-6485a6abd52d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d') > 0)   DROP SERVICE [SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d]; if (OBJECT_ID('SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8bf33770-0b5b-4538-ac4c-6485a6abd52d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8bf33770-0b5b-4538-ac4c-6485a6abd52d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8c474226-dabf-4259-9922-0d5d41577736]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8c474226-dabf-4259-9922-0d5d41577736] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736') > 0)   DROP SERVICE [SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736]; if (OBJECT_ID('SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8c474226-dabf-4259-9922-0d5d41577736]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8c474226-dabf-4259-9922-0d5d41577736]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8c901354-3ce9-447f-b609-f4d229bf4c1f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8c901354-3ce9-447f-b609-f4d229bf4c1f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f') > 0)   DROP SERVICE [SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f]; if (OBJECT_ID('SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8c901354-3ce9-447f-b609-f4d229bf4c1f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8c901354-3ce9-447f-b609-f4d229bf4c1f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8c95538f-ce37-4c11-bde2-7b1e08239366]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8c95538f-ce37-4c11-bde2-7b1e08239366] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366') > 0)   DROP SERVICE [SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366]; if (OBJECT_ID('SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8c95538f-ce37-4c11-bde2-7b1e08239366]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8c95538f-ce37-4c11-bde2-7b1e08239366]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7') > 0)   DROP SERVICE [SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7]; if (OBJECT_ID('SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8df15b17-7ef8-434a-84c0-bff5bc1e0fe7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8ed2b371-d6ae-4902-876b-89673a6cfeac]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8ed2b371-d6ae-4902-876b-89673a6cfeac] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac') > 0)   DROP SERVICE [SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac]; if (OBJECT_ID('SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8ed2b371-d6ae-4902-876b-89673a6cfeac]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8ed2b371-d6ae-4902-876b-89673a6cfeac]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-8f304b17-c234-48f5-9714-6fcbba815e04]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-8f304b17-c234-48f5-9714-6fcbba815e04] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04') > 0)   DROP SERVICE [SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04]; if (OBJECT_ID('SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-8f304b17-c234-48f5-9714-6fcbba815e04]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-8f304b17-c234-48f5-9714-6fcbba815e04]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-90112eb0-5bdf-4de6-97ae-ed82ec40cc24]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-90112eb0-5bdf-4de6-97ae-ed82ec40cc24] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24') > 0)   DROP SERVICE [SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24]; if (OBJECT_ID('SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-90112eb0-5bdf-4de6-97ae-ed82ec40cc24]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-90112eb0-5bdf-4de6-97ae-ed82ec40cc24]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-90835dda-1ade-42c5-ac72-00b2b0031d90]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-90835dda-1ade-42c5-ac72-00b2b0031d90] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90') > 0)   DROP SERVICE [SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90]; if (OBJECT_ID('SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-90835dda-1ade-42c5-ac72-00b2b0031d90]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-90835dda-1ade-42c5-ac72-00b2b0031d90]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-90bb0075-ee47-4afc-a38b-c820b33b2a2e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-90bb0075-ee47-4afc-a38b-c820b33b2a2e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e') > 0)   DROP SERVICE [SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e]; if (OBJECT_ID('SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-90bb0075-ee47-4afc-a38b-c820b33b2a2e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-90bb0075-ee47-4afc-a38b-c820b33b2a2e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9192d5ed-6f09-42ed-889a-c26720ca40dd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9192d5ed-6f09-42ed-889a-c26720ca40dd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd') > 0)   DROP SERVICE [SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd]; if (OBJECT_ID('SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9192d5ed-6f09-42ed-889a-c26720ca40dd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9192d5ed-6f09-42ed-889a-c26720ca40dd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-91bc38d0-47d0-4674-88e2-eaca52f82f70]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-91bc38d0-47d0-4674-88e2-eaca52f82f70] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70') > 0)   DROP SERVICE [SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70]; if (OBJECT_ID('SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-91bc38d0-47d0-4674-88e2-eaca52f82f70]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-91bc38d0-47d0-4674-88e2-eaca52f82f70]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-91f42177-b312-4081-812e-9e37dc6fd9d7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-91f42177-b312-4081-812e-9e37dc6fd9d7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7') > 0)   DROP SERVICE [SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7]; if (OBJECT_ID('SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-91f42177-b312-4081-812e-9e37dc6fd9d7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-91f42177-b312-4081-812e-9e37dc6fd9d7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-961f3784-dab9-46a9-8f15-35751c2c09a6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-961f3784-dab9-46a9-8f15-35751c2c09a6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6') > 0)   DROP SERVICE [SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6]; if (OBJECT_ID('SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-961f3784-dab9-46a9-8f15-35751c2c09a6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-961f3784-dab9-46a9-8f15-35751c2c09a6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9691c1d5-3261-4fc2-99a7-b515138eecdd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9691c1d5-3261-4fc2-99a7-b515138eecdd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd') > 0)   DROP SERVICE [SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd]; if (OBJECT_ID('SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9691c1d5-3261-4fc2-99a7-b515138eecdd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9691c1d5-3261-4fc2-99a7-b515138eecdd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-96ca36ff-6a28-4496-90d1-226edc4dee57]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-96ca36ff-6a28-4496-90d1-226edc4dee57] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57') > 0)   DROP SERVICE [SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57]; if (OBJECT_ID('SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-96ca36ff-6a28-4496-90d1-226edc4dee57]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-96ca36ff-6a28-4496-90d1-226edc4dee57]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-98eee11b-3d1f-4891-a780-b252e3002572]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-98eee11b-3d1f-4891-a780-b252e3002572] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572') > 0)   DROP SERVICE [SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572]; if (OBJECT_ID('SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-98eee11b-3d1f-4891-a780-b252e3002572]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-98eee11b-3d1f-4891-a780-b252e3002572]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-99c4a11b-2cbf-4c05-8891-129f4620d10c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-99c4a11b-2cbf-4c05-8891-129f4620d10c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c') > 0)   DROP SERVICE [SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c]; if (OBJECT_ID('SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-99c4a11b-2cbf-4c05-8891-129f4620d10c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-99c4a11b-2cbf-4c05-8891-129f4620d10c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-99c9ff29-39df-41ac-8bec-60bfff483407]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-99c9ff29-39df-41ac-8bec-60bfff483407] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407') > 0)   DROP SERVICE [SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407]; if (OBJECT_ID('SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-99c9ff29-39df-41ac-8bec-60bfff483407]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-99c9ff29-39df-41ac-8bec-60bfff483407]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-99d6065f-0813-446d-b51b-414cb084373f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-99d6065f-0813-446d-b51b-414cb084373f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f') > 0)   DROP SERVICE [SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f]; if (OBJECT_ID('SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-99d6065f-0813-446d-b51b-414cb084373f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-99d6065f-0813-446d-b51b-414cb084373f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9a05be32-9790-402d-97e9-8406f72b40e0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9a05be32-9790-402d-97e9-8406f72b40e0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0') > 0)   DROP SERVICE [SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0]; if (OBJECT_ID('SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9a05be32-9790-402d-97e9-8406f72b40e0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9a05be32-9790-402d-97e9-8406f72b40e0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6') > 0)   DROP SERVICE [SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6]; if (OBJECT_ID('SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9ab2dd8d-7167-472f-9bf3-0baf9f0a06b6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9b28b26d-ee3a-4073-8957-93eb9741a3eb]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9b28b26d-ee3a-4073-8957-93eb9741a3eb] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb') > 0)   DROP SERVICE [SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb]; if (OBJECT_ID('SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9b28b26d-ee3a-4073-8957-93eb9741a3eb]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9b28b26d-ee3a-4073-8957-93eb9741a3eb]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9c3b0642-3a8a-43de-bf29-018b359d2c3e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9c3b0642-3a8a-43de-bf29-018b359d2c3e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e') > 0)   DROP SERVICE [SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e]; if (OBJECT_ID('SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9c3b0642-3a8a-43de-bf29-018b359d2c3e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9c3b0642-3a8a-43de-bf29-018b359d2c3e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9ca74462-56c3-4dd5-bbd3-a65f97607108]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9ca74462-56c3-4dd5-bbd3-a65f97607108] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108') > 0)   DROP SERVICE [SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108]; if (OBJECT_ID('SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9ca74462-56c3-4dd5-bbd3-a65f97607108]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9ca74462-56c3-4dd5-bbd3-a65f97607108]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9d49ec82-4f22-451e-8337-e191f2ddd34e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9d49ec82-4f22-451e-8337-e191f2ddd34e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e') > 0)   DROP SERVICE [SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e]; if (OBJECT_ID('SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9d49ec82-4f22-451e-8337-e191f2ddd34e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9d49ec82-4f22-451e-8337-e191f2ddd34e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9d74fbbc-a70d-4ba6-a56c-883e31095b74]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9d74fbbc-a70d-4ba6-a56c-883e31095b74] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74') > 0)   DROP SERVICE [SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74]; if (OBJECT_ID('SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9d74fbbc-a70d-4ba6-a56c-883e31095b74]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9d74fbbc-a70d-4ba6-a56c-883e31095b74]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9e8f5c01-49f5-4b58-9544-ac565bb4565c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9e8f5c01-49f5-4b58-9544-ac565bb4565c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c') > 0)   DROP SERVICE [SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c]; if (OBJECT_ID('SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9e8f5c01-49f5-4b58-9544-ac565bb4565c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9e8f5c01-49f5-4b58-9544-ac565bb4565c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9eb91ec0-04d7-4209-abe4-db2df4c71204]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9eb91ec0-04d7-4209-abe4-db2df4c71204] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204') > 0)   DROP SERVICE [SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204]; if (OBJECT_ID('SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9eb91ec0-04d7-4209-abe4-db2df4c71204]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9eb91ec0-04d7-4209-abe4-db2df4c71204]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-9eba9d17-f530-4a66-81d6-fd09aac3be65]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-9eba9d17-f530-4a66-81d6-fd09aac3be65] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65') > 0)   DROP SERVICE [SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65]; if (OBJECT_ID('SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-9eba9d17-f530-4a66-81d6-fd09aac3be65]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-9eba9d17-f530-4a66-81d6-fd09aac3be65]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a0799ac1-6fbb-4032-8a52-319a3cac2e9d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a0799ac1-6fbb-4032-8a52-319a3cac2e9d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d') > 0)   DROP SERVICE [SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d]; if (OBJECT_ID('SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a0799ac1-6fbb-4032-8a52-319a3cac2e9d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a0799ac1-6fbb-4032-8a52-319a3cac2e9d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a10f0584-02f8-46ca-a9b8-f8deafeeedf0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a10f0584-02f8-46ca-a9b8-f8deafeeedf0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0') > 0)   DROP SERVICE [SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0]; if (OBJECT_ID('SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a10f0584-02f8-46ca-a9b8-f8deafeeedf0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a10f0584-02f8-46ca-a9b8-f8deafeeedf0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a14c4676-3519-448b-be67-0b0d34854ef3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a14c4676-3519-448b-be67-0b0d34854ef3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3') > 0)   DROP SERVICE [SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3]; if (OBJECT_ID('SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a14c4676-3519-448b-be67-0b0d34854ef3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a14c4676-3519-448b-be67-0b0d34854ef3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a2930446-d3dc-44ed-9478-e21ffa20928c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a2930446-d3dc-44ed-9478-e21ffa20928c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c') > 0)   DROP SERVICE [SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c]; if (OBJECT_ID('SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a2930446-d3dc-44ed-9478-e21ffa20928c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a2930446-d3dc-44ed-9478-e21ffa20928c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a3c73493-0a5f-435f-864c-5d2196de1c22]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a3c73493-0a5f-435f-864c-5d2196de1c22] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22') > 0)   DROP SERVICE [SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22]; if (OBJECT_ID('SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a3c73493-0a5f-435f-864c-5d2196de1c22]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a3c73493-0a5f-435f-864c-5d2196de1c22]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a41ae472-48b5-4d22-a46d-32590af16186]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a41ae472-48b5-4d22-a46d-32590af16186] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186') > 0)   DROP SERVICE [SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186]; if (OBJECT_ID('SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a41ae472-48b5-4d22-a46d-32590af16186]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a41ae472-48b5-4d22-a46d-32590af16186]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a4491c64-e0c5-4119-ab5e-da509b1c4957]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a4491c64-e0c5-4119-ab5e-da509b1c4957] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957') > 0)   DROP SERVICE [SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957]; if (OBJECT_ID('SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a4491c64-e0c5-4119-ab5e-da509b1c4957]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a4491c64-e0c5-4119-ab5e-da509b1c4957]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a52d025e-cded-4d0d-bbf0-3d471a04a9dd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a52d025e-cded-4d0d-bbf0-3d471a04a9dd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd') > 0)   DROP SERVICE [SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd]; if (OBJECT_ID('SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a52d025e-cded-4d0d-bbf0-3d471a04a9dd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a52d025e-cded-4d0d-bbf0-3d471a04a9dd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a5e2fb67-31ac-403a-914d-fcd6be62a121]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a5e2fb67-31ac-403a-914d-fcd6be62a121] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121') > 0)   DROP SERVICE [SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121]; if (OBJECT_ID('SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a5e2fb67-31ac-403a-914d-fcd6be62a121]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a5e2fb67-31ac-403a-914d-fcd6be62a121]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16') > 0)   DROP SERVICE [SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16]; if (OBJECT_ID('SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a5ffbcd3-5a54-4a27-bb34-7ee0fc705a16]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a6e1f679-e6d3-4fe4-8060-22c357935475]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a6e1f679-e6d3-4fe4-8060-22c357935475] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475') > 0)   DROP SERVICE [SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475]; if (OBJECT_ID('SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a6e1f679-e6d3-4fe4-8060-22c357935475]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a6e1f679-e6d3-4fe4-8060-22c357935475]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a84bf650-9fd8-416e-81df-b456eb7a5ae1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a84bf650-9fd8-416e-81df-b456eb7a5ae1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1') > 0)   DROP SERVICE [SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1]; if (OBJECT_ID('SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a84bf650-9fd8-416e-81df-b456eb7a5ae1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a84bf650-9fd8-416e-81df-b456eb7a5ae1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a8ba60f4-244b-4232-a00a-3487c9ca0048]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a8ba60f4-244b-4232-a00a-3487c9ca0048] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048') > 0)   DROP SERVICE [SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048]; if (OBJECT_ID('SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a8ba60f4-244b-4232-a00a-3487c9ca0048]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a8ba60f4-244b-4232-a00a-3487c9ca0048]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a92c983e-48f5-442e-ba06-a3c6fdd473e1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a92c983e-48f5-442e-ba06-a3c6fdd473e1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1') > 0)   DROP SERVICE [SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1]; if (OBJECT_ID('SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a92c983e-48f5-442e-ba06-a3c6fdd473e1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a92c983e-48f5-442e-ba06-a3c6fdd473e1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0') > 0)   DROP SERVICE [SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0]; if (OBJECT_ID('SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a9307c7b-2608-43b6-b5c8-c7f1fc2d11b0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-a98b002e-1d61-456d-b41b-ff6213271fb3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-a98b002e-1d61-456d-b41b-ff6213271fb3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3') > 0)   DROP SERVICE [SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3]; if (OBJECT_ID('SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-a98b002e-1d61-456d-b41b-ff6213271fb3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-a98b002e-1d61-456d-b41b-ff6213271fb3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-aaff58ea-b435-4634-baf5-ab8d179ee16f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-aaff58ea-b435-4634-baf5-ab8d179ee16f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f') > 0)   DROP SERVICE [SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f]; if (OBJECT_ID('SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-aaff58ea-b435-4634-baf5-ab8d179ee16f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-aaff58ea-b435-4634-baf5-ab8d179ee16f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ac8b1ee0-c64d-4c56-8b32-475348f29700]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ac8b1ee0-c64d-4c56-8b32-475348f29700] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700') > 0)   DROP SERVICE [SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700]; if (OBJECT_ID('SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ac8b1ee0-c64d-4c56-8b32-475348f29700]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ac8b1ee0-c64d-4c56-8b32-475348f29700]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ad5aa0bf-62e6-4326-87a5-8fef90c19a20]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ad5aa0bf-62e6-4326-87a5-8fef90c19a20] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20') > 0)   DROP SERVICE [SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20]; if (OBJECT_ID('SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ad5aa0bf-62e6-4326-87a5-8fef90c19a20]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ad5aa0bf-62e6-4326-87a5-8fef90c19a20]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc') > 0)   DROP SERVICE [SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc]; if (OBJECT_ID('SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ad86fad2-bf51-4c38-a27a-33ba21f3d7bc]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d') > 0)   DROP SERVICE [SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d]; if (OBJECT_ID('SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ad8e5104-d0fe-40c1-b720-4a1c25e1c43d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6') > 0)   DROP SERVICE [SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6]; if (OBJECT_ID('SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ae73b4b3-7f84-4b9e-8d68-0ec2fd759be6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-af1e2b40-76c0-4a9a-a225-e052532e62b6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-af1e2b40-76c0-4a9a-a225-e052532e62b6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6') > 0)   DROP SERVICE [SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6]; if (OBJECT_ID('SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-af1e2b40-76c0-4a9a-a225-e052532e62b6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-af1e2b40-76c0-4a9a-a225-e052532e62b6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b093a56c-56c1-4d02-b555-c0878f8398ea]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b093a56c-56c1-4d02-b555-c0878f8398ea] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea') > 0)   DROP SERVICE [SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea]; if (OBJECT_ID('SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b093a56c-56c1-4d02-b555-c0878f8398ea]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b093a56c-56c1-4d02-b555-c0878f8398ea]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0') > 0)   DROP SERVICE [SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0]; if (OBJECT_ID('SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b0da7eac-080d-4b86-9fb3-f01cdc0f71f0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b126f212-966b-457b-9dc7-5dd26465f5e0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b126f212-966b-457b-9dc7-5dd26465f5e0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0') > 0)   DROP SERVICE [SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0]; if (OBJECT_ID('SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b126f212-966b-457b-9dc7-5dd26465f5e0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b126f212-966b-457b-9dc7-5dd26465f5e0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b157618f-f61e-406b-9ae9-29bc7193dd7a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b157618f-f61e-406b-9ae9-29bc7193dd7a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a') > 0)   DROP SERVICE [SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a]; if (OBJECT_ID('SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b157618f-f61e-406b-9ae9-29bc7193dd7a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b157618f-f61e-406b-9ae9-29bc7193dd7a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b26ce4be-3fd1-459b-a475-1e65fe6384d6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b26ce4be-3fd1-459b-a475-1e65fe6384d6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6') > 0)   DROP SERVICE [SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6]; if (OBJECT_ID('SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b26ce4be-3fd1-459b-a475-1e65fe6384d6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b26ce4be-3fd1-459b-a475-1e65fe6384d6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b2a4b26b-5a38-4d17-9a55-60e82d4f153e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b2a4b26b-5a38-4d17-9a55-60e82d4f153e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e') > 0)   DROP SERVICE [SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e]; if (OBJECT_ID('SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b2a4b26b-5a38-4d17-9a55-60e82d4f153e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b2a4b26b-5a38-4d17-9a55-60e82d4f153e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b2f786dc-8839-48da-aa8b-6819591157d9]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b2f786dc-8839-48da-aa8b-6819591157d9] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9') > 0)   DROP SERVICE [SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9]; if (OBJECT_ID('SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b2f786dc-8839-48da-aa8b-6819591157d9]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b2f786dc-8839-48da-aa8b-6819591157d9]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b3a3aca5-1657-4399-b54b-d0b8d5545f2c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b3a3aca5-1657-4399-b54b-d0b8d5545f2c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c') > 0)   DROP SERVICE [SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c]; if (OBJECT_ID('SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b3a3aca5-1657-4399-b54b-d0b8d5545f2c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b3a3aca5-1657-4399-b54b-d0b8d5545f2c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b3ade746-0502-4e13-858f-f2900eccc3bc]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b3ade746-0502-4e13-858f-f2900eccc3bc] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc') > 0)   DROP SERVICE [SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc]; if (OBJECT_ID('SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b3ade746-0502-4e13-858f-f2900eccc3bc]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b3ade746-0502-4e13-858f-f2900eccc3bc]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd') > 0)   DROP SERVICE [SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd]; if (OBJECT_ID('SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b3cc1f5b-a203-4cec-bf3b-9bf002c457cd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b3d75320-3370-4335-b1b1-f31a26935ea1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b3d75320-3370-4335-b1b1-f31a26935ea1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1') > 0)   DROP SERVICE [SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1]; if (OBJECT_ID('SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b3d75320-3370-4335-b1b1-f31a26935ea1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b3d75320-3370-4335-b1b1-f31a26935ea1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b64644b4-3b07-40cd-bb7f-d6b01585cdc2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b64644b4-3b07-40cd-bb7f-d6b01585cdc2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2') > 0)   DROP SERVICE [SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2]; if (OBJECT_ID('SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b64644b4-3b07-40cd-bb7f-d6b01585cdc2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b64644b4-3b07-40cd-bb7f-d6b01585cdc2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a') > 0)   DROP SERVICE [SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a]; if (OBJECT_ID('SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b648bb66-81a3-4ad5-9f28-2a5b8ee07f3a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b7e6f93f-8042-4209-a605-514fbc988cc8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b7e6f93f-8042-4209-a605-514fbc988cc8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8') > 0)   DROP SERVICE [SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8]; if (OBJECT_ID('SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b7e6f93f-8042-4209-a605-514fbc988cc8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b7e6f93f-8042-4209-a605-514fbc988cc8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38') > 0)   DROP SERVICE [SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38]; if (OBJECT_ID('SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-b97478f0-7b73-4b0f-9e3a-4ca07aa72f38]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0') > 0)   DROP SERVICE [SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0]; if (OBJECT_ID('SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-bbfa16cc-ffe5-49b0-9198-e13773c6b2f0]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-bc07ac7a-3f79-4a18-b1be-2ae0135396f4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-bc07ac7a-3f79-4a18-b1be-2ae0135396f4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4') > 0)   DROP SERVICE [SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4]; if (OBJECT_ID('SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-bc07ac7a-3f79-4a18-b1be-2ae0135396f4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-bc07ac7a-3f79-4a18-b1be-2ae0135396f4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-bc34aaa2-d6b8-478a-8376-b41398fd569f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-bc34aaa2-d6b8-478a-8376-b41398fd569f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f') > 0)   DROP SERVICE [SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f]; if (OBJECT_ID('SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-bc34aaa2-d6b8-478a-8376-b41398fd569f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-bc34aaa2-d6b8-478a-8376-b41398fd569f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-bd96a8c1-6b86-4996-8f81-f20041a1c4c5]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-bd96a8c1-6b86-4996-8f81-f20041a1c4c5] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5') > 0)   DROP SERVICE [SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5]; if (OBJECT_ID('SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-bd96a8c1-6b86-4996-8f81-f20041a1c4c5]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-bd96a8c1-6b86-4996-8f81-f20041a1c4c5]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-bdf13dc7-1e78-453c-869e-bce563e912a8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-bdf13dc7-1e78-453c-869e-bce563e912a8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8') > 0)   DROP SERVICE [SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8]; if (OBJECT_ID('SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-bdf13dc7-1e78-453c-869e-bce563e912a8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-bdf13dc7-1e78-453c-869e-bce563e912a8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c247d74c-6803-45c7-ba8b-4610baaed79b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c247d74c-6803-45c7-ba8b-4610baaed79b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b') > 0)   DROP SERVICE [SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b]; if (OBJECT_ID('SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c247d74c-6803-45c7-ba8b-4610baaed79b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c247d74c-6803-45c7-ba8b-4610baaed79b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c2e9c9b5-e414-4c27-a51f-c230f749f98e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c2e9c9b5-e414-4c27-a51f-c230f749f98e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e') > 0)   DROP SERVICE [SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e]; if (OBJECT_ID('SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c2e9c9b5-e414-4c27-a51f-c230f749f98e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c2e9c9b5-e414-4c27-a51f-c230f749f98e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c333d0cc-27f2-4782-b340-f44b54d35f5c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c333d0cc-27f2-4782-b340-f44b54d35f5c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c') > 0)   DROP SERVICE [SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c]; if (OBJECT_ID('SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c333d0cc-27f2-4782-b340-f44b54d35f5c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c333d0cc-27f2-4782-b340-f44b54d35f5c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c6246c19-331f-4c67-8967-81a47cc6ae3f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c6246c19-331f-4c67-8967-81a47cc6ae3f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f') > 0)   DROP SERVICE [SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f]; if (OBJECT_ID('SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c6246c19-331f-4c67-8967-81a47cc6ae3f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c6246c19-331f-4c67-8967-81a47cc6ae3f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c642c0c5-f09a-41e4-92e7-67cfce201ec5]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c642c0c5-f09a-41e4-92e7-67cfce201ec5] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5') > 0)   DROP SERVICE [SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5]; if (OBJECT_ID('SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c642c0c5-f09a-41e4-92e7-67cfce201ec5]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c642c0c5-f09a-41e4-92e7-67cfce201ec5]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8') > 0)   DROP SERVICE [SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8]; if (OBJECT_ID('SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c648455d-bbe3-4dff-a7f3-d29e7cbfd6a8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c7302583-9f6e-4759-83c2-58f6bdb259ab]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c7302583-9f6e-4759-83c2-58f6bdb259ab] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab') > 0)   DROP SERVICE [SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab]; if (OBJECT_ID('SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c7302583-9f6e-4759-83c2-58f6bdb259ab]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c7302583-9f6e-4759-83c2-58f6bdb259ab]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4') > 0)   DROP SERVICE [SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4]; if (OBJECT_ID('SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c77c0edb-3dd4-4955-8b0c-6d43e68e8ad4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c8599741-c71a-43c1-a8d8-3b527b447160]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c8599741-c71a-43c1-a8d8-3b527b447160] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160') > 0)   DROP SERVICE [SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160]; if (OBJECT_ID('SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c8599741-c71a-43c1-a8d8-3b527b447160]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c8599741-c71a-43c1-a8d8-3b527b447160]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c8f6200c-87fe-4eda-ae19-06d21931f23d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c8f6200c-87fe-4eda-ae19-06d21931f23d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d') > 0)   DROP SERVICE [SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d]; if (OBJECT_ID('SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c8f6200c-87fe-4eda-ae19-06d21931f23d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c8f6200c-87fe-4eda-ae19-06d21931f23d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-c906dacc-feae-47d9-bff0-3347b0a2048b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-c906dacc-feae-47d9-bff0-3347b0a2048b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b') > 0)   DROP SERVICE [SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b]; if (OBJECT_ID('SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-c906dacc-feae-47d9-bff0-3347b0a2048b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-c906dacc-feae-47d9-bff0-3347b0a2048b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ca496958-f2cb-443f-83ff-01624cdab9be]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ca496958-f2cb-443f-83ff-01624cdab9be] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be') > 0)   DROP SERVICE [SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be]; if (OBJECT_ID('SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ca496958-f2cb-443f-83ff-01624cdab9be]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ca496958-f2cb-443f-83ff-01624cdab9be]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-caa55e17-8bbe-4eed-b334-9029c38d0fc8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-caa55e17-8bbe-4eed-b334-9029c38d0fc8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8') > 0)   DROP SERVICE [SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8]; if (OBJECT_ID('SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-caa55e17-8bbe-4eed-b334-9029c38d0fc8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-caa55e17-8bbe-4eed-b334-9029c38d0fc8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-cade3d67-218a-4650-a6e6-52a8e4beabba]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-cade3d67-218a-4650-a6e6-52a8e4beabba] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba') > 0)   DROP SERVICE [SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba]; if (OBJECT_ID('SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-cade3d67-218a-4650-a6e6-52a8e4beabba]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-cade3d67-218a-4650-a6e6-52a8e4beabba]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a') > 0)   DROP SERVICE [SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a]; if (OBJECT_ID('SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-cc79ad61-0094-4f1f-80d2-1a1d4577ff0a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-cd90cf3c-f435-422e-8cf0-fcca5ea5921c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-cd90cf3c-f435-422e-8cf0-fcca5ea5921c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c') > 0)   DROP SERVICE [SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c]; if (OBJECT_ID('SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-cd90cf3c-f435-422e-8cf0-fcca5ea5921c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-cd90cf3c-f435-422e-8cf0-fcca5ea5921c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-cdb52967-fa25-41f4-a3bb-b8849036fe6c]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-cdb52967-fa25-41f4-a3bb-b8849036fe6c] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c') > 0)   DROP SERVICE [SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c]; if (OBJECT_ID('SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-cdb52967-fa25-41f4-a3bb-b8849036fe6c]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-cdb52967-fa25-41f4-a3bb-b8849036fe6c]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ceb97917-a81c-423f-80e8-1cb984d8f262]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ceb97917-a81c-423f-80e8-1cb984d8f262] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262') > 0)   DROP SERVICE [SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262]; if (OBJECT_ID('SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ceb97917-a81c-423f-80e8-1cb984d8f262]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ceb97917-a81c-423f-80e8-1cb984d8f262]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-cf50e8bf-26e2-4983-b5a3-28db62f12a5e]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-cf50e8bf-26e2-4983-b5a3-28db62f12a5e] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e') > 0)   DROP SERVICE [SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e]; if (OBJECT_ID('SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-cf50e8bf-26e2-4983-b5a3-28db62f12a5e]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-cf50e8bf-26e2-4983-b5a3-28db62f12a5e]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc') > 0)   DROP SERVICE [SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc]; if (OBJECT_ID('SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d0c3bcf3-fd7f-4a95-9385-9bc24e7982cc]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d0cb3782-3161-432a-893d-6cdb2701cd09]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d0cb3782-3161-432a-893d-6cdb2701cd09] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09') > 0)   DROP SERVICE [SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09]; if (OBJECT_ID('SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d0cb3782-3161-432a-893d-6cdb2701cd09]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d0cb3782-3161-432a-893d-6cdb2701cd09]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d0daefd5-41e4-48bf-9815-057acc535264]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d0daefd5-41e4-48bf-9815-057acc535264] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264') > 0)   DROP SERVICE [SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264]; if (OBJECT_ID('SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d0daefd5-41e4-48bf-9815-057acc535264]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d0daefd5-41e4-48bf-9815-057acc535264]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d1836f2b-f70b-41b4-b214-13d25b6ba949]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d1836f2b-f70b-41b4-b214-13d25b6ba949] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949') > 0)   DROP SERVICE [SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949]; if (OBJECT_ID('SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d1836f2b-f70b-41b4-b214-13d25b6ba949]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d1836f2b-f70b-41b4-b214-13d25b6ba949]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d1e29ea9-0744-4235-a453-38785889041d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d1e29ea9-0744-4235-a453-38785889041d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d') > 0)   DROP SERVICE [SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d]; if (OBJECT_ID('SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d1e29ea9-0744-4235-a453-38785889041d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d1e29ea9-0744-4235-a453-38785889041d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d47ce480-ba07-4035-a197-adf4c47d72ad]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d47ce480-ba07-4035-a197-adf4c47d72ad] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad') > 0)   DROP SERVICE [SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad]; if (OBJECT_ID('SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d47ce480-ba07-4035-a197-adf4c47d72ad]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d47ce480-ba07-4035-a197-adf4c47d72ad]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d4972395-f932-4803-9a36-ce00f9cc5d7a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d4972395-f932-4803-9a36-ce00f9cc5d7a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a') > 0)   DROP SERVICE [SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a]; if (OBJECT_ID('SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d4972395-f932-4803-9a36-ce00f9cc5d7a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d4972395-f932-4803-9a36-ce00f9cc5d7a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d7af32a3-cf4f-4175-91a7-7fda069b5ce7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d7af32a3-cf4f-4175-91a7-7fda069b5ce7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7') > 0)   DROP SERVICE [SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7]; if (OBJECT_ID('SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d7af32a3-cf4f-4175-91a7-7fda069b5ce7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d7af32a3-cf4f-4175-91a7-7fda069b5ce7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d8022685-5b32-4adf-bdb2-19fd14e352f6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d8022685-5b32-4adf-bdb2-19fd14e352f6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6') > 0)   DROP SERVICE [SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6]; if (OBJECT_ID('SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d8022685-5b32-4adf-bdb2-19fd14e352f6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d8022685-5b32-4adf-bdb2-19fd14e352f6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d837c9c7-557a-4b07-a5cd-2c944ca42d29]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d837c9c7-557a-4b07-a5cd-2c944ca42d29] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29') > 0)   DROP SERVICE [SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29]; if (OBJECT_ID('SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d837c9c7-557a-4b07-a5cd-2c944ca42d29]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d837c9c7-557a-4b07-a5cd-2c944ca42d29]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-d9ec94e5-422d-4a56-b6df-ce6efca40ad8]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-d9ec94e5-422d-4a56-b6df-ce6efca40ad8] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8') > 0)   DROP SERVICE [SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8]; if (OBJECT_ID('SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-d9ec94e5-422d-4a56-b6df-ce6efca40ad8]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-d9ec94e5-422d-4a56-b6df-ce6efca40ad8]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-da44cfc2-e190-44f0-a2cd-1bd71210f882]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-da44cfc2-e190-44f0-a2cd-1bd71210f882] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882') > 0)   DROP SERVICE [SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882]; if (OBJECT_ID('SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-da44cfc2-e190-44f0-a2cd-1bd71210f882]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-da44cfc2-e190-44f0-a2cd-1bd71210f882]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-dab5d169-4437-4b60-8e79-454f5824be4b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-dab5d169-4437-4b60-8e79-454f5824be4b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b') > 0)   DROP SERVICE [SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b]; if (OBJECT_ID('SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-dab5d169-4437-4b60-8e79-454f5824be4b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-dab5d169-4437-4b60-8e79-454f5824be4b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-db2d5e5f-9198-47f9-98b0-7b7e29b9a429]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-db2d5e5f-9198-47f9-98b0-7b7e29b9a429] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429') > 0)   DROP SERVICE [SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429]; if (OBJECT_ID('SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-db2d5e5f-9198-47f9-98b0-7b7e29b9a429]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-db2d5e5f-9198-47f9-98b0-7b7e29b9a429]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-db386ca5-266a-4ece-acde-56139fef8bff]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-db386ca5-266a-4ece-acde-56139fef8bff] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff') > 0)   DROP SERVICE [SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff]; if (OBJECT_ID('SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-db386ca5-266a-4ece-acde-56139fef8bff]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-db386ca5-266a-4ece-acde-56139fef8bff]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-dbcb7e45-9c7a-4d74-8135-4937277e54ba]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-dbcb7e45-9c7a-4d74-8135-4937277e54ba] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba') > 0)   DROP SERVICE [SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba]; if (OBJECT_ID('SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-dbcb7e45-9c7a-4d74-8135-4937277e54ba]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-dbcb7e45-9c7a-4d74-8135-4937277e54ba]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-dd1a5276-8d5c-4397-a141-d082ca779846]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-dd1a5276-8d5c-4397-a141-d082ca779846] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846') > 0)   DROP SERVICE [SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846]; if (OBJECT_ID('SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-dd1a5276-8d5c-4397-a141-d082ca779846]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-dd1a5276-8d5c-4397-a141-d082ca779846]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-dd4b3537-cf7f-443a-bf4d-37659f1838af]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-dd4b3537-cf7f-443a-bf4d-37659f1838af] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af') > 0)   DROP SERVICE [SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af]; if (OBJECT_ID('SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-dd4b3537-cf7f-443a-bf4d-37659f1838af]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-dd4b3537-cf7f-443a-bf4d-37659f1838af]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-de0ffe8c-a445-4a59-b252-1fc4c33481f2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-de0ffe8c-a445-4a59-b252-1fc4c33481f2] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2') > 0)   DROP SERVICE [SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2]; if (OBJECT_ID('SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-de0ffe8c-a445-4a59-b252-1fc4c33481f2]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-de0ffe8c-a445-4a59-b252-1fc4c33481f2]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ded1e30d-459b-4eb0-80b4-7811bb87b7f4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ded1e30d-459b-4eb0-80b4-7811bb87b7f4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4') > 0)   DROP SERVICE [SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4]; if (OBJECT_ID('SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ded1e30d-459b-4eb0-80b4-7811bb87b7f4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ded1e30d-459b-4eb0-80b4-7811bb87b7f4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-dfe3bf90-6221-4ecf-9af1-0cb516074d80]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-dfe3bf90-6221-4ecf-9af1-0cb516074d80] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80') > 0)   DROP SERVICE [SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80]; if (OBJECT_ID('SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-dfe3bf90-6221-4ecf-9af1-0cb516074d80]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-dfe3bf90-6221-4ecf-9af1-0cb516074d80]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e008cea9-967b-44b1-8e41-9792e1b8df8a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e008cea9-967b-44b1-8e41-9792e1b8df8a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a') > 0)   DROP SERVICE [SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a]; if (OBJECT_ID('SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e008cea9-967b-44b1-8e41-9792e1b8df8a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e008cea9-967b-44b1-8e41-9792e1b8df8a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e08706a2-74a4-416c-8cf3-64751a0bdc22]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e08706a2-74a4-416c-8cf3-64751a0bdc22] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22') > 0)   DROP SERVICE [SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22]; if (OBJECT_ID('SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e08706a2-74a4-416c-8cf3-64751a0bdc22]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e08706a2-74a4-416c-8cf3-64751a0bdc22]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e2aa418b-634d-440a-b0c5-decc548d6ed7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e2aa418b-634d-440a-b0c5-decc548d6ed7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7') > 0)   DROP SERVICE [SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7]; if (OBJECT_ID('SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e2aa418b-634d-440a-b0c5-decc548d6ed7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e2aa418b-634d-440a-b0c5-decc548d6ed7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e2b46252-a7e4-4d10-8bad-fed5267b9b0a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e2b46252-a7e4-4d10-8bad-fed5267b9b0a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a') > 0)   DROP SERVICE [SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a]; if (OBJECT_ID('SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e2b46252-a7e4-4d10-8bad-fed5267b9b0a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e2b46252-a7e4-4d10-8bad-fed5267b9b0a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e4203af9-c928-45b8-9531-4d36893b9bae]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e4203af9-c928-45b8-9531-4d36893b9bae] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae') > 0)   DROP SERVICE [SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae]; if (OBJECT_ID('SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e4203af9-c928-45b8-9531-4d36893b9bae]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e4203af9-c928-45b8-9531-4d36893b9bae]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e69accb0-6581-4f28-a901-d04163bbe606]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e69accb0-6581-4f28-a901-d04163bbe606] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606') > 0)   DROP SERVICE [SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606]; if (OBJECT_ID('SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e69accb0-6581-4f28-a901-d04163bbe606]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e69accb0-6581-4f28-a901-d04163bbe606]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e74b04d5-b704-4597-89e1-af2b01af54ce]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e74b04d5-b704-4597-89e1-af2b01af54ce] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce') > 0)   DROP SERVICE [SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce]; if (OBJECT_ID('SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e74b04d5-b704-4597-89e1-af2b01af54ce]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e74b04d5-b704-4597-89e1-af2b01af54ce]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e8e80f67-6ced-464e-9212-23aaefd180c4]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e8e80f67-6ced-464e-9212-23aaefd180c4] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4') > 0)   DROP SERVICE [SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4]; if (OBJECT_ID('SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e8e80f67-6ced-464e-9212-23aaefd180c4]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e8e80f67-6ced-464e-9212-23aaefd180c4]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-e9ac7a5b-b84c-4fd1-ba12-98e95902906f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-e9ac7a5b-b84c-4fd1-ba12-98e95902906f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f') > 0)   DROP SERVICE [SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f]; if (OBJECT_ID('SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-e9ac7a5b-b84c-4fd1-ba12-98e95902906f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-e9ac7a5b-b84c-4fd1-ba12-98e95902906f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-eaa51025-9deb-43d2-985f-cf15f9ef0cef]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-eaa51025-9deb-43d2-985f-cf15f9ef0cef] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef') > 0)   DROP SERVICE [SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef]; if (OBJECT_ID('SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-eaa51025-9deb-43d2-985f-cf15f9ef0cef]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-eaa51025-9deb-43d2-985f-cf15f9ef0cef]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69') > 0)   DROP SERVICE [SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69]; if (OBJECT_ID('SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-eaa776eb-dff7-4a93-ae0e-20c3b89e8a69]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-eac4a806-3985-4a10-a1f7-eab7e1c051d6]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-eac4a806-3985-4a10-a1f7-eab7e1c051d6] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6') > 0)   DROP SERVICE [SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6]; if (OBJECT_ID('SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-eac4a806-3985-4a10-a1f7-eab7e1c051d6]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-eac4a806-3985-4a10-a1f7-eab7e1c051d6]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-eb5f748f-f922-4bc3-b88e-d43510b5ed33]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-eb5f748f-f922-4bc3-b88e-d43510b5ed33] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33') > 0)   DROP SERVICE [SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33]; if (OBJECT_ID('SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-eb5f748f-f922-4bc3-b88e-d43510b5ed33]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-eb5f748f-f922-4bc3-b88e-d43510b5ed33]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f') > 0)   DROP SERVICE [SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f]; if (OBJECT_ID('SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ec8cc61e-51ae-4622-b37c-1ff5379c9f9f]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ee010162-5c0d-465c-9769-73fc0941614d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ee010162-5c0d-465c-9769-73fc0941614d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d') > 0)   DROP SERVICE [SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d]; if (OBJECT_ID('SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ee010162-5c0d-465c-9769-73fc0941614d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ee010162-5c0d-465c-9769-73fc0941614d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ee4305d4-71cf-4f06-b6e2-02139abf9599]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ee4305d4-71cf-4f06-b6e2-02139abf9599] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599') > 0)   DROP SERVICE [SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599]; if (OBJECT_ID('SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ee4305d4-71cf-4f06-b6e2-02139abf9599]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ee4305d4-71cf-4f06-b6e2-02139abf9599]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ef25ff13-e8c1-495e-b1b3-23f3745635cc]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ef25ff13-e8c1-495e-b1b3-23f3745635cc] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc') > 0)   DROP SERVICE [SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc]; if (OBJECT_ID('SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ef25ff13-e8c1-495e-b1b3-23f3745635cc]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ef25ff13-e8c1-495e-b1b3-23f3745635cc]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7') > 0)   DROP SERVICE [SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7]; if (OBJECT_ID('SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ef4c85f7-7ec8-4fdb-a35c-d88aabf31dd7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ef63c7ce-d0e8-4006-82fc-ba543f045695]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ef63c7ce-d0e8-4006-82fc-ba543f045695] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695') > 0)   DROP SERVICE [SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695]; if (OBJECT_ID('SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ef63c7ce-d0e8-4006-82fc-ba543f045695]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ef63c7ce-d0e8-4006-82fc-ba543f045695]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ef86bddd-91d6-4325-ad5f-c97c68f8807d]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ef86bddd-91d6-4325-ad5f-c97c68f8807d] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d') > 0)   DROP SERVICE [SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d]; if (OBJECT_ID('SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ef86bddd-91d6-4325-ad5f-c97c68f8807d]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ef86bddd-91d6-4325-ad5f-c97c68f8807d]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f0bf375c-cdd3-4089-a244-cfcc0a3a2882]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f0bf375c-cdd3-4089-a244-cfcc0a3a2882] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882') > 0)   DROP SERVICE [SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882]; if (OBJECT_ID('SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f0bf375c-cdd3-4089-a244-cfcc0a3a2882]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f0bf375c-cdd3-4089-a244-cfcc0a3a2882]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f0dea022-8ec7-4b2c-afc2-c5452b08a87b]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f0dea022-8ec7-4b2c-afc2-c5452b08a87b] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b') > 0)   DROP SERVICE [SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b]; if (OBJECT_ID('SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f0dea022-8ec7-4b2c-afc2-c5452b08a87b]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f0dea022-8ec7-4b2c-afc2-c5452b08a87b]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7') > 0)   DROP SERVICE [SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7]; if (OBJECT_ID('SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f2cc4a40-d8af-4b42-8387-8d34ec25f5b7]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f534d7fb-201f-4a44-b4db-5eb311985bd3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f534d7fb-201f-4a44-b4db-5eb311985bd3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3') > 0)   DROP SERVICE [SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3]; if (OBJECT_ID('SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f534d7fb-201f-4a44-b4db-5eb311985bd3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f534d7fb-201f-4a44-b4db-5eb311985bd3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1') > 0)   DROP SERVICE [SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1]; if (OBJECT_ID('SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f72bc7ba-f3aa-4b17-801f-38a2df4a43f1]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f7bf893d-d5d5-40b5-929e-3b38d90224d3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f7bf893d-d5d5-40b5-929e-3b38d90224d3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3') > 0)   DROP SERVICE [SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3]; if (OBJECT_ID('SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f7bf893d-d5d5-40b5-929e-3b38d90224d3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f7bf893d-d5d5-40b5-929e-3b38d90224d3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f7c5b88f-508c-4666-bc27-4ed115fb8aad]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f7c5b88f-508c-4666-bc27-4ed115fb8aad] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad') > 0)   DROP SERVICE [SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad]; if (OBJECT_ID('SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f7c5b88f-508c-4666-bc27-4ed115fb8aad]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f7c5b88f-508c-4666-bc27-4ed115fb8aad]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f811344f-d726-497e-9ac4-6024e6f22e70]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f811344f-d726-497e-9ac4-6024e6f22e70] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70') > 0)   DROP SERVICE [SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70]; if (OBJECT_ID('SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f811344f-d726-497e-9ac4-6024e6f22e70]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f811344f-d726-497e-9ac4-6024e6f22e70]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-f91bac53-5a9b-4d69-9c14-1ef795e100ee]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-f91bac53-5a9b-4d69-9c14-1ef795e100ee] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee') > 0)   DROP SERVICE [SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee]; if (OBJECT_ID('SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-f91bac53-5a9b-4d69-9c14-1ef795e100ee]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-f91bac53-5a9b-4d69-9c14-1ef795e100ee]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-faab7ba8-ab72-4f97-8174-3a59754e133a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-faab7ba8-ab72-4f97-8174-3a59754e133a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a') > 0)   DROP SERVICE [SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a]; if (OBJECT_ID('SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-faab7ba8-ab72-4f97-8174-3a59754e133a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-faab7ba8-ab72-4f97-8174-3a59754e133a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-faaf5de0-e20e-4b71-be3c-45e856c7362a]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-faaf5de0-e20e-4b71-be3c-45e856c7362a] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a') > 0)   DROP SERVICE [SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a]; if (OBJECT_ID('SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-faaf5de0-e20e-4b71-be3c-45e856c7362a]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-faaf5de0-e20e-4b71-be3c-45e856c7362a]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fb71853f-8bb5-4bf8-a347-69e73a7a6901]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fb71853f-8bb5-4bf8-a347-69e73a7a6901] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901') > 0)   DROP SERVICE [SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901]; if (OBJECT_ID('SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fb71853f-8bb5-4bf8-a347-69e73a7a6901]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fb71853f-8bb5-4bf8-a347-69e73a7a6901]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fc8040e0-cf4d-440a-a800-476667c74b06]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fc8040e0-cf4d-440a-a800-476667c74b06] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06') > 0)   DROP SERVICE [SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06]; if (OBJECT_ID('SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fc8040e0-cf4d-440a-a800-476667c74b06]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fc8040e0-cf4d-440a-a800-476667c74b06]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd') > 0)   DROP SERVICE [SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd]; if (OBJECT_ID('SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fc835a7c-7f2e-4c35-a60a-d2657fbf7fbd]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fc96bfca-9f84-40a0-a70c-d0160c9f7b63]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fc96bfca-9f84-40a0-a70c-d0160c9f7b63] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63') > 0)   DROP SERVICE [SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63]; if (OBJECT_ID('SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fc96bfca-9f84-40a0-a70c-d0160c9f7b63]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fc96bfca-9f84-40a0-a70c-d0160c9f7b63]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fcab83a0-ae6c-4598-83e4-dd42fff706d3]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fcab83a0-ae6c-4598-83e4-dd42fff706d3] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3') > 0)   DROP SERVICE [SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3]; if (OBJECT_ID('SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fcab83a0-ae6c-4598-83e4-dd42fff706d3]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fcab83a0-ae6c-4598-83e4-dd42fff706d3]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-fcc25dd3-928f-4ed6-be29-84a0ee019769]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-fcc25dd3-928f-4ed6-be29-84a0ee019769] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769') > 0)   DROP SERVICE [SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769]; if (OBJECT_ID('SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-fcc25dd3-928f-4ed6-be29-84a0ee019769]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-fcc25dd3-928f-4ed6-be29-84a0ee019769]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SqlQueryNotificationStoredProcedure-ff82d9a9-30be-41a8-bbae-5677c9b32474]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SqlQueryNotificationStoredProcedure-ff82d9a9-30be-41a8-bbae-5677c9b32474] AS BEGIN BEGIN TRANSACTION; RECEIVE TOP(0) conversation_handle FROM [SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474]; IF (SELECT COUNT(*) FROM [SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474] WHERE message_type_name = 'http://schemas.microsoft.com/SQL/ServiceBroker/DialogTimer') > 0 BEGIN if ((SELECT COUNT(*) FROM sys.services WHERE name = 'SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474') > 0)   DROP SERVICE [SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474]; if (OBJECT_ID('SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474', 'SQ') IS NOT NULL)   DROP QUEUE [SqlQueryNotificationService-ff82d9a9-30be-41a8-bbae-5677c9b32474]; DROP PROCEDURE [SqlQueryNotificationStoredProcedure-ff82d9a9-30be-41a8-bbae-5677c9b32474]; END COMMIT TRANSACTION; END
GO
/****** Object:  StoredProcedure [ADVANCED].[SUSTAIN]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Stored Procedure to collect usage data for City utility accounts.
CREATE PROCEDURE [ADVANCED].[SUSTAIN]
 	(@customer VARCHAR(8000),
 	@startdate DATE,
 	@enddate DATE
 	)
 	AS
 	SELECT cusacc.c_customer AS 'CUSTOMER#',cusacc.c_account AS 'ACCOUNT#',
 	(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt) AS 'SERVICE ADDRESS',
    sc.c_description AS 'AREA',reading.t_readdate AS 'DATE READ',service.c_description AS 'TYPE',reading.n_consumption AS 'CONSUMPTION',
    reading.c_readtype AS 'UNIT',reading.i_days AS 'DAYS',sum(CASE WHEN service.c_description = 'Demand' THEN 0 ELSE billtrans.n_amount END) AS 'CHARGE'
	FROM ADVANCED.BIF003 AS cusacc 
	JOIN ADVANCED.BIF016 AS reading ON cusacc.c_account = reading.c_account
	JOIN ADVANCED.CON009 AS service ON reading.c_service = service.c_service
	JOIN ADVANCED.BIF002 AS address ON cusacc.c_account = address.c_account 
	JOIN ADVANCED.BIF955 AS billtrans ON reading.i_billnumber = billtrans.i_billnumber 
	JOIN ADVANCED.CON094 AS sc ON cusacc.c_sortcode = sc.c_sortorder
	--WHERE cusacc.c_customer = @customer
	WHERE cusacc.c_customer IN (SELECT data FROM advanced.split(@customer,','))
		 AND reading.c_service IN (10,20) AND reading.c_readtype IN ('KH','KW') AND billtrans.c_service IN (10,20) AND cusacc.c_accountstatus = 'AC'
		 AND (reading.t_readdate>= @startdate AND reading.t_readdate<= @enddate)
		
	GROUP BY cusacc.c_customer,cusacc.c_account,(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt),
    sc.c_description,reading.t_readdate,service.c_description,reading.n_consumption, reading.c_readtype,reading.i_days 
    
    OPTION (MAXRECURSION 1000)
GO
/****** Object:  StoredProcedure [ADVANCED].[SUSTAIN_OLD_DATA]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Stored Procedure to collect usage data for City utility accounts for year 2015 and 2016.
CREATE PROCEDURE [ADVANCED].[SUSTAIN_OLD_DATA]
 	(@customer VARCHAR(8000),
 	@startdate DATE,
 	@enddate DATE
 	)
 	AS
SELECT cusacc.c_customer AS 'CUSTOMER#',cusacc.c_account AS 'ACCOUNT#',
 	(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt) AS 'SERVICE ADDRESS',
    address.c_latitude AS 'LATITIDE', address.c_longitude as 'LONGITUDE',sc.c_description AS 'AREA',reading.t_readdate AS 'DATE READ',reading.c_meter AS 'METER',service.c_description AS 'TYPE',
    reading.n_consumption AS 'CONSUMPTION', reading.c_units AS 'UNIT',reading.i_days AS 'DAYS'
 	FROM ADVANCED.BIF003 AS cusacc 
	JOIN ADVANCED.BIF016 AS reading ON cusacc.c_account = reading.c_account
	JOIN ADVANCED.BIF002 AS address ON cusacc.c_account = address.c_account 
	JOIN ADVANCED.CON094 AS sc ON cusacc.c_sortcode = sc.c_sortorder
	JOIN ADVANCED.CON009 AS service ON reading.c_service = service.c_service
	
		WHERE cusacc.c_customer IN (SELECT data FROM advanced.split(@customer,','))
		--WHERE cusacc.c_customer='00047523' 
		AND reading.c_service IN (10,20) AND reading.c_readtype IN ('KH','KW','FP','NP') AND cusacc.c_accountstatus = 'AC'
		 AND (reading.t_readdate>= @startdate AND reading.t_readdate<= @enddate) 
		 AND reading.c_readstatus NOT IN ('NR') AND reading.l_billed = 1
	
	GROUP BY cusacc.c_customer,cusacc.c_account,(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt),
   address.c_latitude, address.c_longitude, sc.c_description,reading.t_readdate,service.c_description,reading.n_consumption, reading.c_units,reading.i_days,reading.c_meter 
    
    OPTION (MAXRECURSION 1000)
GO
/****** Object:  StoredProcedure [ADVANCED].[SUSTAINABILITY]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[SUSTAINABILITY]
 	(@customer VARCHAR(8000),
 	@startdate DATE
 	--@enddate DATE
 	)
 	AS
 	SELECT cusacc.c_customer AS 'CUSTOMER#',cusacc.c_account AS 'ACCOUNT#',
 	(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt) AS 'SERVICE ADDRESS',reading.c_meter AS 'METER',
    address.c_latitude AS 'LATITIDE', address.c_longitude as 'LONGITUDE',sc.c_description AS 'AREA',reading.t_readdate AS 'DATE READ',service.c_description AS 'TYPE',
    reading.n_consumption AS 'CONSUMPTION', reading.c_units AS 'UNIT',reading.i_days AS 'DAYS',sum(CASE WHEN service.c_description='DEMAND' AND (billtrans.c_transcode IN ('ED01','ED02','EW01','EW02','RW01') AND billtrans.c_service=20) THEN billtrans.n_amount ELSE 0 END) AS 'DEMAND CHARGE'
	,sum(CASE WHEN service.c_description='Electric' AND (billtrans.c_transcode IN ('EB02','EB12','EC07','ET02','ET04','ET07','EN07','RW01','EN05','EW07','EC05','ES06','ES07') AND billtrans.c_service=10) THEN billtrans.n_amount ELSE 0 END) AS 'ELECTRIC CHARGE'FROM ADVANCED.BIF003 AS cusacc 
	JOIN ADVANCED.BIF016 AS reading ON cusacc.c_account = reading.c_account
	JOIN ADVANCED.CON009 AS service ON reading.c_service = service.c_service
	JOIN ADVANCED.BIF002 AS address ON cusacc.c_account = address.c_account 
	JOIN ADVANCED.BIF955 AS billtrans ON reading.i_billnumber = billtrans.i_billnumber 
	JOIN ADVANCED.CON094 AS sc ON cusacc.c_sortcode = sc.c_sortorder
	--WHERE cusacc.c_customer = @customer
	
	--WHERE cusacc.c_customer='00139199' and cusacc.c_account='0045782'
	WHERE cusacc.c_customer IN (SELECT data FROM advanced.split(@customer,','))
		 AND reading.c_service IN (10,20) AND reading.c_readtype IN ('KH','KW','FP','NP') AND billtrans.c_service IN (10,20) AND cusacc.c_accountstatus = 'AC'
		 AND (reading.t_readdate>= @startdate AND reading.t_readdate<= GETDATE()) 
		 AND reading.c_readstatus NOT IN ('NR') AND reading.l_billed = 1
		
	GROUP BY cusacc.c_customer,cusacc.c_account,(RTRIM(address.c_streetnum +' '+address.c_streetprefix)+' '+address.c_street+' '+address.c_streetsuffix+' '+address.c_apt),
   address.c_latitude, address.c_longitude, sc.c_description,reading.t_readdate,service.c_description,reading.n_consumption, reading.c_units,reading.i_days,reading.c_meter 
    
    OPTION (MAXRECURSION 1000)
GO
/****** Object:  StoredProcedure [ADVANCED].[TOP25_ELEC_CONS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[TOP25_ELEC_CONS]
		-- Add the parameters for the stored procedure here
	(@FrmReadDate Date = null, 
	@ToReadDate  Date = null)
AS
    SELECT  TOP 25 bill.C_ACCOUNT as Acct,SUM(billblockdetail.N_BCON) as Cons from ADVANCED.BIF951 AS bill
    JOIN ADVANCED.BIF966 AS billblock ON bill.I_BILLNUMBER = billblock.I_BILLNUMBER
    JOIN ADVANCED.BIF967 AS billblockdetail ON billblock.I_BIF966PK = billblockdetail.I_BIF966FK
    WHERE (bill.D_BILLDATE >= @FrmReadDate or @FrmReadDate is null) and (bill.D_BILLDATE <= @ToReadDate or @ToReadDate is null) and (billblock.C_SERVICE = 10 ) 
     --WHERE (bill.D_BILLDATE >= '01-01-2019') and (bill.D_BILLDATE <= '12-31-2019') and (billblock.C_SERVICE = 10 ) 
    and billblockdetail.C_TYPE = 'B'
    GROUP BY bill.C_ACCOUNT
    ORDER BY SUM(billblockdetail.N_BCON) DESC
GO
/****** Object:  StoredProcedure [ADVANCED].[TOP25_IRR_CONS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <11/30/2017>
-- Description:	<Top 25 Irrigation Consumption Accounts>
-- =============================================

CREATE PROCEDURE [ADVANCED].[TOP25_IRR_CONS] 
	-- Add the parameters for the stored procedure here
	(@FrmReadDate Date = null, 
	@ToReadDate  Date = null)
AS
    SELECT  TOP 25 C_ACCOUNT as Acct,SUM(N_CONSUM) as Cons from ADVANCED.BIF952 
    WHERE (D_RDATE >= @FrmReadDate or @FrmReadDate is null) and (D_rdate <= @ToReadDate or @ToReadDate is null) and (C_SERVICE = 31 ) and C_STATUS <> 'C'
    GROUP BY C_ACCOUNT
    ORDER BY SUM(N_CONSUM) DESC;

	
GO
/****** Object:  StoredProcedure [ADVANCED].[TOP25_SEWER_CONS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[TOP25_SEWER_CONS]
		-- Add the parameters for the stored procedure here
	(@FrmReadDate Date = null, 
	@ToReadDate  Date = null)
AS
    SELECT  TOP 25 bill.C_ACCOUNT as Acct,SUM(billblockdetail.N_BCON) as Cons from ADVANCED.BIF951 AS bill
    JOIN ADVANCED.BIF966 AS billblock ON bill.I_BILLNUMBER = billblock.I_BILLNUMBER
    JOIN ADVANCED.BIF967 AS billblockdetail ON billblock.I_BIF966PK = billblockdetail.I_BIF966FK
    WHERE (bill.D_BILLDATE >= @FrmReadDate or @FrmReadDate is null) and (bill.D_BILLDATE <= @ToReadDate or @ToReadDate is null) and (billblock.C_SERVICE = 40 ) 
     --WHERE (bill.D_BILLDATE >= '01-01-2019') and (bill.D_BILLDATE <= '12-31-2019') and (billblock.C_SERVICE = 40 ) 
    and billblockdetail.C_TYPE = 'B'
    GROUP BY bill.C_ACCOUNT
    ORDER BY SUM(billblockdetail.N_BCON) DESC
GO
/****** Object:  StoredProcedure [ADVANCED].[TOP25_WATER_CONS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <12/01/2017>
-- Description:	<Top 25 Water Consumption Accounts>
-- =============================================

CREATE PROCEDURE [ADVANCED].[TOP25_WATER_CONS] 
	-- Add the parameters for the stored procedure here
	(@FrmReadDate Date = null, 
	@ToReadDate  Date = null)
AS
    SELECT  TOP 25 C_ACCOUNT as Acct,SUM(N_CONSUM) as Cons from ADVANCED.BIF952 
    WHERE (D_RDATE >= @FrmReadDate or @FrmReadDate is null) and (D_rdate <= @ToReadDate or @ToReadDate is null) and (C_SERVICE = 30 ) and C_STATUS <> 'C' and
	(C_ACCOUNT <> 159648 and N_CONSUM <> 9999) and (C_ACCOUNT <> 29708 and N_CONSUM <> 9943)
    GROUP BY C_ACCOUNT
    ORDER BY SUM(N_CONSUM) DESC;

	
GO
/****** Object:  StoredProcedure [ADVANCED].[TRAFFIC_SIGNAL_ELEC_USE]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[TRAFFIC_SIGNAL_ELEC_USE]
		-- Add the parameters for the stored procedure here
	(@FrmReadDate Date = null, 
	@ToReadDate  Date = null)
AS

SELECT cusacc.c_account,LTRIM(customer.c_firstname+customer.c_lastname),LTRIM(svcaddress.c_streetnum+' '+svcaddress.c_streetprefix+' '+svcaddress.c_street+' '+svcaddress.c_streetsuffix+' '+svcaddress.c_apt),
	cusacc.c_accountstatus,ISNULL(NULL,SUM(reading.n_consumption)) FROM ADVANCED.BIF003 cusacc
LEFT JOIN ADVANCED.BIF016 AS reading ON cusacc.c_account = reading.c_account AND 
(reading.t_readdate>=@FrmReadDate AND reading.t_readdate<=@ToReadDate) AND reading.l_cancel=0
--(reading.t_readdate>='01-01-2016' AND reading.t_readdate<='12-31-2019') AND reading.l_cancel=0
JOIN ADVANCED.BIF002 AS svcaddress ON cusacc.c_account = svcaddress.c_account
JOIN ADVANCED.BIF001 AS customer ON cusacc.c_customer = customer.c_customer 
WHERE cusacc.C_ACCOUNTTYPE = 'TS'
GROUP BY cusacc.c_account,LTRIM(customer.c_firstname+customer.c_lastname),LTRIM(svcaddress.c_streetnum+' '+svcaddress.c_streetprefix+' '+svcaddress.c_street+' '+svcaddress.c_streetsuffix+' '+svcaddress.c_apt),
cusacc.c_accountstatus
GO
/****** Object:  StoredProcedure [ADVANCED].[UPDATECOLLECTIONSTATUS]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[UPDATECOLLECTIONSTATUS]
   @customer VARCHAR(15),
   @account VARCHAR(15),
   @collectionStatus VARCHAR(2),
   @rtnvalue SMALLINT OUTPUT
AS
   SET NOCOUNT ON
   DeCLARE @lcCust VARCHAR(15),
   @lcAcct VARCHAR(15),
   @lcColStatus VARCHAR(2),
   @lcOldColStatus VARCHAR(2),
   @liSYS200PK BIGINT,
   @liBIF003PK BIGINT


IF LTRIM(RTRIM(ISNULL(@collectionStatus,''))) = ''
	SET @rtnvalue=-19
ELSE
	BEGIN
   SELECT @lcCust=@customer,@lcAcct=@account,@rtnvalue=1,@liSYS200PK=0,@liBIF003PK=0
   SELECT @lcOldColStatus=C_COLLECTIONSTATUS,@liBIF003PK=I_BIF003PK FROM ADVANCED.BIF003 WHERE C_CUSTOMER=@lcCust AND C_ACCOUNT=@lcAcct AND C_ACCOUNTSTATUS='AC'
   IF @liBIF003PK=0 OR @liBIF003PK IS NULL
      set @rtnvalue=-8
   ELSE
	BEGIN
		set @lcColStatus=@collectionStatus
		UPDATE ADVANCED.BIF003 SET C_COLLECTIONSTATUS=@lcColStatus WHERE I_BIF003PK=@liBIF003PK
		IF @@ERROR=0
			BEGIN
				--Add audit
   				INSERT INTO ADVANCED.SYS200(C_FUNC,T_ENTERED,C_USERID,C_TABLE,I_RECKEY) VALUES 
					 ('U',getdate(),'IVR','BIF003',@liBIF003PK)
				SELECT @liSYS200PK=SCOPE_IDENTITY()
   				INSERT INTO ADVANCED.SYS201(I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES 
				 (@liSYS200PK,'C_COLLECTIONSTATUS','S',@lcOldColStatus)
			END
	  	ELSE 
			set @rtnvalue=-15
	END
END   
RETURN @rtnvalue
 
 
--SVN last revision and last change date
--$Revision: 89701 $ $LastChangedDate: 2020-11-02 10:42:01 -0500 (Mon, 02 Nov 2020) $

GO
/****** Object:  StoredProcedure [ADVANCED].[UPDATEPHONENUMBER]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[UPDATEPHONENUMBER]
	@customer VARCHAR(15),
	@phonetype VARCHAR(2),
	@phonenum VARCHAR(120),
	@pk BIGINT,
	@rtnvalue SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE  @lnFlag SMALLINT, @tmpReturn BIGINT, @liSYS200PK BIGINT, @contactID INT, @oldValue varchar(200)

	EXEC ADVANCED.ValidateCustomer @customer,@lnFlag OUTPUT
	IF @lnFlag = 1
	BEGIN
		EXEC ADVANCED.ValidatePhoneType @phonetype,@lnFlag OUTPUT
		IF @lnFlag = 1
		BEGIN
			SELECT @tmpReturn=I_BIF010PK, @oldValue = C_PHONENUMBER FROM ADVANCED.BIF010 WHERE C_CUSTOMER=@customer AND C_PHONETYPE=@phonetype AND C_ACCOUNT='' AND C_ADDTYPE=''
			IF @tmpReturn > 0
			BEGIN
				UPDATE ADVANCED.BIF010 SET C_PHONENUMBER=@phonenum,T_UPDATED=getdate() WHERE I_BIF010PK=@tmpReturn
				IF @@ERROR=0
					BEGIN
					SET @lnFlag=1
					--Add audit
   					INSERT INTO ADVANCED.SYS200(C_FUNC,T_ENTERED,C_USERID,C_TABLE,I_RECKEY) VALUES 
						 ('U',getdate(),'IVR','BIF010',@tmpReturn)
					SELECT @liSYS200PK=SCOPE_IDENTITY()
   					INSERT INTO ADVANCED.SYS201(I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES 
					 (@liSYS200PK,'C_PHONENUMBER','S',@oldValue)
					END	
				ELSE
					SET @lnFlag=-3
			END
			ELSE
			BEGIN
			IF(@phonenum<>'') 
			BEGIN
				EXEC ADVANCED.spGetCounter 'BIF010',@contactID OUTPUT,1
				INSERT INTO ADVANCED.BIF010(C_CUSTOMER,C_ACCOUNT,C_PHONETYPE,C_PHONENUMBER,C_ADDTYPE,T_UPDATED, I_CONTACTINFOID ) VALUES ( @customer,'',@phonetype,@phonenum,'',getdate(), @contactID)
					IF @@ERROR=0
						BEGIN
						SET @lnFlag=1
						SET @tmpReturn = SCOPE_IDENTITY()
						--Add audit
   						INSERT INTO ADVANCED.SYS200(C_FUNC,T_ENTERED,C_USERID,C_TABLE,I_RECKEY) VALUES 
							 ('A',getdate(),'IVR','BIF010',@tmpReturn)
						SELECT @liSYS200PK=SCOPE_IDENTITY()
   						INSERT INTO ADVANCED.SYS201(I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES 
						 (@liSYS200PK,'C_PHONENUMBER','S',@phonenum)
   						INSERT INTO ADVANCED.SYS201(I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES 
						 (@liSYS200PK,'C_CUSTOMER','S',@customer)
   						INSERT INTO ADVANCED.SYS201(I_SYS200FK,C_FIELD,C_DATATYPE,C_DATA) VALUES 
						 (@liSYS200PK,'C_PHONETYPE','S',@phonetype)
						END
					ELSE
						SET @lnFlag=-3
			END
			END
		END
	END
	SELECT @rtnvalue = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 81855 $ $LastChangedDate: 2020-03-26 13:31:20 -0400 (Thu, 26 Mar 2020) $

GO
/****** Object:  StoredProcedure [ADVANCED].[VALIDATEACCOUNT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[VALIDATEACCOUNT]
	@account VARCHAR(15),
	@retflag SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lcAccount VARCHAR(15)

	SELECT @lcAccount=C_ACCOUNT FROM ADVANCED.BIF002 WHERE C_ACCOUNT=@account
	IF @lcAccount IS NULL
		SELECT @retFlag=-4
	ELSE
		SELECT @retFlag=1
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $
GO
/****** Object:  StoredProcedure [ADVANCED].[ValidateContactReason]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidateContactReason]
	@reason VARCHAR(4),
	@retflag SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lcDescription VARCHAR(25)
	SELECT @retFlag=1
	SELECT @lcDescription= C_DESCRIPTION FROM ADVANCED.CON092 WHERE C_CONTACTREASON=@reason 
	IF @lcDescription IS NULL
		SELECT @retFlag=-10
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ValidateCustomer]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidateCustomer]
	@customer VARCHAR(15),
	@retflag SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lcCustomer VARCHAR(15)

	SELECT @lcCustomer=C_CUSTOMER FROM ADVANCED.BIF001 WHERE C_CUSTOMER=@customer 
	IF @lcCustomer IS NULL
		SELECT @retFlag=-6
	ELSE
		SELECT @retFlag=1

RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[VALIDATECUSTOMERACCOUNT]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[VALIDATECUSTOMERACCOUNT]
	@customer VARCHAR(15),
	@account VARCHAR(15),
	@retflag SMALLINT OUTPUT,
	@retacctstatus VARCHAR(2) OUTPUT,
	@retpin VARCHAR(10) OUTPUT,
	@retcolstatus VARCHAR(2) OUTPUT,
	@retcustaccid BIGINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lnFlag SMALLINT

	SELECT @lnFlag=0,@retacctstatus='',@retpin='',@retcolstatus='',@retcustaccid=0

	EXEC ADVANCED.VALIDATECUSTOMER @customer,@lnFlag OUTPUT
	IF @lnFlag = 1
		BEGIN
			EXEC ADVANCED.VALIDATEACCOUNT @account,@lnFlag OUTPUT
			IF @lnFlag = 1
				BEGIN
			        SELECT TOP 1 @retacctstatus=C_ACCOUNTSTATUS,@retpin=C_PIN,@retcolstatus=C_COLLECTIONSTATUS,@retcustaccid=I_CUSTACCTID FROM ADVANCED.BIF003 WHERE C_CUSTOMER=@customer AND C_ACCOUNT=@account ORDER BY C_ACCOUNTSTATUS
				IF @@ROWCOUNT=0
					SET @lnFlag=-7
				END
		END
	SET @retflag = @lnFlag
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ValidatePayAt]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidatePayAt]
	@payat VARCHAR(2),
	@retflag SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcDescription VARCHAR(20)
	SELECT @retFlag=1
	SELECT @lcDescription=C_DESCRIPTION FROM ADVANCED.CON077 WHERE C_CODE=@payat
	IF @lcDescription IS NULL
		SELECT @retFlag=-13
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ValidatePaymentMethod]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidatePaymentMethod]
	@paymeth VARCHAR(2),
	@retflag SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcDescription VARCHAR(20)
	SELECT @retFlag=1

	SELECT @lcDescription=C_DESCRIPTION FROM ADVANCED.CON074 WHERE C_CODE=@paymeth 
	IF @lcDescription IS NULL
		SELECT @retFlag=-14
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ValidatePhoneType]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidatePhoneType]
	@phonetype VARCHAR(2),
	@retflag SMALLINT OUTPUT
AS 
	SET NOCOUNT ON
	DECLARE @lcDescription VARCHAR(15)
	SELECT @retFlag=1
	SELECT @lcDescription = C_DESCRIPTION FROM ADVANCED.CON014 WHERE C_PHONETYPE=@phonetype 
	IF @lcDescription IS NULL
		SELECT @retFlag=-11
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[ValidateUserId]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [ADVANCED].[ValidateUserId]
	@userid VARCHAR(30),
	@retflag SMALLINT OUTPUT
AS
	SET NOCOUNT ON
	DECLARE @lcName VARCHAR(100)

	SELECT @lcName=C_NAME FROM ADVANCED.SYS010 WHERE C_USERID=@userid 
	IF @lcName IS NULL
		SELECT @retFlag=-12
	ELSE
		SELECT @retFlag=1
RETURN
 
 
--SVN last revision and last change date
--$Revision: 70182 $ $LastChangedDate: 2019-03-15 16:55:21 -0400 (Fri, 15 Mar 2019) $

GO
/****** Object:  StoredProcedure [ADVANCED].[VC_Letter_Contribute_250]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <12/19/2017>
-- Description:	<VC Letter Contributions >= $250
-- =============================================

CREATE PROCEDURE [ADVANCED].[VC_Letter_Contribute_250] 
	-- Add the parameters for the stored procedure here
	(@FrmPayDate Date = null, 
	@ToPayDate  Date = null)
AS
    
SELECT D.*
FROM (
  SELECT A.C_CUSTOMER,B.C_ARDESCRIPTION,SUM(A.Y_AMOUNT) AMTBYDONATION
  FROM BIF041 A LEFT OUTER JOIN CON091 B ON A.C_ARCODE = B.C_ARCODE
  WHERE A.C_ARCODE LIKE 'K%' AND A.N_SUMFLAG = 0
  AND  A.T_TRANSDT BETWEEN @FrmPayDate AND @ToPayDate
  AND  (
    A.Y_AMOUNT < 0 
    OR A.C_TRANSCODE LIKE 'NSF%'
	OR A.C_TRANSCODE LIKE 'NSD%'
	OR A.C_TRANSCODE LIKE 'ADK%'
    OR A.C_TRANSCODE LIKE 'REC%'
    )
  GROUP BY A.C_CUSTOMER,B.C_ARDESCRIPTION
  ) AS D,
  (
  SELECT A.C_CUSTOMER,SUM(A.Y_AMOUNT) AMTBYAR
  FROM BIF041 A LEFT OUTER JOIN CON091 B ON A.C_ARCODE = B.C_ARCODE
  WHERE A.C_ARCODE LIKE 'K%' AND A.N_SUMFLAG = 0
  AND  A.T_TRANSDT BETWEEN @FrmPayDate AND @ToPayDate
  AND  (
    A.Y_AMOUNT < 0 
    OR A.C_TRANSCODE LIKE 'NSF%'
	OR A.C_TRANSCODE LIKE 'NSD%'
	OR A.C_TRANSCODE LIKE 'ADK%'
    OR A.C_TRANSCODE LIKE 'REC%'
    )
  GROUP BY A.C_CUSTOMER
  HAVING SUM(A.Y_AMOUNT) <=-250
  ) AS E
WHERE D.C_CUSTOMER = E.C_CUSTOMER
ORDER BY D.C_CUSTOMER;
GO
/****** Object:  StoredProcedure [ADVANCED].[VC_Letter_Contribute_50]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <12/19/2017>
-- Description:	<VC Letter Contributions >= $50 and < $250
-- =============================================

CREATE PROCEDURE [ADVANCED].[VC_Letter_Contribute_50] 
	-- Add the parameters for the stored procedure here
	(@FrmPayDate Date = null, 
	@ToPayDate  Date = null)
AS
    
SELECT D.*
FROM (
  SELECT A.C_CUSTOMER,B.C_ARDESCRIPTION,SUM(A.Y_AMOUNT) AMTBYDONATION
  FROM BIF041 A LEFT OUTER JOIN CON091 B ON A.C_ARCODE = B.C_ARCODE
  WHERE A.C_ARCODE LIKE 'K%' AND A.N_SUMFLAG = 0
  AND  A.T_TRANSDT BETWEEN @FrmPayDate AND @ToPayDate
  AND  (
    A.Y_AMOUNT < 0 
    OR A.C_TRANSCODE LIKE 'NSF%'
	OR A.C_TRANSCODE LIKE 'NSD%'
	OR A.C_TRANSCODE LIKE 'ADK%'
    OR A.C_TRANSCODE LIKE 'REC%'
    )
  GROUP BY A.C_CUSTOMER,B.C_ARDESCRIPTION
  ) AS D,
  (
  SELECT A.C_CUSTOMER,SUM(A.Y_AMOUNT) AMTBYAR
  FROM BIF041 A LEFT OUTER JOIN CON091 B ON A.C_ARCODE = B.C_ARCODE
  WHERE A.C_ARCODE LIKE 'K%' AND A.N_SUMFLAG = 0
  AND  A.T_TRANSDT BETWEEN @FrmPayDate AND @ToPayDate
  AND  (
    A.Y_AMOUNT < 0 
    OR A.C_TRANSCODE LIKE 'NSF%'
	OR A.C_TRANSCODE LIKE 'NSD%'
	OR A.C_TRANSCODE LIKE 'ADK%'
    OR A.C_TRANSCODE LIKE 'REC%'
    )
  GROUP BY A.C_CUSTOMER
  HAVING SUM(A.Y_AMOUNT) >-250 AND SUM(A.Y_AMOUNT) <= -50
  ) AS E
WHERE D.C_CUSTOMER = E.C_CUSTOMER
ORDER BY D.C_CUSTOMER;
GO
/****** Object:  StoredProcedure [ADVANCED].[VC_Letter_Contribute2_250]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <12/19/2017>
-- Description:	<VC Letter Contributions >= $250
-- =============================================

CREATE PROCEDURE [ADVANCED].[VC_Letter_Contribute2_250] 
	-- Add the parameters for the stored procedure here
	(@FrmPayDate Date = null, 
	@ToPayDate  Date = null)
AS
    
select min(C_CUSTOMER) C_CUSTOMER, min(c_longdesc) C_ARDESCRIPTION, ABS(sum(y_defaultcontributionamount)) AMTBYDONATION from bif144 
inner join  gle001 on bif144.c_contributiontranscode = gle001.c_transcode
where d_startdate between @FrmPayDate and @ToPayDate
and d_enddate is not null
-- and C_CUSTOMER in ('00038245', '00291683','00385163' )
group by c_customer, c_longdesc
-- having  sum(y_defaultcontributionamount) > 49.99 and sum(y_defaultcontributionamount) < 250 
order by c_customer;
GO
/****** Object:  StoredProcedure [ADVANCED].[VC_Letter_Contribute2_50]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Tammy Dowling>
-- Create date: <12/19/2017>
-- Description:	<VC Letter Contributions >= $50 and < $250
-- =============================================

CREATE PROCEDURE [ADVANCED].[VC_Letter_Contribute2_50] 
	-- Add the parameters for the stored procedure here
	(@FrmPayDate Date = null, 
	@ToPayDate  Date = null)
AS
    
select min(C_CUSTOMER) C_CUSTOMER, min(c_longdesc) C_ARDESCRIPTION, ABS(sum(y_defaultcontributionamount)) AMTBYDONATION from bif144 
inner join  gle001 on bif144.c_contributiontranscode = gle001.c_transcode
where d_startdate between @FrmPayDate and @ToPayDate
and d_enddate is not null
-- and C_CUSTOMER = '00504383'
group by c_customer, c_longdesc
-- having  sum(y_defaultcontributionamount) > 49.99 and sum(y_defaultcontributionamount) < 250 
order by c_customer;
GO
/****** Object:  StoredProcedure [ADVANCED].[water_service_multiplier]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [ADVANCED].[water_service_multiplier](
	@startdate date
	)
	as(
----Finds accounts with multiplier with date before the input date and no end date----
SELECT DISTINCT cusacc.c_account,accmeter.c_billcode,cusacc.c_cycle,accmeter.c_meter,multi.d_startdate FROM ADVANCED.BIF003 cusacc
	JOIN ADVANCED.BIF005 accmeter ON cusacc.c_account = accmeter.c_account
	JOIN ADVANCED.BIF004 accsrv ON accsrv.c_account = accmeter.c_account
	LEFT JOIN ADVANCED.BIF205 multi ON accsrv.i_servgrpid = multi.i_servgrpid
	WHERE cusacc.c_accountstatus = 'AC' AND accsrv.c_service = '30' AND (accsrv.d_dateremoved IS NULL AND accsrv.d_deactivationdate IS NULL)
	AND multi.c_servicegroup = 30 AND multi.i_multiplier = 20 
	AND accmeter.d_dateremoved IS NULL AND accmeter.c_billcode IN('W01','W02','W03','W04','W05','W06','W07','W08','W09', 'W10', 'W11', 'W12',
	'W13', 'W14', 'W15', 'W16','W33', 'W34', 'W35', 'W36', 'W37', 'W38', 'W39', 'W40', 'W57', 'W58', 'W59',
	'W60', 'W61', 'W62', 'W63', 'W64', 'W73', 'W74', 'W82') AND (multi.d_startdate < @startdate and multi.d_enddate IS NULL) 
	--'W60', 'W61', 'W62', 'W63', 'W64', 'W73', 'W74', 'W82') AND (multi.d_startdate < '05-01-2020' and multi.d_enddate IS NULL) 
	and cusacc.c_cycle in('01','02','03','04','05','06','07','08','09','10','11','12','13')
	-----end-----
	)
GO
/****** Object:  StoredProcedure [dbo].[ApogeeAcountInfoGet]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ApogeeAcountInfoGet]
(
	@AccountNumber as varchar(50)
)
AS
BEGIN
declare @BeginDate as date

set @BeginDate = DATEADD(MM, -13, GETDATE())
set @BeginDate = DATEADD(DD, -DATEPART(dd, @BeginDate), @BeginDate)

SELECT 
	A.C_ACCOUNT
	,B.D_BILLDATE as BillingDate
	,A.C_METER as MeterID
	,c.D_RDATE as ReadingDate  
	,c.i_days as DaysInCycle
	,iif(a.c_rdstat = 'ES' , 'TRUE', 'FALSE')  as IsEstimate
	,A.N_BCON as Usage
	,A.i_billnumber
	,dbo.GetEnergyAmount(A.i_billnumber) as EnergyAmount
	,dbo.GetTotalBillAmount(A.i_billnumber) as TotalBill
from advanced.BIF953 A
	inner join advanced.bif951 B
		on A.i_billnumber = B.i_billnumber 
	inner join advanced.bif952 c
		on A.i_billnumber = c.i_billnumber 
where A.C_rdtype = 'KH' 
		and B.L_CANCEL = 0 
		and B.C_ACCOUNT = @AccountNumber
		and B.D_BILLDATE > @BeginDate
		and c.c_billcode = 'elc' 
		and A.N_BCON > 0
order by B.D_BILLDATE desc 

END
GO
/****** Object:  StoredProcedure [dbo].[GetBatchTotals]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[GetBatchTotals]
	(@StartDate DateTime = null,
	 @EndDate DateTime = null)

as

Select i_batchid as 'Batch Number', sum(y_currenttransactions) as 'Batch Total' from advanced.bif951 
where L_CANCEL = 0 
  and (D_BILLDATE >= @StartDate OR @StartDate IS NULL)
  AND  (D_BILLDATE  <= @EndDate OR @EndDate IS NULL)

group by I_BATCHID order by i_batchid desc
GO
/****** Object:  StoredProcedure [dbo].[GetBatchTotals2]    Script Date: 10/12/2021 2:32:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[GetBatchTotals2]
	(@StartDate DateTime = null,
	 @EndDate DateTime = null)

as

Select i_batchid as 'Batch Number', sum(y_currenttransactions) as 'Batch Total' from advanced.bif951 
where L_CANCEL = 0 
  and ((D_BILLDATE >= @StartDate) OR (@StartDate IS NULL))
  AND  ((D_BILLDATE  <= @EndDate) OR (@EndDate IS NULL))

group by I_BATCHID order by i_batchid desc
GO
